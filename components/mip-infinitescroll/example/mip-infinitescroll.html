<!DOCTYPE html>
<html mip>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <title>MIP page</title>
  <link rel="canonical" href="对应的原页面地址">
  <link rel="stylesheet" href="https://c.mipcdn.com/static/v2/mip.css">
  <style mip-custom>
    /* 自定义样式 */
    li {
      margin:10px;
      border: 1px solid #ccc;
    }
    p {
      text-align: left;
      font-size: 18px;
      margin-top: 20px;
      color: green;
    }
  </style>
</head>
<body>
<p>最简单用法</p>
<mip-infinitescroll data-src="xxx">
  <template type="mip-mustache">
    <li>
      <p>序号{{number}} :{{title}}</p>
      <mip-img src="{{img}}"
               layout="responsive" width="100" height="100">
      </mip-img>
    </li>
  </template>
  <div class="mip-infinitescroll-results"></div>
  <div class="bg">
    <div class="mip-infinitescroll-loading"></div>
  </div>
</mip-infinitescroll>

<p>根据返回值判断请求结束</p>
<mip-infinitescroll data-src="xxx">
  <script type="application/json">
    {
      "rn": "Infinity"
    }
  </script>
  <template type="mip-mustache">
    <li>
      <p>序号{{number}}: {{title}}</p>
      <mip-img src="{{img}}"
               layout="responsive" width="100" height="100">
      </mip-img>
    </li>
  </template>
  <div class="mip-infinitescroll-results"></div>
  <div class="bg">
    <div class="mip-infinitescroll-loading"></div>
  </div>
</mip-infinitescroll>

<p>自定义更多配置</p>
<mip-infinitescroll data-src="xxx" template="myTemplate">
  <script type="application/json">
    {
      "rn": 40,
      "pn": 1,
      "prn": 6,
      "pnName": "pn",
      "bufferHeightPx": 40,
      "timeout": 5000,
      "loadingHtml": "更多数据正在路上",
      "loadFailHtml": "数据加载失败啦",
      "loadOverHtml": "没有数据了哦"
    }
  </script>
  <template type="mip-mustache" id="myTemplate">
    <li>
      <mip-img src="{{img}}"
               layout="responsive" width="100" height="100">
      </mip-img>
      <p>序号:{{number}}</p>
    </li>
  </template>
  <div class="mip-infinitescroll-results"></div>
  <div class="bg">
    <div class="mip-infinitescroll-loading"></div>
  </div>
</mip-infinitescroll>

<p>正常数据示例</p>
  {
    "status": 0,
    "data": {
    "items": [
      {
        "title": "风信子",
        "img": "https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=3495450057,3472067227&fm=5",
        "number": 1
      },
      {
        "title": "紫罗兰",
        "img": "https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3903672296,3890938056&fm=5",
        "number": 2
      },
      {
        "title": "梅花",
        "img": "https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=1564909352,2801480363&fm=5",
        "number": 3
      },
      {
        "title": "茉莉花",
        "img": "https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=3761083504,3769519560&fm=5",
        "number": 4
      },
      {
        "title": "栀子花",
        "img": "https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=3554982299,3562031081&fm=5",
        "number": 5
      },
      {
        "title": "桃花",
        "img": "https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2475781023,3185445088&fm=5",
        "number": 6
      }
    ]
  }
}

<p>空数据示例</p>
当不再有数据时，返回如下数据，item 为空数组。
{
  "status": 0,
  "data": {
    "items": []
  }
}

<script src="https://c.mipcdn.com/static/v2/mip.js"></script>
<script src="/mip-infinitescroll/mip-infinitescroll.js"></script>
</body>
</html>
