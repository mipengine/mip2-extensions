<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <link rel="canonical" href="">
  <title>mip-aurocomplete</title>
  <link rel="stylesheet" href="https://c.mipcdn.com/static/v2/mip.css">
  <style mip-custom>
      /* 自定义样式 */
      .space {
        width: 100vw;
        height: 20px;
      }
    </style>
</head>
<body>
  <h2>基本使用 -- 浏览器端设置提示数据，filter="substring"</h2>
  <mip-form>
    <mip-autocomplete filter="substring">
      <input>
      <script type="application/json">
        {
          "items": ["apple", "orange", "banana"]
        }
      </script>
    </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>基本使用 -- 服务器端获取提示数据，filter="substring"</h2>
  <mip-form>
    <mip-autocomplete filter="substring"
      src="./mockGet.json">
      <input>
    </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>基本使用 -- filter="prefix"</h2>
  <h4>输入框聚焦不显示提示，需输入合法的前缀字符才显示: 请输入 a 或 b 或 o</h4>
  <mip-form>
  <mip-autocomplete filter="prefix">
    <input>
    <script type="application/json">
      {
        "items": ["apple", "orange", "banana"]
      }
    </script>
  </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>基本使用 -- filter="none"</h2>
  <h4>不过滤数据。如果提供了 `max-entries` 属性，则最多只显示 `max-entries` 数目的提示。</h4>
  <mip-form>
  <mip-autocomplete filter="none">
    <input>
    <script type="application/json">
      {
        "items": ["apple", "orange", "banana"]
      }
    </script>
  </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>基本使用 -- min-characters="2"，filter="prefix"</h2>
  <h4>触发筛选提示的用户输入最小字符串的长度为 2: 请输入 ap 或 ba 或 or</h4>
  <mip-form>
  <mip-autocomplete filter="prefix" min-characters="2">
    <input>
    <script type="application/json">
      {
        "items": ["apple", "orange", "banana"]
      }
    </script>
  </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>基本使用 -- max-entries="2"，filter="substring"</h2>
  <h4>最多显示条目为 2 条: 请输入 ap 或 ba </h4>
  <mip-form>
  <mip-autocomplete filter="substring" max-entries="2">
    <input>
    <script type="application/json">
      {
        "items": ["apple", "orange", "banana"]
      }
    </script>
  </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>更多功能 -- 使用 filter-value 属性进行筛选</h2>
  <h4>filter="substring"</h4>
  <mip-form>
    <mip-autocomplete filter="substring"
      filter-value="city">
      <input type="text">
      <script type="application/json">
        {
          "items": [{
            "city": "上海",
            "province": "上海市",
            "population": 98251,
            "value": "我是上海"
          }, {
            "city": "北京",
            "province": "北京市",
            "population": 99321,
            "value": "我是北京"
          }, {
            "city": "济南",
            "province": "山东省",
            "population": 84964,
            "value": "我是济南"
          }]
        }
      </script>
    </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>更多功能 -- 使用 filter-value 属性进行筛选，同时使用 template 模板渲染</h2>
  <h4>filter="substring"</h4>
  <mip-form>
    <mip-autocomplete filter="substring"
      filter-value="city">
      <input type="text">
      <script type="application/json">
        {
          "items": [{
            "city": "上海",
            "province": "上海市",
            "population": 98251,
            "value": "我是上海"
          }, {
            "city": "北京",
            "province": "北京市",
            "population": 99321,
            "value": "我是北京"
          }, {
            "city": "济南",
            "province": "山东省",
            "population": 84964,
            "value": "我是济南"
          }]
        }
      </script>
      <template type="mip-mustache"
        id="mip-template-custom">
        <section class="city-item"
          data-value="{{city}}, {{province}}">
          <section>{{city}}, {{province}}</section>
          <section class="custom-population">点赞数: {{population}}</section>
        </section>
      </template>
    </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>更多功能 -- submit-on-enter="true"</h2>
  <mip-form method="GET" fetch-url="./mockSubmit.json">
    <mip-autocomplete filter="substring" submit-on-enter="true">
      <input name="name">
      <script type="application/json">
        {
          "items": ["apple", "orange", "banana"]
        }
      </script>
    </mip-autocomplete>
  </mip-form>

  <div class="space"></div>

  <h2>更多功能 -- select 事件</h2>
  <mip-form method="GET" fetch-url="./mockSubmit.json" on="select:toast1.show(event.value)">
    <mip-autocomplete filter="substring" submit-on-enter="true">
      <input name="name">
      <script type="application/json">
        {
          "items": ["apple", "orange", "banana"]
        }
      </script>
    </mip-autocomplete>
  </mip-form>
  <mip-toast
    id= "toast1"
    station = "top">
  </mip-toast>

  <script src="https://c.mipcdn.com/static/v2/mip.js"></script>
  <script src="https://c.mipcdn.com/static/v2/mip-form/mip-form.js"></script>
  <script src="https://c.mipcdn.com/static/v2/mip-toast/mip-toast.js"></script>
  <script src="/mip-autocomplete/mip-autocomplete.js"></script>
  <script src="https://c.mipcdn.com/static/v2/mip-mustache/mip-mustache.js"></script>
</body>
</html>
