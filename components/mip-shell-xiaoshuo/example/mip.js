!(function (e, t) { typeof exports === 'object' && typeof module !== 'undefined' ? t() : typeof define === 'function' && define.amd ? define(t) : t() }(0, function () { 'use strict'; window._mipStartTiming = Date.now(), (function (e) { if (!e.fetch || /qqbrowser\/([0-9.]+)/i.test(navigator.userAgent)) { var t = 'URLSearchParams' in e, n = 'Symbol' in e && 'iterator' in Symbol, a = 'FileReader' in e && 'Blob' in e && (function () { try { return new Blob(), !0 } catch (e) { return !1 } }()), r = 'FormData' in e, i = 'ArrayBuffer' in e; if (i) var o = ['[object Int8Array]', '[object Uint8Array]', '[object Uint8ClampedArray]', '[object Int16Array]', '[object Uint16Array]', '[object Int32Array]', '[object Uint32Array]', '[object Float32Array]', '[object Float64Array]'], s = function (e) { return e && DataView.prototype.isPrototypeOf(e) }, c = ArrayBuffer.isView || function (e) { return e && o.indexOf(Object.prototype.toString.call(e)) > -1 }; h.prototype.append = function (e, t) { e = d(e), t = f(t); let n = this.map[e]; this.map[e] = n ? n + ',' + t : t }, h.prototype.delete = function (e) { delete this.map[d(e)] }, h.prototype.get = function (e) { return e = d(e), this.has(e) ? this.map[e] : null }, h.prototype.has = function (e) { return this.map.hasOwnProperty(d(e)) }, h.prototype.set = function (e, t) { this.map[d(e)] = f(t) }, h.prototype.forEach = function (e, t) { for (let n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this) }, h.prototype.keys = function () { let n = []; return this.forEach(function (e, t) { n.push(t) }), p(n) }, h.prototype.values = function () { let t = []; return this.forEach(function (e) { t.push(e) }), p(t) }, h.prototype.entries = function () { let n = []; return this.forEach(function (e, t) { n.push([t, e]) }), p(n) }, n && (h.prototype[Symbol.iterator] = h.prototype.entries); var l = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']; w.prototype.clone = function () { return new w(this, {body: this._bodyInit}) }, b.call(w.prototype), b.call(_.prototype), _.prototype.clone = function () { return new _(this._bodyInit, {status: this.status, statusText: this.statusText, headers: new h(this.headers), url: this.url}) }, _.error = function () { let e = new _(null, {status: 0, statusText: ''}); return e.type = 'error', e }; let u = [301, 302, 303, 307, 308]; _.redirect = function (e, t) { if (u.indexOf(t) === -1) throw new RangeError('Invalid status code'); return new _(null, {status: t, headers: {location: e}}) }, e.Headers = h, e.Request = w, e.Response = _, e.fetch = function (n, i) { return new Promise(function (resolve, reject) { let t = new w(n, i), o = new XMLHttpRequest(); o.onload = function () { let e, i, t = {status: o.status, statusText: o.statusText, headers: (e = o.getAllResponseHeaders() || '', i = new h(), e.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/).forEach(function (e) { let t = e.split(':'), n = t.shift().trim(); if (n) { let r = t.join(':').trim(); i.append(n, r) } }), i)}; t.url = 'responseURL' in o ? o.responseURL : t.headers.get('X-Request-URL'); let n = 'response' in o ? o.response : o.responseText; r(new _(n, t)) }, o.onerror = function () { e(new TypeError('Network request failed')) }, o.ontimeout = function () { e(new TypeError('Network request failed')) }, o.open(t.method, t.url, !0), t.credentials === 'include' ? o.withCredentials = !0 : t.credentials === 'omit' && (o.withCredentials = !1), 'responseType' in o && a && (o.responseType = 'blob'), t.headers.forEach(function (e, t) { o.setRequestHeader(t, e) }), o.send(void 0 === t._bodyInit ? null : t._bodyInit) }) }, e.fetch.polyfill = !0 } function d (e) { if (typeof e !== 'string' && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError('Invalid character in header field name'); return e.toLowerCase() } function f (e) { return typeof e !== 'string' && (e = String(e)), e } function p (t) { let e = {next: function () { let e = t.shift(); return {done: void 0 === e, value: e} }}; return n && (e[Symbol.iterator] = function () { return e }), e } function h (t) { this.map = {}, t instanceof h ? t.forEach(function (e, t) { this.append(t, e) }, this) : Array.isArray(t) ? t.forEach(function (e) { this.append(e[0], e[1]) }, this) : t && Object.getOwnPropertyNames(t).forEach(function (e) { this.append(e, t[e]) }, this) } function v (e) { if (e.bodyUsed) return Promise.reject(new TypeError('Already read')); e.bodyUsed = !0 } function m (n) { return new Promise(function (resolve, reject) { n.onload = function () { e(n.result) }, n.onerror = function () { t(n.error) } }) } function g (e) { let t = new FileReader(), n = m(t); return t.readAsArrayBuffer(e), n } function y (e) { if (e.slice) return e.slice(0); let t = new Uint8Array(e.byteLength); return t.set(new Uint8Array(e)), t.buffer } function b () { return this.bodyUsed = !1, this._initBody = function (e) { if (this._bodyInit = e) if (typeof e === 'string') this._bodyText = e; else if (a && Blob.prototype.isPrototypeOf(e)) this._bodyBlob = e; else if (r && FormData.prototype.isPrototypeOf(e)) this._bodyFormData = e; else if (t && URLSearchParams.prototype.isPrototypeOf(e)) this._bodyText = e.toString(); else if (i && a && s(e)) this._bodyArrayBuffer = y(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]); else { if (!i || !ArrayBuffer.prototype.isPrototypeOf(e) && !c(e)) throw new Error('unsupported BodyInit type'); this._bodyArrayBuffer = y(e) } else this._bodyText = ''; this.headers.get('content-type') || (typeof e === 'string' ? this.headers.set('content-type', 'text/plain;charset=UTF-8') : this._bodyBlob && this._bodyBlob.type ? this.headers.set('content-type', this._bodyBlob.type) : t && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')) }, a && (this.blob = function () { let e = v(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error('could not read FormData body as blob'); return Promise.resolve(new Blob([this._bodyText])) }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? v(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(g) }), this.text = function () { let e, t, n, r = v(this); if (r) return r; if (this._bodyBlob) return e = this._bodyBlob, t = new FileReader(), n = m(t), t.readAsText(e), n; if (this._bodyArrayBuffer) return Promise.resolve(function (e) { for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++)n[r] = String.fromCharCode(t[r]); return n.join('') }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error('could not read FormData body as text'); return Promise.resolve(this._bodyText) }, r && (this.formData = function () { return this.text().then(E) }), this.json = function () { return this.text().then(JSON.parse) }, this } function w (e, t) { let n, r, i = (t = t || {}).body; if (e instanceof w) { if (e.bodyUsed) throw new TypeError('Already read'); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new h(e.headers)), this.method = e.method, this.mode = e.mode, i || e._bodyInit == null || (i = e._bodyInit, e.bodyUsed = !0) } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || 'omit', !t.headers && this.headers || (this.headers = new h(t.headers)), this.method = (n = t.method || this.method || 'GET', r = n.toUpperCase(), l.indexOf(r) > -1 ? r : n), this.mode = t.mode || this.mode || null, this.referrer = null, (this.method === 'GET' || this.method === 'HEAD') && i) throw new TypeError('Body not allowed for GET or HEAD requests'); this._initBody(i) } function E (e) { let i = new FormData(); return e.trim().split('&').forEach(function (e) { if (e) { let t = e.split('='), n = t.shift().replace(/\+/g, ' '), r = t.join('=').replace(/\+/g, ' '); i.append(decodeURIComponent(n), decodeURIComponent(r)) } }), i } function _ (e, t) { t || (t = {}), this.type = 'default', this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = 'statusText' in t ? t.statusText : 'OK', this.headers = new h(t.headers), this.url = t.url || '', this._initBody(e) } }(typeof self !== 'undefined' ? self : window)), (function (e, t) { if (typeof define === 'function' && define.amd)define(['exports', 'module'], t); else if (typeof exports !== 'undefined' && typeof module !== 'undefined')t(exports, module); else { let n = {exports: {}}; t(n.exports, n), e.fetchJsonp = n.exports } }(window, function (e, t) { let n = 5e3, r = 'callback'; function d (t) { try { delete window[t] } catch (e) { window[t] = void 0 } } function f (e) { let t = document.getElementById(e); t && document.getElementsByTagName('head')[0].removeChild(t) }t.exports = function (o) { let a = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], s = o, c = a.timeout || n, l = a.jsonpCallback || r, u = void 0; return new Promise(function (resolve, reject) { let n = a.jsonpCallbackFunction || 'jsonp_' + Date.now() + '_' + Math.ceil(1e5 * Math.random()), r = l + '_' + n; window[n] = function (e) { t({ok: !0, json: function () { return Promise.resolve(e) }}), u && clearTimeout(u), f(r), d(n) }, s += s.indexOf('?') === -1 ? '?' : '&'; let i = document.createElement('script'); i.setAttribute('src', '' + s + l + '=' + n), a.charset && i.setAttribute('charset', a.charset), i.id = r, document.getElementsByTagName('head')[0].appendChild(i), u = setTimeout(function () { e(new Error('JSONP request to ' + o + ' timed out')), d(n), f(r), window[n] = function () { d(n) } }, c), i.onerror = function () { e(new Error('JSONP request to ' + o + ' failed')), d(n), f(r), u && clearTimeout(u) } }) } })); let _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (e) { return typeof e } : function (e) { return e && typeof Symbol === 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, classCallCheck = function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') }, createClass = (function () { function r (e, t) { for (let n = 0; n < t.length; n++) { let r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (e, t, n) { return t && r(e.prototype, t), n && r(e, n), e } }()), defineProperty = function (e, t, n) { return t in e ? Object.defineProperty(e, t, {value: n, enumerable: !0, configurable: !0, writable: !0}) : e[t] = n, e }, get = function e (t, n, r) { t === null && (t = Function.prototype); let i = Object.getOwnPropertyDescriptor(t, n); if (void 0 === i) { let o = Object.getPrototypeOf(t); return o === null ? void 0 : e(o, n, r) } if ('value' in i) return i.value; let a = i.get; return void 0 !== a ? a.call(r) : void 0 }, inherits = function (e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function, not ' + typeof t); e.prototype = Object.create(t && t.prototype, {constructor: {value: e, enumerable: !1, writable: !0, configurable: !0}}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }, possibleConstructorReturn = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || typeof t !== 'object' && typeof t !== 'function' ? e : t }, toConsumableArray = function (e) { if (Array.isArray(e)) { for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t]; return n } return Array.from(e) }; !(function (i, e) { let c = i.document, l = i.Object, r = (function (e) { var t, n, r, i, o = /^[A-Z]+[a-z]/, a = function (e, t) { (t = t.toLowerCase()) in s || (s[e] = (s[e] || []).concat(t), s[t] = s[t.toUpperCase()] = e) }, s = (l.create || l)(null), c = {}; for (n in e) for (i in e[n]) for (r = e[n][i], s[i] = r, t = 0; t < r.length; t++)s[r[t].toLowerCase()] = s[r[t].toUpperCase()] = i; return c.get = function (e) { return typeof e === 'string' ? s[e] || (o.test(e) ? [] : '') : (function (e) { let t, n = []; for (t in s)e.test(t) && n.push(t); return n }(e)) }, c.set = function (e, t) { return o.test(e) ? a(e, t) : a(t, e), c }, c }({collections: {HTMLAllCollection: ['all'], HTMLCollection: ['forms'], HTMLFormControlsCollection: ['elements'], HTMLOptionsCollection: ['options']}, elements: {Element: ['element'], HTMLAnchorElement: ['a'], HTMLAppletElement: ['applet'], HTMLAreaElement: ['area'], HTMLAttachmentElement: ['attachment'], HTMLAudioElement: ['audio'], HTMLBRElement: ['br'], HTMLBaseElement: ['base'], HTMLBodyElement: ['body'], HTMLButtonElement: ['button'], HTMLCanvasElement: ['canvas'], HTMLContentElement: ['content'], HTMLDListElement: ['dl'], HTMLDataElement: ['data'], HTMLDataListElement: ['datalist'], HTMLDetailsElement: ['details'], HTMLDialogElement: ['dialog'], HTMLDirectoryElement: ['dir'], HTMLDivElement: ['div'], HTMLDocument: ['document'], HTMLElement: ['element', 'abbr', 'address', 'article', 'aside', 'b', 'bdi', 'bdo', 'cite', 'code', 'command', 'dd', 'dfn', 'dt', 'em', 'figcaption', 'figure', 'footer', 'header', 'i', 'kbd', 'mark', 'nav', 'noscript', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'small', 'strong', 'sub', 'summary', 'sup', 'u', 'var', 'wbr'], HTMLEmbedElement: ['embed'], HTMLFieldSetElement: ['fieldset'], HTMLFontElement: ['font'], HTMLFormElement: ['form'], HTMLFrameElement: ['frame'], HTMLFrameSetElement: ['frameset'], HTMLHRElement: ['hr'], HTMLHeadElement: ['head'], HTMLHeadingElement: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'], HTMLHtmlElement: ['html'], HTMLIFrameElement: ['iframe'], HTMLImageElement: ['img'], HTMLInputElement: ['input'], HTMLKeygenElement: ['keygen'], HTMLLIElement: ['li'], HTMLLabelElement: ['label'], HTMLLegendElement: ['legend'], HTMLLinkElement: ['link'], HTMLMapElement: ['map'], HTMLMarqueeElement: ['marquee'], HTMLMediaElement: ['media'], HTMLMenuElement: ['menu'], HTMLMenuItemElement: ['menuitem'], HTMLMetaElement: ['meta'], HTMLMeterElement: ['meter'], HTMLModElement: ['del', 'ins'], HTMLOListElement: ['ol'], HTMLObjectElement: ['object'], HTMLOptGroupElement: ['optgroup'], HTMLOptionElement: ['option'], HTMLOutputElement: ['output'], HTMLParagraphElement: ['p'], HTMLParamElement: ['param'], HTMLPictureElement: ['picture'], HTMLPreElement: ['pre'], HTMLProgressElement: ['progress'], HTMLQuoteElement: ['blockquote', 'q', 'quote'], HTMLScriptElement: ['script'], HTMLSelectElement: ['select'], HTMLShadowElement: ['shadow'], HTMLSlotElement: ['slot'], HTMLSourceElement: ['source'], HTMLSpanElement: ['span'], HTMLStyleElement: ['style'], HTMLTableCaptionElement: ['caption'], HTMLTableCellElement: ['td', 'th'], HTMLTableColElement: ['col', 'colgroup'], HTMLTableElement: ['table'], HTMLTableRowElement: ['tr'], HTMLTableSectionElement: ['thead', 'tbody', 'tfoot'], HTMLTemplateElement: ['template'], HTMLTextAreaElement: ['textarea'], HTMLTimeElement: ['time'], HTMLTitleElement: ['title'], HTMLTrackElement: ['track'], HTMLUListElement: ['ul'], HTMLUnknownElement: ['unknown', 'vhgroupv', 'vkeygen'], HTMLVideoElement: ['video']}, nodes: {Attr: ['node'], Audio: ['audio'], CDATASection: ['node'], CharacterData: ['node'], Comment: ['#comment'], Document: ['#document'], DocumentFragment: ['#document-fragment'], DocumentType: ['node'], HTMLDocument: ['#document'], Image: ['img'], Option: ['option'], ProcessingInstruction: ['node'], ShadowRoot: ['#shadow-root'], Text: ['#text'], XMLDocument: ['xml']}})); (void 0 === e ? 'undefined' : _typeof(e)) !== 'object' && (e = {type: e || 'auto'}); var u, n, o, a, d, f, s, p, h, t, v, m, g, y, b = 'registerElement', w = '__' + b + (1e5 * i.Math.random() >> 0), E = 'addEventListener', _ = 'attached', C = 'Callback', S = 'detached', T = 'extends', A = 'attributeChanged' + C, k = _ + C, x = 'connected' + C, O = 'disconnected' + C, P = 'created' + C, I = S + C, M = 'ADDITION', L = 'MODIFICATION', N = 'REMOVAL', R = 'DOMAttrModified', j = 'DOMContentLoaded', D = '<', $ = '=', H = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/, F = ['ANNOTATION-XML', 'COLOR-PROFILE', 'FONT-FACE', 'FONT-FACE-SRC', 'FONT-FACE-URI', 'FONT-FACE-FORMAT', 'FONT-FACE-NAME', 'MISSING-GLYPH'], U = [], V = [], B = '', W = c.documentElement, G = U.indexOf || function (e) { for (var t = this.length; t-- && this[t] !== e;);return t }, z = l.prototype, q = z.hasOwnProperty, X = z.isPrototypeOf, Y = l.defineProperty, J = [], Z = l.getOwnPropertyDescriptor, K = l.getOwnPropertyNames, Q = l.getPrototypeOf, ee = l.setPrototypeOf, te = !!l.__proto__, ne = '__dreCEv1', re = i.customElements, ie = !/^force/.test(e.type) && !!(re && re.define && re.get && re.whenDefined), oe = l.create || l, ae = i.Map || function () { let n, r = [], i = []; return {get: function (e) { return i[G.call(r, e)] }, set: function (e, t) { (n = G.call(r, e)) < 0 ? i[r.push(e) - 1] = t : i[n] = t }} }, se = i.Promise || function (e) { var t = [], n = !1, r = {catch: function () { return r }, then: function (e) { return t.push(e), n && setTimeout(i, 1), r }}; function i (e) { for (n = !0; t.length;)t.shift()(e) } return e(i), r }, ce = !1, le = oe(null), ue = oe(null), de = new ae(), fe = function (e) { return e.toLowerCase() }, pe = l.create || function e (t) { return t ? (e.prototype = t, new e()) : this }, he = ee || (te ? function (e, t) { return e.__proto__ = t, e } : K && Z ? (function () { function n (e, t) { for (var n, r = K(t), i = 0, o = r.length; i < o; i++)n = r[i], q.call(e, n) || Y(e, n, Z(t, n)) } return function (e, t) { for (;n(e, t), (t = Q(t)) && !X.call(t, e););return e } }()) : function (e, t) { for (let n in t)e[n] = t[n]; return e }), ve = i.MutationObserver || i.WebKitMutationObserver, me = (i.HTMLElement || i.Element || i.Node).prototype, ge = !X.call(me, W), ye = ge ? function (e, t, n) { return e[t] = n.value, e } : Y, be = ge ? function (e) { return e.nodeType === 1 } : function (e) { return X.call(me, e) }, we = ge && [], Ee = me.attachShadow, _e = me.cloneNode, Ce = me.dispatchEvent, Se = me.getAttribute, Te = me.hasAttribute, Ae = me.removeAttribute, ke = me.setAttribute, xe = c.createElement, Oe = xe, Pe = ve && {attributes: !0, characterData: !0, attributeOldValue: !0}, Ie = ve || function (e) { je = !1, W.removeEventListener(R, Ie) }, Me = 0, Le = b in c && !/^force-all/.test(e.type), Ne = !0, Re = !1, je = !0, De = !0, $e = !0; function He () { let e = u.splice(0, u.length); for (Me = 0; e.length;)e.shift().call(null, e.shift()) } function Fe (e, t) { for (let n = 0, r = e.length; n < r; n++)Je(e[n], t) } function Ue (t) { return function (e) { be(e) && (Je(e, t), B.length && Fe(e.querySelectorAll(B), t)) } } function Ve (e) { let t = Se.call(e, 'is'), n = e.nodeName.toUpperCase(), r = G.call(U, t ? $ + t.toUpperCase() : D + n); return t && r > -1 && !Be(n, t) ? -1 : r } function Be (e, t) { return B.indexOf(e + '[is="' + t + '"]') > -1 } function We (e) { let t = e.currentTarget, n = e.attrChange, r = e.attrName, i = e.target, o = e[M] || 2, a = e[N] || 3; !$e || i && i !== t || !t[A] || r === 'style' || e.prevValue === e.newValue && (e.newValue !== '' || n !== o && n !== a) || t[A](r, n === o ? null : e.prevValue, n === a ? null : e.newValue) } function Ge (e) { let t = Ue(e); return function (e) { u.push(t, e.target), Me && clearTimeout(Me), Me = setTimeout(He, 1) } } function ze (e) { De && (De = !1, e.currentTarget.removeEventListener(j, ze)), B.length && Fe((e.target || c).querySelectorAll(B), e.detail === S ? S : _), ge && (function () { for (var e, t = 0, n = we.length; t < n; t++)e = we[t], W.contains(e) || (n--, we.splice(t--, 1), Je(e, S)) }()) } function qe (e, t) { ke.call(this, e, t), n.call(this, {target: this}) } function Xe (e, t) { he(e, t), d ? d.observe(e, Pe) : (je && (e.setAttribute = qe, e[w] = a(e), e[E]('DOMSubtreeModified', n)), e[E](R, We)), e[P] && $e && (e.created = !0, e[P](), e.created = !1) } function Ye (e) { throw new Error('A ' + e + ' type is already registered') } function Je (e, t) { let n, r, i = Ve(e); i > -1 && (s(e, V[i]), i = 0, t !== _ || e[_] ? t !== S || e[S] || (e[_] = !1, e[S] = !0, r = 'disconnected', i = 1) : (e[S] = !1, e[_] = !0, r = 'connected', i = 1, ge && G.call(we, e) < 0 && we.push(e)), i && (n = e[t + C] || e[r + C]) && n.call(e)) } function Ze () {} function Ke (e, t, n) { let r = n && n[T] || '', i = t.prototype, o = pe(i), a = t.observedAttributes || J, s = {prototype: o}; ye(o, P, {value: function () { if (ce)ce = !1; else if (!this[ne]) { this[ne] = !0, new t(this), i[P] && i[P].call(this); let e = le[de.get(t)]; (!ie || e.create.length > 1) && tt(this) } }}), ye(o, A, {value: function (e) { G.call(a, e) > -1 && i[A].apply(this, arguments) }}), i[x] && ye(o, k, {value: i[x]}), i[O] && ye(o, I, {value: i[O]}), r && (s[T] = r), e = e.toUpperCase(), le[e] = {constructor: t, create: r ? [r, fe(e)] : [e]}, de.set(t, e), c[b](e.toLowerCase(), s), nt(e), ue[e].r() } function Qe (e) { let t = le[e.toUpperCase()]; return t && t.constructor } function et (e) { return typeof e === 'string' ? e : e && e.is || '' } function tt (e) { for (var t, n = e[A], r = n ? e.attributes : J, i = r.length; i--;)t = r[i], n.call(e, t.name || t.nodeName, null, t.value || t.nodeValue) } function nt (t) { return (t = t.toUpperCase()) in ue || (ue[t] = {}, ue[t].p = new se(function (e) { ue[t].r = e })), ue[t].p } function rt () { re && delete i.customElements, Y(i, 'customElements', {configurable: !0, value: new Ze()}), Y(i, 'CustomElementRegistry', {configurable: !0, value: Ze}); for (let e = function (t) { let r = i[t]; if (r) { i[t] = function (e) { let t, n; return e || (e = this), e[ne] || (ce = !0, t = le[de.get(e.constructor)], (e = (n = ie && t.create.length === 1) ? Reflect.construct(r, J, t.constructor) : c.createElement.apply(c, t.create))[ne] = !0, ce = !1, n || tt(e)), e }, i[t].prototype = r.prototype; try { r.prototype.constructor = i[t] } catch (e) { Y(r, ne, {value: i[t]}) } } }, t = r.get(/^HTML[A-Z]*[a-z]/), n = t.length; n--; e(t[n]));c.createElement = function (e, t) { let n = et(t); return n ? Oe.call(this, e, fe(n)) : Oe.call(this, e) }, Le || (Re = !0, c[b]('')) } if (ve && ((h = c.createElement('div')).innerHTML = '<div><div></div></div>', new ve(function (e, t) { if (e[0] && e[0].type == 'childList' && !e[0].removedNodes[0].childNodes.length) { let n = (h = Z(me, 'innerHTML')) && h.set; n && Y(me, 'innerHTML', {set: function (e) { for (;this.lastChild;) this.removeChild(this.lastChild); n.call(this, e) }}) }t.disconnect(), h = null }).observe(h, {childList: !0, subtree: !0}), h.innerHTML = ''), Le || (ee || te ? (s = function (e, t) { X.call(t, e) || Xe(e, t) }, p = Xe) : p = s = function (e, t) { e[w] || (e[w] = l(!0), Xe(e, t)) }, ge ? (je = !1, t = Z(me, E), v = t.value, m = function (e) { let t = new CustomEvent(R, {bubbles: !0}); t.attrName = e, t.prevValue = Se.call(this, e), t.newValue = null, t[N] = t.attrChange = 2, Ae.call(this, e), Ce.call(this, t) }, g = function (e, t) { let n = Te.call(this, e), r = n && Se.call(this, e), i = new CustomEvent(R, {bubbles: !0}); ke.call(this, e, t), i.attrName = e, i.prevValue = n ? r : null, i.newValue = t, n ? i[L] = i.attrChange = 1 : i[M] = i.attrChange = 0, Ce.call(this, i) }, y = function (e) { let t, n = e.currentTarget, r = n[w], i = e.propertyName; r.hasOwnProperty(i) && (r = r[i], (t = new CustomEvent(R, {bubbles: !0})).attrName = r.name, t.prevValue = r.value || null, t.newValue = r.value = n[i] || null, t.prevValue == null ? t[M] = t.attrChange = 0 : t[L] = t.attrChange = 1, Ce.call(n, t)) }, t.value = function (e, t, n) { e === R && this[A] && this.setAttribute !== g && (this[w] = {className: {name: 'class', value: this.className}}, this.setAttribute = g, this.removeAttribute = m, v.call(this, 'propertychange', y)), v.call(this, e, t, n) }, Y(me, E, t)) : ve || (W[E](R, Ie), W.setAttribute(w, 1), W.removeAttribute(w), je && (n = function (e) { let t, n, r, i = this; if (i === e.target) { for (r in t = i[w], i[w] = n = a(i), n) { if (!(r in t)) return o(0, i, r, t[r], n[r], M); if (n[r] !== t[r]) return o(1, i, r, t[r], n[r], L) } for (r in t) if (!(r in n)) return o(2, i, r, t[r], n[r], N) } }, o = function (e, t, n, r, i, o) { let a = {attrChange: e, currentTarget: t, attrName: n, prevValue: r, newValue: i}; a[o] = e, We(a) }, a = function (e) { for (var t, n, r = {}, i = e.attributes, o = 0, a = i.length; o < a; o++)(n = (t = i[o]).name) !== 'setAttribute' && (r[n] = t.value); return r })), c[b] = function (e, t) { if (n = e.toUpperCase(), Ne && (Ne = !1, ve ? (d = (function (a, s) { function c (e, t) { for (let n = 0, r = e.length; n < r; t(e[n++])); } return new ve(function (e) { for (var t, n, r, i = 0, o = e.length; i < o; i++)(t = e[i]).type === 'childList' ? (c(t.addedNodes, a), c(t.removedNodes, s)) : (n = t.target, $e && n[A] && t.attributeName !== 'style' && (r = Se.call(n, t.attributeName)) !== t.oldValue && n[A](t.attributeName, t.oldValue, r)) }) }(Ue(_), Ue(S))), (f = function (e) { return d.observe(e, {childList: !0, subtree: !0}), e })(c), Ee && (me.attachShadow = function () { return f(Ee.apply(this, arguments)) })) : (u = [], c[E]('DOMNodeInserted', Ge(_)), c[E]('DOMNodeRemoved', Ge(S))), c[E](j, ze), c[E]('readystatechange', ze), me.cloneNode = function (e) { let t = _e.call(this, !!e), n = Ve(t); return n > -1 && p(t, V[n]), e && B.length && (function (e) { for (var t, n = 0, r = e.length; n < r; n++)t = e[n], p(t, V[Ve(t)]) }(t.querySelectorAll(B))), t }), Re) return Re = !1; if (G.call(U, $ + n) + G.call(U, D + n) > -2 && Ye(e), !H.test(n) || G.call(F, n) > -1) throw new Error('The type ' + e + ' is invalid'); var n, r, i = function () { return a ? c.createElement(s, n) : c.createElement(s) }, o = t || z, a = q.call(o, T), s = a ? t[T].toUpperCase() : n; return a && G.call(U, D + s) > -1 && Ye(s), r = U.push((a ? $ : D) + n) - 1, B = B.concat(B.length ? ',' : '', a ? s + '[is="' + e.toLowerCase() + '"]' : s), i.prototype = V[r] = q.call(o, 'prototype') ? o.prototype : pe(me), B.length && Fe(c.querySelectorAll(B), _), i }, c.createElement = Oe = function (e, t) { let n = et(t), r = n ? xe.call(c, e, fe(n)) : xe.call(c, e), i = '' + e, o = G.call(U, (n ? $ : D) + (n || i).toUpperCase()), a = o > -1; return n && (r.setAttribute('is', n = n.toLowerCase()), a && (a = Be(i.toUpperCase(), n))), $e = !c.createElement.innerHTMLHelper, a && p(r, V[o]), r }), Ze.prototype = {constructor: Ze, define: ie ? function (e, t, n) { if (n)Ke(e, t, n); else { let r = e.toUpperCase(); le[r] = {constructor: t, create: [r]}, de.set(t, r), re.define(e, t) } } : Ke, get: ie ? function (e) { return re.get(e) || Qe(e) } : Qe, whenDefined: ie ? function (e) { return se.race([re.whenDefined(e), nt(e)]) } : nt}, !re || /^force/.test(e.type))rt(); else if (!e.noBuiltIn) try { !(function (e, t, n) { let r = new RegExp("^<a\\s+is=('|\")" + n + '\\1></a>$'); if (t[T] = 'a', (e.prototype = pe(HTMLAnchorElement.prototype)).constructor = e, i.customElements.define(n, e, t), !r.test(c.createElement('a', {is: n}).outerHTML) || !r.test((new e()).outerHTML)) throw t }(function e () { return Reflect.construct(HTMLAnchorElement, [], e) }, {}, 'document-register-element-a')) } catch (e) { rt() } if (!e.noBuiltIn) try { xe.call(c, 'a', 'a') } catch (e) { fe = function (e) { return {is: e.toLowerCase()} } } }(window)), (function (e) { let t, n = e.Promise, r = n && 'resolve' in n && 'reject' in n && 'all' in n && 'race' in n && (new n(function (e) { t = e }), typeof t === 'function'); typeof exports !== 'undefined' && exports ? (exports.Promise = r ? n : C, exports.Polyfill = C) : typeof define === 'function' && define.amd ? define(function () { return r ? n : C }) : r || (e.Promise = C); let i = 'pending', o = 'sealed', a = 'fulfilled', s = 'rejected', c = function () {}; function l (e) { return Object.prototype.toString.call(e) === '[object Array]' } let u, d = typeof setImmediate !== 'undefined' ? setImmediate : setTimeout, f = []; function p () { for (let e = 0; e < f.length; e++)f[e][0](f[e][1]); u = !(f = []) } function h (e, t) { f.push([e, t]), u || (u = !0, d(p, 0)) } function v (e) { let t = e.owner, n = t.state_, r = t.data_, i = e[n], o = e.then; if (typeof i === 'function') { n = a; try { r = i(r) } catch (e) { b(o, e) } }m(o, r) || (n === a && g(o, r), n === s && b(o, r)) } function m (t, n) { let r; try { if (t === n) throw new TypeError('A promises callback cannot return that same promise.'); if (n && (typeof n === 'function' || (void 0 === n ? 'undefined' : _typeof(n)) === 'object')) { let e = n.then; if (typeof e === 'function') return e.call(n, function (e) { r || (r = !0, n !== e ? g(t, e) : y(t, e)) }, function (e) { r || (r = !0, b(t, e)) }), !0 } } catch (e) { return r || b(t, e), !0 } return !1 } function g (e, t) { e !== t && m(e, t) || y(e, t) } function y (e, t) { e.state_ === i && (e.state_ = o, e.data_ = t, h(E, e)) } function b (e, t) { e.state_ === i && (e.state_ = o, e.data_ = t, h(_, e)) } function w (e) { let t = e.then_; e.then_ = void 0; for (let n = 0; n < t.length; n++)v(t[n]) } function E (e) { e.state_ = a, w(e) } function _ (e) { e.state_ = s, w(e) } function C (e) { if (typeof e !== 'function') throw new TypeError('Promise constructor takes a function argument'); if (this instanceof C == !1) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."); this.then_ = [], (function (e, t) { function n (e) { b(t, e) } try { e(function (e) { g(t, e) }, n) } catch (e) { n(e) } }(e, this)) }C.prototype = {constructor: C, state_: i, then_: null, data_: void 0, then: function (e, t) { let n = {owner: this, then: new this.constructor(c), fulfilled: e, rejected: t}; return this.state_ === a || this.state_ === s ? h(v, n) : this.then_.push(n), n.then }, catch: function (e) { return this.then(null, e) }}, C.all = function (s) { if (!l(s)) throw new TypeError('You must pass an array to Promise.all().'); return new this(function (n, e) { let r = [], i = 0; function t (t) { return i++, function (e) { r[t] = e, --i || n(r) } } for (var o, a = 0; a < s.length; a++)(o = s[a]) && typeof o.then === 'function' ? o.then(t(a), e) : r[a] = o; i || n(r) }) }, C.race = function (i) { if (!l(i)) throw new TypeError('You must pass an array to Promise.race().'); return new this(function (e, t) { for (var n, r = 0; r < i.length; r++)(n = i[r]) && typeof n.then === 'function' ? n.then(e, t) : e(n) }) }, C.resolve = function (t) { return t && (void 0 === t ? 'undefined' : _typeof(t)) === 'object' && t.constructor === this ? t : new this(function (e) { e(t) }) }, C.reject = function (n) { return new this(function (e, t) { t(n) }) } }(typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : window)), Object.assign || Object.defineProperty(Object, 'assign', {enumerable: !1, configurable: !0, writable: !0, value: function (e, t) { if (e == null) throw new TypeError('Cannot convert first argument to object'); for (var n = Object(e), r = 1; r < arguments.length; r++) { let i = arguments[r]; if (i != null) for (let o = Object.keys(Object(i)), a = 0, s = o.length; a < s; a++) { let c = o[a], l = Object.getOwnPropertyDescriptor(i, c); void 0 !== l && l.enumerable && (n[c] = i[c]) } } return n }}), (function (e, t) { if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) == 'object' && (typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object')module.exports = t(); else if (typeof define === 'function' && define.amd)define([], t); else { let n = t(); for (let r in n)((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) == 'object' ? exports : e)[r] = n[r] } }(window, function () { return (function (n) { let r = {}; function i (e) { if (r[e]) return r[e].exports; let t = r[e] = {i: e, l: !1, exports: {}}; return n[e].call(t.exports, t, t.exports, i), t.l = !0, t.exports } return i.m = n, i.c = r, i.d = function (e, t, n) { i.o(e, t) || Object.defineProperty(e, t, {enumerable: !0, get: n}) }, i.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {value: 'Module'}), Object.defineProperty(e, '__esModule', {value: !0}) }, i.t = function (t, e) { if (1 & e && (t = i(t)), 8 & e) return t; if (4 & e && (void 0 === t ? 'undefined' : _typeof(t)) == 'object' && t && t.__esModule) return t; let n = Object.create(null); if (i.r(n), Object.defineProperty(n, 'default', {enumerable: !0, value: t}), 2 & e && typeof t !== 'string') for (let r in t)i.d(n, r, function (e) { return t[e] }.bind(null, r)); return n }, i.n = function (e) { let t = e && e.__esModule ? function () { return e.default } : function () { return e }; return i.d(t, 'a', t), t }, i.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, i.p = '', i(i.s = 243) }([function (e, t) { let n = e.exports = {version: '2.5.7'}; typeof __e === 'number' && (__e = n) }, function (e, t, n) { let r = n(72)('wks'), i = n(31), o = n(3).Symbol, a = typeof o === 'function'; (e.exports = function (e) { return r[e] || (r[e] = a && o[e] || (a ? o : i)('Symbol.' + e)) }).store = r }, function (e, t, n) { let m = n(3), g = n(0), y = n(8), b = n(9), w = n(12), r = function e (t, n, r) { let i, o, a, s = t & e.F, c = t & e.G, l = t & e.S, u = t & e.P, d = t & e.B, f = t & e.W, p = c ? g : g[n] || (g[n] = {}), h = p.prototype, v = c ? m : l ? m[n] : (m[n] || {}).prototype; for (i in c && (r = n), r)(o = !s && v && void 0 !== v[i]) && w(p, i) || (a = o ? v[i] : r[i], p[i] = c && typeof v[i] !== 'function' ? r[i] : d && o ? y(a, m) : f && v[i] == a ? (function (r) { let e = function (e, t, n) { if (this instanceof r) { switch (arguments.length) { case 0:return new r(); case 1:return new r(e); case 2:return new r(e, t) } return new r(e, t, n) } return r.apply(this, arguments) }; return e.prototype = r.prototype, e }(a)) : u && typeof a === 'function' ? y(Function.call, a) : a, u && ((p.virtual || (p.virtual = {}))[i] = a, t & e.R && h && !h[i] && b(h, i, a))) }; r.F = 1, r.G = 2, r.S = 4, r.P = 8, r.B = 16, r.W = 32, r.U = 64, r.R = 128, e.exports = r }, function (e, t) { let n = e.exports = typeof window !== 'undefined' && window.Math == Math ? window : typeof self !== 'undefined' && self.Math == Math ? self : Function('return this')(); typeof __g === 'number' && (__g = n) }, function (e, t) { e.exports = function (e) { return (void 0 === e ? 'undefined' : _typeof(e)) == 'object' ? e !== null : typeof e === 'function' } }, function (e, t, n) { let r = n(7), i = n(109), o = n(75), a = Object.defineProperty; t.f = n(6) ? Object.defineProperty : function (e, t, n) { if (r(e), t = o(t, !0), r(n), i) try { return a(e, t, n) } catch (e) {} if ('get' in n || 'set' in n) throw TypeError('Accessors not supported!'); return 'value' in n && (e[t] = n.value), e } }, function (e, t, n) { e.exports = !n(13)(function () { return Object.defineProperty({}, 'a', {get: function () { return 7 }}).a != 7 }) }, function (e, t, n) { let r = n(4); e.exports = function (e) { if (!r(e)) throw TypeError(e + ' is not an object!'); return e } }, function (e, t, n) { let o = n(22); e.exports = function (r, i, e) { if (o(r), void 0 === i) return r; switch (e) { case 1:return function (e) { return r.call(i, e) }; case 2:return function (e, t) { return r.call(i, e, t) }; case 3:return function (e, t, n) { return r.call(i, e, t, n) } } return function () { return r.apply(i, arguments) } } }, function (e, t, n) { let r = n(5), i = n(21); e.exports = n(6) ? function (e, t, n) { return r.f(e, t, i(1, n)) } : function (e, t, n) { return e[t] = n, e } }, function (e, t, n) { e.exports = {default: n(233), __esModule: !0} }, function (e, t, n) { let r = n(74), i = n(78); e.exports = function (e) { return r(i(e)) } }, function (e, t) { let n = {}.hasOwnProperty; e.exports = function (e, t) { return n.call(e, t) } }, function (e, t) { e.exports = function (e) { try { return !!e() } catch (e) { return !0 } } }, function (e, t) { e.exports = {} }, function (e, t, n) { let r = n(239)(!0); n(77)(String, 'String', function (e) { this._t = String(e), this._i = 0 }, function () { let e, t = this._t, n = this._i; return n >= t.length ? {value: void 0, done: !0} : (e = r(t, n), this._i += e.length, {value: e, done: !1}) }) }, function (e, t, n) { let f = n(8), p = n(99), h = n(98), v = n(7), m = n(32), g = n(63), y = {}, b = {}; (t = e.exports = function (e, t, n, r, i) { let o, a, s, c, l = i ? function () { return e } : g(e), u = f(n, r, t ? 2 : 1), d = 0; if (typeof l !== 'function') throw TypeError(e + ' is not iterable!'); if (h(l)) { for (o = m(e.length); d < o; d++) if ((c = t ? u(v(a = e[d])[0], a[1]) : u(e[d])) === y || c === b) return c } else for (s = l.call(e); !(a = s.next()).done;) if ((c = p(s, u, a.value, t)) === y || c === b) return c }).BREAK = y, t.RETURN = b }, function (e, t, n) { n(235); for (let r = n(3), i = n(9), o = n(14), a = n(1)('toStringTag'), s = 'CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(','), c = 0; c < s.length; c++) { let l = s[c], u = r[l], d = u && u.prototype; d && !d[a] && i(d, a, l), o[l] = o.Array } }, function (e, t, n) { let r = n(78); e.exports = function (e) { return Object(r(e)) } }, function (e, t, n) { let r = n(5).f, i = n(12), o = n(1)('toStringTag'); e.exports = function (e, t, n) { e && !i(e = n ? e : e.prototype, o) && r(e, o, {configurable: !0, value: t}) } }, function (e, t) { let n = {}.toString; e.exports = function (e) { return n.call(e).slice(8, -1) } }, function (e, t) { e.exports = function (e, t) { return {enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t} } }, function (e, t) { e.exports = function (e) { if (typeof e !== 'function') throw TypeError(e + ' is not a function!'); return e } }, function (e, t) { e.exports = !0 }, function (e, t, n) { t.__esModule = !0; let r = a(n(80)), i = a(n(10)), o = typeof i.default === 'function' && _typeof(r.default) == 'symbol' ? function (e) { return void 0 === e ? 'undefined' : _typeof(e) } : function (e) { return e && typeof i.default === 'function' && e.constructor === i.default && e !== i.default.prototype ? 'symbol' : void 0 === e ? 'undefined' : _typeof(e) }; function a (e) { return e && e.__esModule ? e : {default: e} }t.default = typeof i.default === 'function' && o(r.default) === 'symbol' ? function (e) { return void 0 === e ? 'undefined' : o(e) } : function (e) { return e && typeof i.default === 'function' && e.constructor === i.default && e !== i.default.prototype ? 'symbol' : void 0 === e ? 'undefined' : o(e) } }, function (e, t, n) { let i = n(2), o = n(0), a = n(13); e.exports = function (e, t) { let n = (o.Object || {})[e] || Object[e], r = {}; r[e] = t(n), i(i.S + i.F * a(function () { n(1) }), 'Object', r) } }, function (e, t, n) { e.exports = {default: n(215), __esModule: !0} }, function (e, t, n) { let i = n(20), o = n(1)('toStringTag'), a = i(function () { return arguments }()) == 'Arguments'; e.exports = function (e) { let t, n, r; return void 0 === e ? 'Undefined' : e === null ? 'Null' : typeof (n = (function (e, t) { try { return e[t] } catch (e) {} }(t = Object(e), o))) === 'string' ? n : a ? i(t) : (r = i(t)) == 'Object' && typeof t.callee === 'function' ? 'Arguments' : r } }, function (e, t) { t.f = {}.propertyIsEnumerable }, function (e, t, n) { var r = n(31)('meta'), i = n(4), o = n(12), a = n(5).f, s = 0, c = Object.isExtensible || function () { return !0 }, l = !n(13)(function () { return c(Object.preventExtensions({})) }), u = function (e) { a(e, r, {value: {i: 'O' + ++s, w: {}}}) }, d = e.exports = {KEY: r, NEED: !1, fastKey: function (e, t) { if (!i(e)) return (void 0 === e ? 'undefined' : _typeof(e)) == 'symbol' ? e : (typeof e === 'string' ? 'S' : 'P') + e; if (!o(e, r)) { if (!c(e)) return 'F'; if (!t) return 'E'; u(e) } return e[r].i }, getWeak: function (e, t) { if (!o(e, r)) { if (!c(e)) return !0; if (!t) return !1; u(e) } return e[r].w }, onFreeze: function (e) { return l && d.NEED && c(e) && !o(e, r) && u(e), e }} }, function (e, t, n) { t.f = n(1) }, function (e, t) { let n = 0, r = Math.random(); e.exports = function (e) { return 'Symbol('.concat(void 0 === e ? '' : e, ')_', (++n + r).toString(36)) } }, function (e, t, n) { let r = n(79), i = Math.min; e.exports = function (e) { return e > 0 ? i(r(e), 9007199254740991) : 0 } }, function (e, t, n) { let r = n(106), i = n(71); e.exports = Object.keys || function (e) { return r(e, i) } }, function (e, t, r) { var i = r(7), o = r(107), a = r(71), s = r(73)('IE_PROTO'), c = function () {}, l = function () { let e, t = r(76)('iframe'), n = a.length; for (t.style.display = 'none', r(105).appendChild(t), t.src = 'javascript:', (e = t.contentWindow.document).open(), e.write('<script>document.F=Object<\/script>'), e.close(), l = e.F; n--;) delete l.prototype[a[n]]; return l() }; e.exports = Object.create || function (e, t) { let n; return e !== null ? (c.prototype = i(e), n = new c(), c.prototype = null, n[s] = e) : n = l(), void 0 === t ? n : o(n, t) } }, function (e, t, n) { function r (e, t) { for (var n = [], r = {}, i = 0; i < t.length; i++) { let o = t[i], a = o[0], s = {id: e + ':' + i, css: o[1], media: o[2], sourceMap: o[3]}; r[a] ? r[a].parts.push(s) : n.push(r[a] = {id: a, parts: [s]}) } return n }n.r(t), n.d(t, 'default', function () { return r }) }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(37)) && r.__esModule ? r : {default: r}; t.default = function (e) { if (Array.isArray(e)) { for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t]; return n } return (0, i.default)(e) } }, function (e, t, n) { e.exports = {default: n(158), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(37)) && r.__esModule ? r : {default: r}; t.default = function (e) { return Array.isArray(e) ? e : (0, i.default)(e) } }, function (e, t, n) { t.__esModule = !0, t.default = {} }, function (e, t, n) { t.__esModule = !0, t.default = function (e, t, n) { if (e === n) throw new ReferenceError(t + ' is not defined - temporal dead zone'); return e } }, function (e, t, n) { t.__esModule = !0; let r = o(n(167)), i = o(n(164)); function o (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { return (0, i.default)((0, r.default)(e, {raw: {value: (0, i.default)(t)}})) } }, function (e, t, n) { t.__esModule = !0, t.default = function (e, t) { return e.raw = t, e } }, function (e, t, n) { t.__esModule = !0; let r = i(n(83)), c = i(n(58)); function i (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { if (Array.isArray(e)) return e; if ((0, r.default)(Object(e))) return (function (e, t) { let n = [], r = !0, i = !1, o = void 0; try { for (var a, s = (0, c.default)(e); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0); } catch (e) { i = !0, o = e } finally { try { !r && s.return && s.return() } finally { if (i) throw o } } return n }(e, t)); throw new TypeError('Invalid attempt to destructure non-iterable instance') } }, function (e, t, n) { t.__esModule = !0; let o = r(n(58)), a = r(n(83)); function r (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { if (Array.isArray(e)) return e; if ((0, a.default)(Object(e))) { for (var n, r = [], i = (0, o.default)(e); !(n = i.next()).done && (r.push(n.value), !t || r.length !== t););return r } throw new TypeError('Invalid attempt to destructure non-iterable instance') } }, function (e, t, n) { (function (e) { t.__esModule = !0, t.default = void 0 === e ? self : e }).call(this, n(175)) }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(24)) && r.__esModule ? r : {default: r}; t.default = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || (void 0 === t ? 'undefined' : (0, i.default)(t)) !== 'object' && typeof t !== 'function' ? e : t } }, function (e, t, n) { t.__esModule = !0, t.default = function (e, t) { let n = {}; for (let r in e)t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]); return n } }, function (e, t, n) { t.__esModule = !0, t.default = function (e) { if (e == null) throw new TypeError('Cannot destructure undefined') } }, function (e, t, n) { t.__esModule = !0, t.default = function (e, t) { if (e !== t) throw new TypeError('Cannot instantiate an arrow function') } }, function (e, t, n) { t.__esModule = !0, t.default = function (e) { if (e && e.__esModule) return e; let t = {}; if (e != null) for (let n in e)Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t } }, function (e, t, n) { t.__esModule = !0, t.default = function (e) { return e && e.__esModule ? e : {default: e} } }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(26)) && r.__esModule ? r : {default: r}; t.default = function (e, t, n) { return t in e ? (0, i.default)(e, t, {value: n, enumerable: !0, configurable: !0, writable: !0}) : e[t] = n, e } }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(26)) && r.__esModule ? r : {default: r}; t.default = function (e, t) { for (let n in t) { let r = t[n]; r.configurable = r.enumerable = !0, 'value' in r && (r.writable = !0), (0, i.default)(e, n, r) } return e } }, function (e, t, n) { e.exports = {default: n(212), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(26)) && r.__esModule ? r : {default: r}; t.default = (function () { function r (e, t) { for (let n = 0; n < t.length; n++) { let r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), (0, i.default)(e, r.key, r) } } return function (e, t, n) { return t && r(e.prototype, t), n && r(e, n), e } }()) }, function (e, t, n) { t.__esModule = !0, t.default = function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } }, function (e, t, n) { t.__esModule = !0; let r, c = (r = n(65)) && r.__esModule ? r : {default: r}; t.default = function (e) { return function () { let s = e.apply(this, arguments); return new c.default(function (o, a) { return (function t (e, n) { try { var r = s[e](n), i = r.value } catch (e) { return void a(e) } if (!r.done) return c.default.resolve(i).then(function (e) { t('next', e) }, function (e) { t('throw', e) }); o(i) }('next')) }) } } }, function (e, t, n) { e.exports = {default: n(220), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let r = a(n(58)), i = a(n(80)), o = a(n(10)); function a (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e) { if (typeof o.default === 'function') { if (o.default.asyncIterator) { let t = e[o.default.asyncIterator]; if (t != null) return t.call(e) } if (i.default) return (0, r.default)(e) } throw new TypeError('Object is not async iterable') } }, function (e, t, n) { t.__esModule = !0; let r = i(n(10)), u = i(n(65)); function i (e) { return e && e.__esModule ? e : {default: e} }t.default = (function () { function l (e) { this.value = e } function t (i) { let o, a; function s (e, t) { try { let n = i[e](t), r = n.value; r instanceof l ? u.default.resolve(r.value).then(function (e) { s('next', e) }, function (e) { s('throw', e) }) : c(n.done ? 'return' : 'normal', n.value) } catch (e) { c('throw', e) } } function c (e, t) { switch (e) { case 'return':o.resolve({value: t, done: !0}); break; case 'throw':o.reject(t); break; default:o.resolve({value: t, done: !1}) }(o = o.next) ? s(o.key, o.arg) : a = null } this._invoke = function (r, i) { return new u.default(function (e, t) { let n = {key: r, arg: i, resolve: e, reject: t, next: null}; a ? a = a.next = n : (o = a = n, s(r, i)) }) }, typeof i.return !== 'function' && (this.return = void 0) } return typeof r.default === 'function' && r.default.asyncIterator && (t.prototype[r.default.asyncIterator] = function () { return this }), t.prototype.next = function (e) { return this._invoke('next', e) }, t.prototype.throw = function (e) { return this._invoke('throw', e) }, t.prototype.return = function (e) { return this._invoke('return', e) }, {wrap: function (e) { return function () { return new t(e.apply(this, arguments)) } }, await: function (e) { return new l(e) }} }()) }, function (e, t, n) { let i = n(9); e.exports = function (e, t, n) { for (let r in t)n && e[r] ? e[r] = t[r] : i(e, r, t[r]); return e } }, function (e, t, n) { let i = n(22); e.exports.f = function (e) { return new function (e) { let n, r; this.promise = new e(function (e, t) { if (void 0 !== n || void 0 !== r) throw TypeError('Bad Promise constructor'); n = e, r = t }), this.resolve = i(n), this.reject = i(r) }(e) } }, function (e, t, n) { let r = n(27), i = n(1)('iterator'), o = n(14); e.exports = n(0).getIteratorMethod = function (e) { if (e != null) return e[i] || e['@@iterator'] || o[r(e)] } }, function (e, t) { e.exports = function (e, t, n, r) { if (!(e instanceof t) || void 0 !== r && r in e) throw TypeError(n + ': incorrect invocation!'); return e } }, function (e, t, n) { e.exports = {default: n(229), __esModule: !0} }, function (e, t) {}, function (e, t, n) { let r = n(28), i = n(21), o = n(11), a = n(75), s = n(12), c = n(109), l = Object.getOwnPropertyDescriptor; t.f = n(6) ? l : function (e, t) { if (e = o(e), t = a(t, !0), c) try { return l(e, t) } catch (e) {} if (s(e, t)) return i(!r.f.call(e, t), e[t]) } }, function (e, t) { t.f = Object.getOwnPropertySymbols }, function (e, t, n) { let r = n(3), i = n(0), o = n(23), a = n(30), s = n(5).f; e.exports = function (e) { let t = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {}); e.charAt(0) == '_' || e in t || s(t, e, {value: a.f(e)}) } }, function (e, t, n) { let r = n(12), i = n(18), o = n(73)('IE_PROTO'), a = Object.prototype; e.exports = Object.getPrototypeOf || function (e) { return e = i(e), r(e, o) ? e[o] : typeof e.constructor === 'function' && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null } }, function (e, t) { e.exports = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',') }, function (e, t, n) { let r = n(0), i = n(3), o = i['__core-js_shared__'] || (i['__core-js_shared__'] = {}); (e.exports = function (e, t) { return o[e] || (o[e] = void 0 !== t ? t : {}) })('versions', []).push({version: r.version, mode: n(23) ? 'pure' : 'global', copyright: '\xa9 2018 Denis Pushkarev (zloirock.ru)'}) }, function (e, t, n) { let r = n(72)('keys'), i = n(31); e.exports = function (e) { return r[e] || (r[e] = i(e)) } }, function (e, t, n) { let r = n(20); e.exports = Object('z').propertyIsEnumerable(0) ? Object : function (e) { return r(e) == 'String' ? e.split('') : Object(e) } }, function (e, t, n) { let i = n(4); e.exports = function (e, t) { if (!i(e)) return e; let n, r; if (t && typeof (n = e.toString) === 'function' && !i(r = n.call(e))) return r; if (typeof (n = e.valueOf) === 'function' && !i(r = n.call(e))) return r; if (!t && typeof (n = e.toString) === 'function' && !i(r = n.call(e))) return r; throw TypeError("Can't convert object to primitive value") } }, function (e, t, n) { let r = n(4), i = n(3).document, o = r(i) && r(i.createElement); e.exports = function (e) { return o ? i.createElement(e) : {} } }, function (e, t, n) { let b = n(23), w = n(2), E = n(108), _ = n(9), C = n(14), S = n(238), T = n(19), A = n(70), k = n(1)('iterator'), x = !([].keys && 'next' in [].keys()), O = function () { return this }; e.exports = function (e, t, n, r, i, o, a) { S(n, t, r); var s, c, l, u = function (e) { if (!x && e in h) return h[e]; switch (e) { case 'keys':case 'values':return function () { return new n(this, e) } } return function () { return new n(this, e) } }, d = t + ' Iterator', f = i == 'values', p = !1, h = e.prototype, v = h[k] || h['@@iterator'] || i && h[i], m = v || u(i), g = i ? f ? u('entries') : m : void 0, y = t == 'Array' && h.entries || v; if (y && (l = A(y.call(new e()))) !== Object.prototype && l.next && (T(l, d, !0), b || typeof l[k] === 'function' || _(l, k, O)), f && v && v.name !== 'values' && (p = !0, m = function () { return v.call(this) }), b && !a || !x && !p && h[k] || _(h, k, m), C[t] = m, C[d] = O, i) if (s = {values: f ? m : u('values'), keys: o ? m : u('keys'), entries: g}, a) for (c in s)c in h || E(h, c, s[c]); else w(w.P + w.F * (x || p), t, s); return s } }, function (e, t) { e.exports = function (e) { if (e == null) throw TypeError("Can't call method on  " + e); return e } }, function (e, t) { let n = Math.ceil, r = Math.floor; e.exports = function (e) { return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e) } }, function (e, t, n) { e.exports = {default: n(240), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let o = r(n(80)), a = r(n(10)), s = r(n(65)); function r (e) { return e && e.__esModule ? e : {default: e} }t.default = function (r, e) { let t = {}, i = !1; function n (t, n) { return i = !0, n = new s.default(function (e) { e(r[t](n)) }), {done: !1, value: e(n)} } return typeof a.default === 'function' && o.default && (t[o.default] = function () { return this }), t.next = function (e) { return i ? (i = !1, e) : n('next', e) }, typeof r.throw === 'function' && (t.throw = function (e) { if (i) throw i = !1, e; return n('throw', e) }), typeof r.return === 'function' && (t.return = function (e) { return n('return', e) }), t } }, function (e, t, n) { let r = n(4); e.exports = function (e, t) { if (!r(e) || e._t !== t) throw TypeError('Incompatible receiver, ' + t + ' required!'); return e } }, function (e, t, n) { e.exports = {default: n(172), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let c = r(n(88)), l = r(n(54)); function r (e) { return e && e.__esModule ? e : {default: e} }t.default = function e (t, n, r, i) { let o = (0, l.default)(t, n); if (void 0 === o) { let a = (0, c.default)(t); a !== null && e(a, n, r, i) } else if ('value' in o && o.writable)o.value = r; else { let s = o.set; void 0 !== s && s.call(i, r) } return r } }, function (e, t, n) { t.__esModule = !0; let l, r = o(n(182)), i = o(n(10)); function o (e) { return e && e.__esModule ? e : {default: e} }t.default = (l = typeof i.default === 'function' && r.default && (0, r.default)('react.element') || 60103, function (e, t, n, r) { let i = e && e.defaultProps, o = arguments.length - 3; if (t || o === 0 || (t = {}), t && i) for (let a in i) void 0 === t[a] && (t[a] = i[a]); else t || (t = i || {}); if (o === 1)t.children = r; else if (o > 1) { for (var s = Array(o), c = 0; c < o; c++)s[c] = arguments[c + 3]; t.children = s } return {$$typeof: l, type: e, key: void 0 === n ? null : '' + n, ref: null, props: t, _owner: null} }) }, function (e, t, n) { t.__esModule = !0; let r = o(n(188)), i = o(n(10)); function o (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { return t != null && void 0 !== i.default && t[r.default] ? t[r.default](e) : e instanceof t } }, function (e, t, n) { t.__esModule = !0; let r = a(n(196)), i = a(n(192)), o = a(n(24)); function a (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function, not ' + (void 0 === t ? 'undefined' : (0, o.default)(t))); e.prototype = (0, i.default)(t && t.prototype, {constructor: {value: e, enumerable: !1, writable: !0, configurable: !0}}), t && (r.default ? (0, r.default)(e, t) : e.__proto__ = t) } }, function (e, t, n) { e.exports = {default: n(199), __esModule: !0} }, function (e, t, n) { t.__esModule = !0; let s = r(n(88)), c = r(n(54)); function r (e) { return e && e.__esModule ? e : {default: e} }t.default = function e (t, n, r) { t === null && (t = Function.prototype); let i = (0, c.default)(t, n); if (void 0 === i) { let o = (0, s.default)(t); return o === null ? void 0 : e(o, n, r) } if ('value' in i) return i.value; let a = i.get; return void 0 !== a ? a.call(r) : void 0 } }, function (e, t, n) { t.__esModule = !0; let r, i = (r = n(204)) && r.__esModule ? r : {default: r}; t.default = i.default || function (e) { for (let t = 1; t < arguments.length; t++) { let n = arguments[t]; for (let r in n)Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e } }, function (e, t, n) { t.__esModule = !0; let a = r(n(26)), s = r(n(54)), c = r(n(210)); function r (e) { return e && e.__esModule ? e : {default: e} }t.default = function (e, t) { for (let n = (0, c.default)(t), r = 0; r < n.length; r++) { let i = n[r], o = (0, s.default)(t, i); o && o.configurable && void 0 === e[i] && (0, a.default)(e, i, o) } return e } }, function (e, t, n) { let o = n(1)('iterator'), a = !1; try { let r = [7][o](); r.return = function () { a = !0 }, Array.from(r, function () { throw 2 }) } catch (e) {}e.exports = function (e, t) { if (!t && !a) return !1; let n = !1; try { let r = [7], i = r[o](); i.next = function () { return {done: n = !0} }, r[o] = function () { return i }, e(r) } catch (e) {} return n } }, function (e, t, n) { let r = n(3), i = n(0), o = n(5), a = n(6), s = n(1)('species'); e.exports = function (e) { let t = typeof i[e] === 'function' ? i[e] : r[e]; a && t && !t[s] && o.f(t, s, {configurable: !0, get: function () { return this }}) } }, function (e, t, n) { let r = n(7), i = n(4), o = n(62); e.exports = function (e, t) { if (r(e), i(t) && t.constructor === e) return t; let n = o.f(e); return (0, n.resolve)(t), n.promise } }, function (e, t) { e.exports = function (e) { try { return {e: !1, v: e()} } catch (e) { return {e: !0, v: e} } } }, function (e, t, n) { let r, i, o, a = n(8), s = n(227), c = n(105), l = n(76), u = n(3), d = u.process, f = u.setImmediate, p = u.clearImmediate, h = u.MessageChannel, v = u.Dispatch, m = 0, g = {}, y = function () { let e = +this; if (g.hasOwnProperty(e)) { let t = g[e]; delete g[e], t() } }, b = function (e) { y.call(e.data) }; f && p || (f = function (e) { for (var t = [], n = 1; arguments.length > n;)t.push(arguments[n++]); return g[++m] = function () { s(typeof e === 'function' ? e : Function(e), t) }, r(m), m }, p = function (e) { delete g[e] }, n(20)(d) == 'process' ? r = function (e) { d.nextTick(a(y, e, 1)) } : v && v.now ? r = function (e) { v.now(a(y, e, 1)) } : h ? (o = (i = new h()).port2, i.port1.onmessage = b, r = a(o.postMessage, o, 1)) : u.addEventListener && typeof postMessage === 'function' && !u.importScripts ? (r = function (e) { u.postMessage(e + '', '*') }, u.addEventListener('message', b, !1)) : r = 'onreadystatechange' in l('script') ? function (e) { c.appendChild(l('script')).onreadystatechange = function () { c.removeChild(this), y.call(e) } } : function (e) { setTimeout(a(y, e, 1), 0) }), e.exports = {set: f, clear: p} }, function (e, t, n) { let i = n(7), o = n(22), a = n(1)('species'); e.exports = function (e, t) { let n, r = i(e).constructor; return void 0 === r || (n = i(r)[a]) == null ? t : o(n) } }, function (e, t, n) { let r = n(14), i = n(1)('iterator'), o = Array.prototype; e.exports = function (e) { return void 0 !== e && (r.Array === e || o[i] === e) } }, function (e, t, n) { let o = n(7); e.exports = function (e, t, n, r) { try { return r ? t(o(n)[0], n[1]) : t(n) } catch (t) { let i = e.return; throw void 0 !== i && o(i.call(e)), t } } }, function (e, t, n) { let r = n(106), i = n(71).concat('length', 'prototype'); t.f = Object.getOwnPropertyNames || function (e) { return r(e, i) } }, function (e, t, n) { let r = n(11), i = n(100).f, o = {}.toString, a = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; e.exports.f = function (e) { return a && o.call(e) == '[object Window]' ? (function (e) { try { return i(e) } catch (e) { return a.slice() } }(e)) : i(r(e)) } }, function (e, t, n) { let r = n(20); e.exports = Array.isArray || function (e) { return r(e) == 'Array' } }, function (e, t, n) { let r = n(3), a = n(12), i = n(6), o = n(2), s = n(108), c = n(29).KEY, l = n(13), u = n(72), d = n(19), f = n(31), p = n(1), h = n(30), v = n(69), m = n(232), g = n(102), y = n(7), b = n(4), w = n(11), E = n(75), _ = n(21), C = n(34), S = n(101), T = n(67), A = n(5), k = n(33), x = T.f, O = A.f, P = S.f, I = r.Symbol, M = r.JSON, L = M && M.stringify, N = p('_hidden'), R = p('toPrimitive'), j = {}.propertyIsEnumerable, D = u('symbol-registry'), $ = u('symbols'), H = u('op-symbols'), F = Object.prototype, U = typeof I === 'function', V = r.QObject, B = !V || !V.prototype || !V.prototype.findChild, W = i && l(function () { return C(O({}, 'a', {get: function () { return O(this, 'a', {value: 7}).a }})).a != 7 }) ? function (e, t, n) { let r = x(F, t); r && delete F[t], O(e, t, n), r && e !== F && O(F, t, r) } : O, G = function (e) { let t = $[e] = C(I.prototype); return t._k = e, t }, z = U && _typeof(I.iterator) == 'symbol' ? function (e) { return (void 0 === e ? 'undefined' : _typeof(e)) == 'symbol' } : function (e) { return e instanceof I }, q = function e (t, n, r) { return t === F && e(H, n, r), y(t), n = E(n, !0), y(r), a($, n) ? (r.enumerable ? (a(t, N) && t[N][n] && (t[N][n] = !1), r = C(r, {enumerable: _(0, !1)})) : (a(t, N) || O(t, N, _(1, {})), t[N][n] = !0), W(t, n, r)) : O(t, n, r) }, X = function (e, t) { y(e); for (var n, r = m(t = w(t)), i = 0, o = r.length; i < o;)q(e, n = r[i++], t[n]); return e }, Y = function (e) { let t = j.call(this, e = E(e, !0)); return !(this === F && a($, e) && !a(H, e)) && (!(t || !a(this, e) || !a($, e) || a(this, N) && this[N][e]) || t) }, J = function (e, t) { if (e = w(e), t = E(t, !0), e !== F || !a($, t) || a(H, t)) { let n = x(e, t); return !n || !a($, t) || a(e, N) && e[N][t] || (n.enumerable = !0), n } }, Z = function (e) { for (var t, n = P(w(e)), r = [], i = 0; n.length > i;)a($, t = n[i++]) || t == N || t == c || r.push(t); return r }, K = function (e) { for (var t, n = e === F, r = P(n ? H : w(e)), i = [], o = 0; r.length > o;)!a($, t = r[o++]) || n && !a(F, t) || i.push($[t]); return i }; U || (s((I = function () { if (this instanceof I) throw TypeError('Symbol is not a constructor!'); let n = f(arguments.length > 0 ? arguments[0] : void 0); return i && B && W(F, n, {configurable: !0, set: function e (t) { this === F && e.call(H, t), a(this, N) && a(this[N], n) && (this[N][n] = !1), W(this, n, _(1, t)) }}), G(n) }).prototype, 'toString', function () { return this._k }), T.f = J, A.f = q, n(100).f = S.f = Z, n(28).f = Y, n(68).f = K, i && !n(23) && s(F, 'propertyIsEnumerable', Y, !0), h.f = function (e) { return G(p(e)) }), o(o.G + o.W + o.F * !U, {Symbol: I}); for (let Q = 'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','), ee = 0; Q.length > ee;)p(Q[ee++]); for (let te = k(p.store), ne = 0; te.length > ne;)v(te[ne++]); o(o.S + o.F * !U, 'Symbol', {for: function (e) { return a(D, e += '') ? D[e] : D[e] = I(e) }, keyFor: function (e) { if (!z(e)) throw TypeError(e + ' is not a symbol!'); for (let t in D) if (D[t] === e) return t }, useSetter: function () { B = !0 }, useSimple: function () { B = !1 }}), o(o.S + o.F * !U, 'Object', {create: function (e, t) { return void 0 === t ? C(e) : X(C(e), t) }, defineProperty: q, defineProperties: X, getOwnPropertyDescriptor: J, getOwnPropertyNames: Z, getOwnPropertySymbols: K}), M && o(o.S + o.F * (!U || l(function () { let e = I(); return L([e]) != '[null]' || L({a: e}) != '{}' || L(Object(e)) != '{}' })), 'JSON', {stringify: function (e) { for (var t, n, r = [e], i = 1; arguments.length > i;)r.push(arguments[i++]); if (n = t = r[1], (b(t) || void 0 !== e) && !z(e)) return g(t) || (t = function (e, t) { if (typeof n === 'function' && (t = n.call(this, e, t)), !z(t)) return t }), r[1] = t, L.apply(M, r) }}), I.prototype[R] || n(9)(I.prototype, R, I.prototype.valueOf), d(I, 'Symbol'), d(Math, 'Math', !0), d(r.JSON, 'JSON', !0) }, function (e, t) { e.exports = function (e, t) { return {value: t, done: !!e} } }, function (e, t, n) { let r = n(3).document; e.exports = r && r.documentElement }, function (e, t, n) { let a = n(12), s = n(11), c = n(237)(!1), l = n(73)('IE_PROTO'); e.exports = function (e, t) { let n, r = s(e), i = 0, o = []; for (n in r)n != l && a(r, n) && o.push(n); for (;t.length > i;)a(r, n = t[i++]) && (~c(o, n) || o.push(n)); return o } }, function (e, t, n) { let a = n(5), s = n(7), c = n(33); e.exports = n(6) ? Object.defineProperties : function (e, t) { s(e); for (var n, r = c(t), i = r.length, o = 0; o < i;)a.f(e, n = r[o++], t[n]); return e } }, function (e, t, n) { e.exports = n(9) }, function (e, t, n) { e.exports = !n(6) && !n(13)(function () { return Object.defineProperty(n(76)('div'), 'a', {get: function () { return 7 }}).a != 7 }) }, function (e, t, n) { let r = n(2), a = n(22), s = n(8), c = n(16); e.exports = function (e) { r(r.S, e, {from: function (e) { let t, n, r, i, o = arguments[1]; return a(this), (t = void 0 !== o) && a(o), e == null ? new this() : (n = [], t ? (r = 0, i = s(o, arguments[2], 2), c(e, !1, function (e) { n.push(i(e, r++)) })) : c(e, !1, n.push, n), new this(n)) }}) } }, function (e, t, n) { n(110)('Set') }, function (e, t, n) { let r = n(2); e.exports = function (e) { r(r.S, e, {of: function () { for (var e = arguments.length, t = new Array(e); e--;)t[e] = arguments[e]; return new this(t) }}) } }, function (e, t, n) { n(112)('Set') }, function (e, t, n) { let r = n(16); e.exports = function (e, t) { let n = []; return r(e, !1, n.push, n, t), n } }, function (e, t, n) { let r = n(27), i = n(114); e.exports = function (e) { return function () { if (r(this) != e) throw TypeError(e + "#toJSON isn't generic"); return i(this) } } }, function (e, t, n) { let r = n(2); r(r.P + r.R, 'Set', {toJSON: n(115)('Set')}) }, function (e, t, n) { let r = n(4), i = n(102), o = n(1)('species'); e.exports = function (e) { let t; return i(e) && (typeof (t = e.constructor) !== 'function' || t !== Array && !i(t.prototype) || (t = void 0), r(t) && (t = t[o]) === null && (t = void 0)), void 0 === t ? Array : t } }, function (e, t, n) { let r = n(117); e.exports = function (e, t) { return new (r(e))(t) } }, function (e, t, n) { let b = n(8), w = n(74), E = n(18), _ = n(32), r = n(118); e.exports = function (d, e) { let f = d == 1, p = d == 2, h = d == 3, v = d == 4, m = d == 6, g = d == 5 || m, y = e || r; return function (e, t, n) { for (var r, i, o = E(e), a = w(o), s = b(t, n, 3), c = _(a.length), l = 0, u = f ? y(e, c) : p ? y(e, 0) : void 0; l < c; l++) if ((g || l in a) && (i = s(r = a[l], l, o), d)) if (f)u[l] = i; else if (i) switch (d) { case 3:return !0; case 5:return r; case 6:return l; case 2:u.push(r) } else if (v) return !1; return m ? -1 : h || v ? v : u } } }, function (e, t, n) { let d = n(3), f = n(2), p = n(29), h = n(13), v = n(9), m = n(61), g = n(16), y = n(64), b = n(4), w = n(19), E = n(5).f, _ = n(119)(0), C = n(6); e.exports = function (n, e, t, r, i, o) { let a = d[n], s = a, c = i ? 'set' : 'add', l = s && s.prototype, u = {}; return C && typeof s === 'function' && (o || l.forEach && !h(function () { (new s()).entries().next() })) ? (s = e(function (e, t) { y(e, s, n, '_c'), e._c = new a(), t != null && g(t, i, e[c], e) }), _('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (r) { let i = r == 'add' || r == 'set'; r in l && (!o || r != 'clear') && v(s.prototype, r, function (e, t) { if (y(this, s, r), !i && o && !b(e)) return r == 'get' && void 0; let n = this._c[r](e === 0 ? 0 : e, t); return i ? this : n }) }), o || E(s.prototype, 'size', {get: function () { return this._c.size }})) : (s = r.getConstructor(e, n, i, c), m(s.prototype, t), p.NEED = !0), w(s, n), u[n] = s, f(f.G + f.W + f.F, u), o || r.setStrong(s, n, i), s } }, function (e, t, n) { let a = n(5).f, s = n(34), c = n(61), l = n(8), u = n(64), d = n(16), r = n(77), i = n(104), o = n(93), f = n(6), p = n(29).fastKey, h = n(82), v = f ? '_s' : 'size', m = function (e, t) { let n, r = p(t); if (r !== 'F') return e._i[r]; for (n = e._f; n; n = n.n) if (n.k == t) return n }; e.exports = {getConstructor: function (e, o, n, r) { var i = e(function (e, t) { u(e, i, o, '_i'), e._t = o, e._i = s(null), e._f = void 0, e._l = void 0, e[v] = 0, t != null && d(t, n, e[r], e) }); return c(i.prototype, {clear: function () { for (var e = h(this, o), t = e._i, n = e._f; n; n = n.n)n.r = !0, n.p && (n.p = n.p.n = void 0), delete t[n.i]; e._f = e._l = void 0, e[v] = 0 }, delete: function (e) { let t = h(this, o), n = m(t, e); if (n) { let r = n.n, i = n.p; delete t._i[n.i], n.r = !0, i && (i.n = r), r && (r.p = i), t._f == n && (t._f = r), t._l == n && (t._l = i), t[v]-- } return !!n }, forEach: function (e) { h(this, o); for (var t, n = l(e, arguments.length > 1 ? arguments[1] : void 0, 3); t = t ? t.n : this._f;) for (n(t.v, t.k, this); t && t.r;)t = t.p }, has: function (e) { return !!m(h(this, o), e) }}), f && a(i.prototype, 'size', {get: function () { return h(this, o)[v] }}), i }, def: function (e, t, n) { let r, i, o = m(e, t); return o ? o.v = n : (e._l = o = {i: i = p(t, !0), k: t, v: n, p: r = e._l, n: void 0, r: !1}, e._f || (e._f = o), r && (r.n = o), e[v]++, i !== 'F' && (e._i[i] = o)), e }, getEntry: m, setStrong: function (e, n, t) { r(e, n, function (e, t) { this._t = h(e, n), this._k = t, this._l = void 0 }, function () { for (var e = this._k, t = this._l; t && t.r;)t = t.p; return this._t && (this._l = t = t ? t.n : this._t._f) ? i(0, e == 'keys' ? t.k : e == 'values' ? t.v : [t.k, t.v]) : (this._t = void 0, i(1)) }, t ? 'entries' : 'values', !t, !0), o(n) }} }, function (e, t, n) { let r = n(121), i = n(82); e.exports = n(120)('Set', function (e) { return function () { return e(this, arguments.length > 0 ? arguments[0] : void 0) } }, {add: function (e) { return r.def(i(this, 'Set'), e = e === 0 ? 0 : e, e) }}, r) }, function (e, t, n) { n(66), n(15), n(17), n(122), n(116), n(113), n(111), e.exports = n(0).Set }, function (e, t, n) { e.exports = {default: n(123), __esModule: !0} }, function (e, t, n) { n.r(t), n.d(t, 'default', function () { return h }); let c = n(35), r = typeof document !== 'undefined'; if (typeof DEBUG !== 'undefined' && DEBUG && !r) throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."); let l = {}, i = r && (document.head || document.getElementsByTagName('head')[0]), o = null, a = 0, u = !1, s = function () {}, d = null, f = 'data-vue-ssr-id', p = typeof navigator !== 'undefined' && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase()); function h (a, e, t, n) { u = t, d = n || {}; let s = Object(c.default)(a, e); return v(s), function (e) { for (var t = [], n = 0; n < s.length; n++) { let r = s[n]; (i = l[r.id]).refs--, t.push(i) } for (e ? v(s = Object(c.default)(a, e)) : s = [], n = 0; n < t.length; n++) { var i; if ((i = t[n]).refs === 0) { for (let o = 0; o < i.parts.length; o++)i.parts[o](); delete l[i.id] } } } } function v (e) { for (let t = 0; t < e.length; t++) { let n = e[t], r = l[n.id]; if (r) { r.refs++; for (var i = 0; i < r.parts.length; i++)r.parts[i](n.parts[i]); for (;i < n.parts.length; i++)r.parts.push(g(n.parts[i])); r.parts.length > n.parts.length && (r.parts.length = n.parts.length) } else { let o = []; for (i = 0; i < n.parts.length; i++)o.push(g(n.parts[i])); l[n.id] = {id: n.id, refs: 1, parts: o} } } } function m () { let e = document.createElement('style'); return e.type = 'text/css', i.appendChild(e), e } function g (t) { let n, r, e = document.querySelector('style[' + f + '~="' + t.id + '"]'); if (e) { if (u) return s; e.parentNode.removeChild(e) } if (p) { let i = a++; e = o || (o = m()), n = w.bind(null, e, i, !1), r = w.bind(null, e, i, !0) } else e = m(), n = function (e, t) { let n = t.css, r = t.media, i = t.sourceMap; if (r && e.setAttribute('media', r), d.ssrId && e.setAttribute(f, t.id), i && (n += '\n/*# sourceURL=' + i.sources[0] + ' */', n += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + ' */'), e.styleSheet)e.styleSheet.cssText = n; else { for (;e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(n)) } }.bind(null, e), r = function () { e.parentNode.removeChild(e) }; return n(t), function (e) { if (e) { if (e.css === t.css && e.media === t.media && e.sourceMap === t.sourceMap) return; n(t = e) } else r() } } let y, b = (y = [], function (e, t) { return y[e] = t, y.filter(Boolean).join('\n') }); function w (e, t, n, r) { let i = n ? '' : r.css; if (e.styleSheet)e.styleSheet.cssText = b(t, i); else { let o = document.createTextNode(i), a = e.childNodes; a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(o, a[t]) : e.appendChild(o) } } }, function (e, t, n) { function r (e, t, n, r, i, o, a, s) { let c, l = typeof e === 'function' ? e.options : e; if (t && (l.render = t, l.staticRenderFns = n, l._compiled = !0), r && (l.functional = !0), o && (l._scopeId = 'data-v-' + o), a ? (c = function (e) { (e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || typeof __VUE_SSR_CONTEXT__ === 'undefined' || (e = __VUE_SSR_CONTEXT__), i && i.call(this, e), e && e._registeredComponents && e._registeredComponents.add(a) }, l._ssrRegister = c) : i && (c = s ? function () { i.call(this, this.$root.$options.shadowRoot) } : i), c) if (l.functional) { l._injectStyles = c; let u = l.render; l.render = function (e, t) { return c.call(t), u(e, t) } } else { let d = l.beforeCreate; l.beforeCreate = d ? [].concat(d, c) : [c] } return {exports: e, options: l} }n.r(t), n.d(t, 'default', function () { return r }) }, function (e, t) { e.exports = function (n) { let a = []; return a.toString = function () { return this.map(function (e) { let t = (function (e, t) { let n, r = e[1] || '', i = e[3]; if (!i) return r; if (t && typeof btoa === 'function') { let o = (n = i, '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + ' */'), a = i.sources.map(function (e) { return '/*# sourceURL=' + i.sourceRoot + e + ' */' }); return [r].concat(a).concat([o]).join('\n') } return [r].join('\n') }(e, n)); return e[2] ? '@media ' + e[2] + '{' + t + '}' : t }).join('') }, a.i = function (e, t) { typeof e === 'string' && (e = [[null, e, '']]); for (var n = {}, r = 0; r < this.length; r++) { let i = this[r][0]; typeof i === 'number' && (n[i] = !0) } for (r = 0; r < e.length; r++) { let o = e[r]; typeof o[0] === 'number' && n[o[0]] || (t && !o[2] ? o[2] = t : t && (o[2] = '(' + o[2] + ') and (' + t + ')'), a.push(o)) } }, a } }, function (M, e) { !(function (e) { let c, t = Object.prototype, l = t.hasOwnProperty, n = typeof Symbol === 'function' ? Symbol : {}, i = n.iterator || '@@iterator', r = n.asyncIterator || '@@asyncIterator', o = n.toStringTag || '@@toStringTag', a = (void 0 === M ? 'undefined' : _typeof(M)) == 'object', s = e.regeneratorRuntime; if (s)a && (M.exports = s); else { (s = e.regeneratorRuntime = a ? M.exports : {}).wrap = b; var d = 'suspendedStart', f = 'suspendedYield', p = 'executing', h = 'completed', v = {}, u = {}; u[i] = function () { return this }; let m = Object.getPrototypeOf, g = m && m(m(P([]))); g && g !== t && l.call(g, i) && (u = g); let y = C.prototype = E.prototype = Object.create(u); _.prototype = y.constructor = C, C.constructor = _, C[o] = _.displayName = 'GeneratorFunction', s.isGeneratorFunction = function (e) { let t = typeof e === 'function' && e.constructor; return !!t && (t === _ || (t.displayName || t.name) === 'GeneratorFunction') }, s.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, C) : (e.__proto__ = C, o in e || (e[o] = 'GeneratorFunction')), e.prototype = Object.create(y), e }, s.awrap = function (e) { return {__await: e} }, S(T.prototype), T.prototype[r] = function () { return this }, s.AsyncIterator = T, s.async = function (e, t, n, r) { let i = new T(b(e, t, n, r)); return s.isGeneratorFunction(t) ? i : i.next().then(function (e) { return e.done ? e.value : i.next() }) }, S(y), y[o] = 'Generator', y[i] = function () { return this }, y.toString = function () { return '[object Generator]' }, s.keys = function (n) { let r = []; for (let e in n)r.push(e); return r.reverse(), function e () { for (;r.length;) { let t = r.pop(); if (t in n) return e.value = t, e.done = !1, e } return e.done = !0, e } }, s.values = P, O.prototype = {constructor: O, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = c, this.done = !1, this.delegate = null, this.method = 'next', this.arg = c, this.tryEntries.forEach(x), !e) for (let t in this)t.charAt(0) === 't' && l.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = c) }, stop: function () { this.done = !0; let e = this.tryEntries[0].completion; if (e.type === 'throw') throw e.arg; return this.rval }, dispatchException: function (n) { if (this.done) throw n; let r = this; function e (e, t) { return o.type = 'throw', o.arg = n, r.next = e, t && (r.method = 'next', r.arg = c), !!t } for (let t = this.tryEntries.length - 1; t >= 0; --t) { var i = this.tryEntries[t], o = i.completion; if (i.tryLoc === 'root') return e('end'); if (i.tryLoc <= this.prev) { let a = l.call(i, 'catchLoc'), s = l.call(i, 'finallyLoc'); if (a && s) { if (this.prev < i.catchLoc) return e(i.catchLoc, !0); if (this.prev < i.finallyLoc) return e(i.finallyLoc) } else if (a) { if (this.prev < i.catchLoc) return e(i.catchLoc, !0) } else { if (!s) throw new Error('try statement without catch or finally'); if (this.prev < i.finallyLoc) return e(i.finallyLoc) } } } }, abrupt: function (e, t) { for (let n = this.tryEntries.length - 1; n >= 0; --n) { let r = this.tryEntries[n]; if (r.tryLoc <= this.prev && l.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var i = r; break } }i && (e === 'break' || e === 'continue') && i.tryLoc <= t && t <= i.finallyLoc && (i = null); let o = i ? i.completion : {}; return o.type = e, o.arg = t, i ? (this.method = 'next', this.next = i.finallyLoc, v) : this.complete(o) }, complete: function (e, t) { if (e.type === 'throw') throw e.arg; return e.type === 'break' || e.type === 'continue' ? this.next = e.arg : e.type === 'return' ? (this.rval = this.arg = e.arg, this.method = 'return', this.next = 'end') : e.type === 'normal' && t && (this.next = t), v }, finish: function (e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { let n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), x(n), v } }, catch: function (e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { let n = this.tryEntries[t]; if (n.tryLoc === e) { let r = n.completion; if (r.type === 'throw') { var i = r.arg; x(n) } return i } } throw new Error('illegal catch attempt') }, delegateYield: function (e, t, n) { return this.delegate = {iterator: P(e), resultName: t, nextLoc: n}, this.method === 'next' && (this.arg = c), v }} } function b (e, t, n, r) { let o, a, s, c, i = t && t.prototype instanceof E ? t : E, l = Object.create(i.prototype), u = new O(r || []); return l._invoke = (o = e, a = n, s = u, c = d, function (e, t) { if (c === p) throw new Error('Generator is already running'); if (c === h) { if (e === 'throw') throw t; return I() } for (s.method = e, s.arg = t; ;) { let n = s.delegate; if (n) { let r = A(n, s); if (r) { if (r === v) continue; return r } } if (s.method === 'next')s.sent = s._sent = s.arg; else if (s.method === 'throw') { if (c === d) throw c = h, s.arg; s.dispatchException(s.arg) } else s.method === 'return' && s.abrupt('return', s.arg); c = p; let i = w(o, a, s); if (i.type === 'normal') { if (c = s.done ? h : f, i.arg === v) continue; return {value: i.arg, done: s.done} }i.type === 'throw' && (c = h, s.method = 'throw', s.arg = i.arg) } }), l } function w (e, t, n) { try { return {type: 'normal', arg: e.call(t, n)} } catch (e) { return {type: 'throw', arg: e} } } function E () {} function _ () {} function C () {} function S (e) { ['next', 'throw', 'return'].forEach(function (t) { e[t] = function (e) { return this._invoke(t, e) } }) } function T (c) { let t; this._invoke = function (n, r) { function e () { return new Promise(function (resolve, reject) { !(function t (e, n, r, i) { let o = w(c[e], c, n); if (o.type !== 'throw') { let a = o.arg, s = a.value; return s && (void 0 === s ? 'undefined' : _typeof(s)) == 'object' && l.call(s, '__await') ? Promise.resolve(s.__await).then(function (e) { t('next', e, r, i) }, function (e) { t('throw', e, r, i) }) : Promise.resolve(s).then(function (e) { a.value = e, r(a) }, i) }i(o.arg) }(n, r, e, t)) }) } return t = t ? t.then(e, e) : e() } } function A (e, t) { let n = e.iterator[t.method]; if (n === c) { if (t.delegate = null, t.method === 'throw') { if (e.iterator.return && (t.method = 'return', t.arg = c, A(e, t), t.method === 'throw')) return v; t.method = 'throw', t.arg = new TypeError("The iterator does not provide a 'throw' method") } return v } let r = w(n, e.iterator, t.arg); if (r.type === 'throw') return t.method = 'throw', t.arg = r.arg, t.delegate = null, v; let i = r.arg; return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, t.method !== 'return' && (t.method = 'next', t.arg = c), t.delegate = null, v) : i : (t.method = 'throw', t.arg = new TypeError('iterator result is not an object'), t.delegate = null, v) } function k (e) { let t = {tryLoc: e[0]}; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function x (e) { let t = e.completion || {}; t.type = 'normal', delete t.arg, e.completion = t } function O (e) { this.tryEntries = [{tryLoc: 'root'}], e.forEach(k, this), this.reset(!0) } function P (t) { if (t) { let e = t[i]; if (e) return e.call(t); if (typeof t.next === 'function') return t; if (!isNaN(t.length)) { let n = -1, r = function e () { for (;++n < t.length;) if (l.call(t, n)) return e.value = t[n], e.done = !1, e; return e.value = c, e.done = !0, e }; return r.next = r } } return {next: I} } function I () { return {value: c, done: !0} } }((function () { return this }()) || Function('return this')())) }, function (e, t, n) { let r = (function () { return this }()) || Function('return this')(), i = r.regeneratorRuntime && Object.getOwnPropertyNames(r).indexOf('regeneratorRuntime') >= 0, o = i && r.regeneratorRuntime; if (r.regeneratorRuntime = void 0, e.exports = n(128), i)r.regeneratorRuntime = o; else try { delete r.regeneratorRuntime } catch (e) { r.regeneratorRuntime = void 0 } }, function (e, t, n) { e.exports = n(129) }, function (e, t, n) { e.exports = n(36) }, function (e, t, n) { e.exports = n(38) }, function (e, t, n) { e.exports = n(39) }, function (e, t, n) { e.exports = n(40) }, function (e, t, n) { e.exports = n(41) }, function (e, t, n) { e.exports = n(42) }, function (e, t, n) { e.exports = n(43) }, function (e, t, n) { e.exports = n(44) }, function (e, t, n) { e.exports = n(45) }, function (e, t, n) { e.exports = n(46) }, function (e, t, n) { e.exports = n(47) }, function (e, t, n) { e.exports = n(48) }, function (e, t, n) { e.exports = n(49) }, function (e, t, n) { e.exports = n(50) }, function (e, t, n) { e.exports = n(51) }, function (e, t, n) { e.exports = n(52) }, function (e, t, n) { e.exports = n(53) }, function (e, t, n) { e.exports = n(55) }, function (e, t, n) { e.exports = n(56) }, function (e, t, n) { e.exports = n(57) }, function (e, t, n) { e.exports = n(59) }, function (e, t, n) { e.exports = n(60) }, function (e, t, n) { e.exports = n(81) }, function (e, t, n) { e.exports = n(24) }, function (e, t, n) { e.exports = n(36) }, function (e, t, n) { let r = n(5), i = n(21); e.exports = function (e, t, n) { t in e ? r.f(e, t, i(0, n)) : e[t] = n } }, function (e, t, n) { let f = n(8), r = n(2), p = n(18), h = n(99), v = n(98), m = n(32), g = n(156), y = n(63); r(r.S + r.F * !n(92)(function (e) {}), 'Array', {from: function (e) { let t, n, r, i, o = p(e), a = typeof this === 'function' ? this : Array, s = arguments.length, c = s > 1 ? arguments[1] : void 0, l = void 0 !== c, u = 0, d = y(o); if (l && (c = f(c, s > 2 ? arguments[2] : void 0, 2)), d == null || a == Array && v(d)) for (n = new a(t = m(o.length)); u < t; u++)g(n, u, l ? c(o[u], u) : o[u]); else for (i = d.call(o), n = new a(); !(r = i.next()).done; u++)g(n, u, l ? h(i, c, [r.value, u], !0) : r.value); return n.length = u, n }}) }, function (e, t, n) { n(15), n(157), e.exports = n(0).Array.from }, function (e, t, n) { e.exports = n(38) }, function (e, t, n) { e.exports = n(39) }, function (e, t, n) { e.exports = n(40) }, function (e, t, n) { let r = n(4), i = n(29).onFreeze; n(25)('freeze', function (t) { return function (e) { return t && r(e) ? t(i(e)) : e } }) }, function (e, t, n) { n(162), e.exports = n(0).Object.freeze }, function (e, t, n) { e.exports = {default: n(163), __esModule: !0} }, function (e, t, n) { let r = n(2); r(r.S + r.F * !n(6), 'Object', {defineProperties: n(107)}) }, function (e, t, n) { n(165); let r = n(0).Object; e.exports = function (e, t) { return r.defineProperties(e, t) } }, function (e, t, n) { e.exports = {default: n(166), __esModule: !0} }, function (e, t, n) { e.exports = n(41) }, function (e, t, n) { e.exports = n(42) }, function (e, t, n) { e.exports = n(43) }, function (e, t, n) { let r = n(27), i = n(1)('iterator'), o = n(14); e.exports = n(0).isIterable = function (e) { let t = Object(e); return void 0 !== t[i] || '@@iterator' in t || o.hasOwnProperty(r(t)) } }, function (e, t, n) { n(17), n(15), e.exports = n(171) }, function (e, t, n) { e.exports = n(44) }, function (e, t, n) { e.exports = n(84) }, function (e, t) { let n; n = (function () { return this }()); try { n = n || Function('return this')() || (0, eval)('this') } catch (e) { (typeof window === 'undefined' ? 'undefined' : _typeof(window)) == 'object' && (n = window) }e.exports = n }, function (e, t, n) { e.exports = n(45) }, function (e, t, n) { e.exports = n(46) }, function (e, t, n) { e.exports = n(47) }, function (e, t, n) { e.exports = n(48) }, function (e, t, n) { e.exports = n(49) }, function (e, t, n) { n(103), e.exports = n(0).Symbol.for }, function (e, t, n) { e.exports = {default: n(181), __esModule: !0} }, function (e, t, n) { e.exports = n(85) }, function (e, t, n) { e.exports = n(50) }, function (e, t, n) { e.exports = n(51) }, function (e, t, n) { let r = n(4), i = n(70), o = n(1)('hasInstance'), a = Function.prototype; o in a || n(5).f(a, o, {value: function (e) { if (typeof this !== 'function' || !r(e)) return !1; if (!r(this.prototype)) return e instanceof this; for (;e = i(e);) if (this.prototype === e) return !0; return !1 }}) }, function (e, t, n) { n(186), e.exports = n(30).f('hasInstance') }, function (e, t, n) { e.exports = {default: n(187), __esModule: !0} }, function (e, t, n) { e.exports = n(86) }, function (e, t, n) { let r = n(2); r(r.S, 'Object', {create: n(34)}) }, function (e, t, n) { n(190); let r = n(0).Object; e.exports = function (e, t) { return r.create(e, t) } }, function (e, t, n) { e.exports = {default: n(191), __esModule: !0} }, function (e, t, i) { let n = i(4), r = i(7), o = function (e, t) { if (r(e), !n(t) && t !== null) throw TypeError(t + ": can't set as prototype!") }; e.exports = {set: Object.setPrototypeOf || ('__proto__' in {} ? (function (e, n, r) { try { (r = i(8)(Function.call, i(67).f(Object.prototype, '__proto__').set, 2))(e, []), n = !(e instanceof Array) } catch (e) { n = !0 } return function (e, t) { return o(e, t), n ? e.__proto__ = t : r(e, t), e } }({}, !1)) : void 0), check: o} }, function (e, t, n) { let r = n(2); r(r.S, 'Object', {setPrototypeOf: n(193).set}) }, function (e, t, n) { n(194), e.exports = n(0).Object.setPrototypeOf }, function (e, t, n) { e.exports = {default: n(195), __esModule: !0} }, function (e, t, n) { e.exports = n(87) }, function (e, t, n) { let r = n(18), i = n(70); n(25)('getPrototypeOf', function () { return function (e) { return i(r(e)) } }) }, function (e, t, n) { n(198), e.exports = n(0).Object.getPrototypeOf }, function (e, t, n) { e.exports = n(89) }, function (e, t, n) { let f = n(33), p = n(68), h = n(28), v = n(18), m = n(74), i = Object.assign; e.exports = !i || n(13)(function () { let e = {}, t = {}, n = Symbol(), r = 'abcdefghijklmnopqrst'; return e[n] = 7, r.split('').forEach(function (e) { t[e] = e }), i({}, e)[n] != 7 || Object.keys(i({}, t)).join('') != r }) ? function (e, t) { for (var n = v(e), r = arguments.length, i = 1, o = p.f, a = h.f; i < r;) for (var s, c = m(arguments[i++]), l = o ? f(c).concat(o(c)) : f(c), u = l.length, d = 0; d < u;)a.call(c, s = l[d++]) && (n[s] = c[s]); return n } : i }, function (e, t, n) { let r = n(2); r(r.S + r.F, 'Object', {assign: n(201)}) }, function (e, t, n) { n(202), e.exports = n(0).Object.assign }, function (e, t, n) { e.exports = {default: n(203), __esModule: !0} }, function (e, t, n) { e.exports = n(90) }, function (e, t, n) { e.exports = n(52) }, function (e, t, n) { e.exports = n(53) }, function (e, t, n) { n(25)('getOwnPropertyNames', function () { return n(101).f }) }, function (e, t, n) { n(208); let r = n(0).Object; e.exports = function (e) { return r.getOwnPropertyNames(e) } }, function (e, t, n) { e.exports = {default: n(209), __esModule: !0} }, function (e, t, n) { let r = n(11), i = n(67).f; n(25)('getOwnPropertyDescriptor', function () { return function (e, t) { return i(r(e), t) } }) }, function (e, t, n) { n(211); let r = n(0).Object; e.exports = function (e, t) { return r.getOwnPropertyDescriptor(e, t) } }, function (e, t, n) { e.exports = n(91) }, function (e, t, n) { let r = n(2); r(r.S + r.F * !n(6), 'Object', {defineProperty: n(5).f}) }, function (e, t, n) { n(214); let r = n(0).Object; e.exports = function (e, t, n) { return r.defineProperty(e, t, n) } }, function (e, t, n) { e.exports = n(55) }, function (e, t, n) { e.exports = n(56) }, function (e, t, n) { e.exports = n(57) }, function (e, t, n) { let r = n(7), i = n(63); e.exports = n(0).getIterator = function (e) { let t = i(e); if (typeof t !== 'function') throw TypeError(e + ' is not iterable!'); return r(t.call(e)) } }, function (e, t, n) { n(17), n(15), e.exports = n(219) }, function (e, t, n) { e.exports = n(59) }, function (e, t, n) { e.exports = n(60) }, function (e, t, n) { let r = n(2), i = n(62), o = n(95); r(r.S, 'Promise', {try: function (e) { let t = i.f(this), n = o(e); return (n.e ? t.reject : t.resolve)(n.v), t.promise }}) }, function (e, t, n) { let r = n(2), i = n(0), o = n(3), a = n(97), s = n(94); r(r.P + r.R, 'Promise', {finally: function (t) { let n = a(this, i.Promise || o.Promise), e = typeof t === 'function'; return this.then(e ? function (e) { return s(n, t()).then(function () { return e }) } : t, e ? function (e) { return s(n, t()).then(function () { throw e }) } : t) }}) }, function (e, t, n) { let r = n(3).navigator; e.exports = r && r.userAgent || '' }, function (e, t, n) { let s = n(3), c = n(96).set, l = s.MutationObserver || s.WebKitMutationObserver, u = s.process, d = s.Promise, f = n(20)(u) == 'process'; e.exports = function () { let n, r, i, e = function () { let e, t; for (f && (e = u.domain) && e.exit(); n;) { t = n.fn, n = n.next; try { t() } catch (e) { throw n ? i() : r = void 0, e } }r = void 0, e && e.enter() }; if (f)i = function () { u.nextTick(e) }; else if (!l || s.navigator && s.navigator.standalone) if (d && d.resolve) { let t = d.resolve(void 0); i = function () { t.then(e) } } else i = function () { c.call(s, e) }; else { let o = !0, a = document.createTextNode(''); new l(e).observe(a, {characterData: !0}), i = function () { a.data = o = !o } } return function (e) { let t = {fn: e, next: void 0}; r && (r.next = t), n || (n = t, i()), r = t } } }, function (e, t) { e.exports = function (e, t, n) { let r = void 0 === n; switch (t.length) { case 0:return r ? e() : e.call(n); case 1:return r ? e(t[0]) : e.call(n, t[0]); case 2:return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]); case 3:return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]); case 4:return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3]) } return e.apply(n, t) } }, function (e, t, n) { var r, i, o, a, s = n(23), c = n(3), l = n(8), u = n(27), d = n(2), f = n(4), p = n(22), h = n(64), v = n(16), m = n(97), g = n(96).set, y = n(226)(), b = n(62), w = n(95), E = n(225), _ = n(94), C = c.TypeError, S = c.process, T = S && S.versions, A = T && T.v8 || '', k = c.Promise, x = u(S) == 'process', O = function () {}, P = i = b.f, I = !!(function () { try { let e = k.resolve(1), t = (e.constructor = {})[n(1)('species')] = function (e) { e(O, O) }; return (x || typeof PromiseRejectionEvent === 'function') && e.then(O) instanceof t && A.indexOf('6.6') !== 0 && E.indexOf('Chrome/66') === -1 } catch (e) {} }()), M = function (e) { let t; return !(!f(e) || typeof (t = e.then) !== 'function') && t }, L = function (u, n) { if (!u._n) { u._n = !0; let r = u._c; y(function () { for (var c = u._v, l = u._s == 1, e = 0, t = function (e) { let t, n, r, i = l ? e.ok : e.fail, o = e.resolve, a = e.reject, s = e.domain; try { i ? (l || (u._h == 2 && j(u), u._h = 1), !0 === i ? t = c : (s && s.enter(), t = i(c), s && (s.exit(), r = !0)), t === e.promise ? a(C('Promise-chain cycle')) : (n = M(t)) ? n.call(t, o, a) : o(t)) : a(c) } catch (e) { s && !r && s.exit(), a(e) } }; r.length > e;)t(r[e++]); u._c = [], u._n = !1, n && !u._h && N(u) }) } }, N = function (o) { g.call(c, function () { let e, t, n, r = o._v, i = R(o); if (i && (e = w(function () { x ? S.emit('unhandledRejection', r, o) : (t = c.onunhandledrejection) ? t({promise: o, reason: r}) : (n = c.console) && n.error && n.error('Unhandled promise rejection', r) }), o._h = x || R(o) ? 2 : 1), o._a = void 0, i && e.e) throw e.v }) }, R = function (e) { return e._h !== 1 && (e._a || e._c).length === 0 }, j = function (t) { g.call(c, function () { let e; x ? S.emit('rejectionHandled', t) : (e = c.onrejectionhandled) && e({promise: t, reason: t._v}) }) }, D = function (e) { let t = this; t._d || (t._d = !0, (t = t._w || t)._v = e, t._s = 2, t._a || (t._a = t._c.slice()), L(t, !0)) }, $ = function e (n) { let r, i = this; if (!i._d) { i._d = !0, i = i._w || i; try { if (i === n) throw C("Promise can't be resolved itself"); (r = M(n)) ? y(function () { let t = {_w: i, _d: !1}; try { r.call(n, l(e, t, 1), l(D, t, 1)) } catch (e) { D.call(t, e) } }) : (i._v = n, i._s = 1, L(i, !1)) } catch (n) { D.call({_w: i, _d: !1}, n) } } }; I || (k = function (e) { h(this, k, 'Promise', '_h'), p(e), r.call(this); try { e(l($, this, 1), l(D, this, 1)) } catch (e) { D.call(this, e) } }, (r = function (e) { this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1 }).prototype = n(61)(k.prototype, {then: function (e, t) { let n = P(m(this, k)); return n.ok = typeof e !== 'function' || e, n.fail = typeof t === 'function' && t, n.domain = x ? S.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && L(this, !1), n.promise }, catch: function (e) { return this.then(void 0, e) }}), o = function () { let e = new r(); this.promise = e, this.resolve = l($, e, 1), this.reject = l(D, e, 1) }, b.f = P = function (e) { return e === k || e === a ? new o(e) : i(e) }), d(d.G + d.W + d.F * !I, {Promise: k}), n(19)(k, 'Promise'), n(93)('Promise'), a = n(0).Promise, d(d.S + d.F * !I, 'Promise', {reject: function (e) { let t = P(this); return (0, t.reject)(e), t.promise }}), d(d.S + d.F * (s || !I), 'Promise', {resolve: function (e) { return _(s && this === a ? k : this, e) }}), d(d.S + d.F * !(I && n(92)(function (e) { k.all(e).catch(O) })), 'Promise', {all: function (e) { let a = this, t = P(a), s = t.resolve, c = t.reject, n = w(function () { let r = [], i = 0, o = 1; v(e, !1, function (e) { let t = i++, n = !1; r.push(void 0), o++, a.resolve(e).then(function (e) { n || (n = !0, r[t] = e, --o || s(r)) }, c) }), --o || s(r) }); return n.e && c(n.v), t.promise }, race: function (e) { let t = this, n = P(t), r = n.reject, i = w(function () { v(e, !1, function (e) { t.resolve(e).then(n.resolve, r) }) }); return i.e && r(i.v), n.promise }}) }, function (e, t, n) { n(66), n(15), n(17), n(228), n(224), n(223), e.exports = n(0).Promise }, function (e, t, n) { n(69)('observable') }, function (e, t, n) { n(69)('asyncIterator') }, function (e, t, n) { let s = n(33), c = n(68), l = n(28); e.exports = function (e) { let t = s(e), n = c.f; if (n) for (var r, i = n(e), o = l.f, a = 0; i.length > a;)o.call(e, r = i[a++]) && t.push(r); return t } }, function (e, t, n) { n(103), n(66), n(231), n(230), e.exports = n(0).Symbol }, function (e, t) { e.exports = function () {} }, function (e, t, n) { let r = n(234), i = n(104), o = n(14), a = n(11); e.exports = n(77)(Array, 'Array', function (e, t) { this._t = a(e), this._i = 0, this._k = t }, function () { let e = this._t, t = this._k, n = this._i++; return !e || n >= e.length ? (this._t = void 0, i(1)) : i(0, t == 'keys' ? n : t == 'values' ? e[n] : [n, e[n]]) }, 'values'), o.Arguments = o.Array, r('keys'), r('values'), r('entries') }, function (e, t, n) { let r = n(79), i = Math.max, o = Math.min; e.exports = function (e, t) { return (e = r(e)) < 0 ? i(e + t, 0) : o(e, t) } }, function (e, t, n) { let c = n(11), l = n(32), u = n(236); e.exports = function (s) { return function (e, t, n) { let r, i = c(e), o = l(i.length), a = u(n, o); if (s && t != t) { for (;a < o;) if ((r = i[a++]) != r) return !0 } else for (;a < o; a++) if ((s || a in i) && i[a] === t) return s || a || 0; return !s && -1 } } }, function (e, t, n) { let r = n(34), i = n(21), o = n(19), a = {}; n(9)(a, n(1)('iterator'), function () { return this }), e.exports = function (e, t, n) { e.prototype = r(a, {next: i(1, n)}), o(e, t + ' Iterator') } }, function (e, t, n) { let c = n(79), l = n(78); e.exports = function (s) { return function (e, t) { let n, r, i = String(l(e)), o = c(t), a = i.length; return o < 0 || a <= o ? s ? '' : void 0 : (n = i.charCodeAt(o)) < 55296 || n > 56319 || o + 1 === a || (r = i.charCodeAt(o + 1)) < 56320 || r > 57343 ? s ? i.charAt(o) : n : s ? i.slice(o, o + 2) : r - 56320 + (n - 55296 << 10) + 65536 } } }, function (e, t, n) { n(15), n(17), e.exports = n(30).f('iterator') }, function (e, t, n) { e.exports = n(81) }, function (e, t, n) { let r = {'./_async-generator-delegate.js': 241, './_async-generator.js': 222, './_async-iterator.js': 221, './_async-to-generator.js': 218, './_class-call-check.js': 217, './_create-class.js': 216, './_defaults.js': 213, './_define-enumerable-properties.js': 207, './_define-property.js': 206, './_extends.js': 205, './_get.js': 200, './_inherits.js': 197, './_instanceof.js': 189, './_interop-require-default.js': 185, './_interop-require-wildcard.js': 184, './_jsx.js': 183, './_new-arrow-check.js': 180, './_object-destructuring-empty.js': 179, './_object-without-properties.js': 178, './_possible-constructor-return.js': 177, './_self-global.js': 176, './_set.js': 174, './_sliced-to-array-loose.js': 173, './_sliced-to-array.js': 170, './_tagged-template-literal-loose.js': 169, './_tagged-template-literal.js': 168, './_temporal-ref.js': 161, './_temporal-undefined.js': 160, './_to-array.js': 159, './_to-consumable-array.js': 155, './_typeof.js': 154, './async-generator-delegate.js': 153, './async-generator.js': 152, './async-iterator.js': 151, './async-to-generator.js': 150, './asyncGenerator.js': 60, './asyncGeneratorDelegate.js': 81, './asyncIterator.js': 59, './asyncToGenerator.js': 57, './class-call-check.js': 149, './classCallCheck.js': 56, './create-class.js': 148, './createClass.js': 55, './defaults.js': 91, './define-enumerable-properties.js': 147, './define-property.js': 146, './defineEnumerableProperties.js': 53, './defineProperty.js': 52, './extends.js': 90, './get.js': 89, './inherits.js': 87, './instanceof.js': 86, './interop-require-default.js': 145, './interop-require-wildcard.js': 144, './interopRequireDefault.js': 51, './interopRequireWildcard.js': 50, './jsx.js': 85, './new-arrow-check.js': 143, './newArrowCheck.js': 49, './object-destructuring-empty.js': 142, './object-without-properties.js': 141, './objectDestructuringEmpty.js': 48, './objectWithoutProperties.js': 47, './possible-constructor-return.js': 140, './possibleConstructorReturn.js': 46, './self-global.js': 139, './selfGlobal.js': 45, './set.js': 84, './sliced-to-array-loose.js': 138, './sliced-to-array.js': 137, './slicedToArray.js': 43, './slicedToArrayLoose.js': 44, './tagged-template-literal-loose.js': 136, './tagged-template-literal.js': 135, './taggedTemplateLiteral.js': 41, './taggedTemplateLiteralLoose.js': 42, './temporal-ref.js': 134, './temporal-undefined.js': 133, './temporalRef.js': 40, './temporalUndefined.js': 39, './to-array.js': 132, './to-consumable-array.js': 131, './toArray.js': 38, './toConsumableArray.js': 36, './typeof.js': 24}; function i (e) { let t = o(e); return n(t) } function o (e) { let t = r[e]; if (!(t + 1)) { let n = new Error("Cannot find module '" + e + "'"); throw n.code = 'MODULE_NOT_FOUND', n } return t }i.keys = function () { return Object.keys(r) }, i.resolve = o, (e.exports = i).id = 242 }, function (e, t, n) { let r = n(242), i = n(130), o = n(127), a = n(126), s = n(125), c = n(35), l = n(10).default, u = n(124).default, d = n(37).default; function f (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window; void 0 === n[t] && (n[t] = e) }f(l, 'Symbol'), f(u, 'Set'), f(d, 'from', Array); let p = {}; r.keys().forEach(function (e) { p['babel-runtime/helpers/' + e.slice(2, -3)] = r(e) }), p['babel-runtime/regenerator'] = i, p['css-loader/lib/css-base'] = o, p['vue-loader/lib/runtime/componentNormalizer'] = a, p['vue-style-loader/lib/addStylesClient'] = s, p['vue-style-loader/lib/listToStyles'] = c, window.__mipComponentsWebpackHelpers__ = p, e.exports = p }])) })); let camelizeRE = /-+(\w)/g, camelize = function (e) { return e.replace(camelizeRE, function (e, t) { return t ? t.toUpperCase() : '' }) }, isArray = Array.isArray, isFunction = function (e) { return typeof e === 'function' }, hyphenate = function (e) { return e.replace(/[A-Z]/g, function (e) { return '-' + e.toLowerCase() }).replace(/^-/, '') }; function toArray$1 (e) { for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = e.length - t, r = new Array(n); n--;)r[n] = e[n + t]; return r } function jsonParse (jsonStr) { jsonStr = jsonStr.replace(/(["'])((\\{2})*|(.*?[^\\](\\{2})*))\1/g, function (e) { return e.replace(/[/*]/g, function (e) { return '\\' + e }) }).replace(/\/\/.*\n?/g, '').replace(/\/\*.*\*\//g, ''); let rxone = /^[\],:{}\s]*$/, rxtwo = /\\(?:["'\\/bfnrt]|u[0-9a-fA-F]{4})/g, rxthree = /"[^"\n\r]*"|'[^'\n\r]*'|[+-]?(Infinity|NaN)|([\u2e80-\u9fff]+|[_\w$][_\w\d$]*)\s*:|true|false|null|[+-]?\.?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?([xX][0-9a-fA-F]{1,2})?/g, rxfour = /(?:^|:|,)(?:\s*\[)+/g, validate = jsonStr.replace(rxtwo, '@').replace(rxthree, function (e) { return ']' + (/:$/.test(e) ? ':' : '') }).replace(rxfour, ''); if (!rxone.test(validate)) throw new Error(jsonStr + ' Content should be a valid JSON string!'); try { return eval('(' + jsonStr + ')') } catch (e) { throw e } } function getPropType (e) { return isFunction(e) ? e : isArray(e) ? e[0] : e && (void 0 === e ? 'undefined' : _typeof(e)) === 'object' && e.type ? isArray(e.type) ? e.type[0] : e.type : String } function convertAttributeValue (t, e) { if (e === Boolean) return t !== 'false'; if (e === Number) return parseFloat(t, 10); if (e === String) return t; if (e === Array || e === Object) try { return jsonParse(t) } catch (e) { console.warn(t + ' attribute content should be a valid JSON string!') } return t } function extractProps (n, r) { if (isArray(n.props))n.props.forEach(function (e) { let t = camelize(e); r[t] || (r[t] = getPropType(n.props[e])) }); else if (_typeof(n.props) === 'object') for (let e in n.props) { let t = camelize(e); r[t] || (r[t] = getPropType(n.props[e])) } return n.extends && n.extends.props && extractProps(n.extends, r), n.mixins && n.mixins.forEach(function (e) { return extractProps(e, r) }), r } function getProps () { let e = {camelCase: [], hyphenate: [], types: {}}, t = extractProps(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, {}); return e.camelCase = Object.keys(t), e.hyphenate = Object.keys(t).map(function (e) { return hyphenate(e) }), e.types = t, e } function reactiveProps (r, e) { e.camelCase.forEach(function (n, e) { Object.defineProperty(r, n, {get: function () { if (r.customElement && r.customElement.vm) return r.customElement.vm[n] }, set: function (e) { let t = r.customElement && r.customElement.vm; t && (t[n] = e) }}) }) } function getPropsData (i, e, o) { let a = e.propsData || {}, t = i.querySelector('script[type*=json]'); if (t) { let n = void 0; try { n = jsonParse(t.innerHTML) || {} } catch (e) { console.warn(t, 'Content should be a valid JSON string!'), n = {} }a = Object.assign({}, a, n) } return o.hyphenate.forEach(function (e, t) { let n = o.camelCase[t], r = i.getAttribute(e); r !== null ? a[n] = convertAttributeValue(r, o.types[n]) : n in i && (a[n] = i[n]) }), a } function customEvent (e, t) { let n = {bubbles: !1, cancelable: !1, detail: t}, r = void 0; return typeof window.CustomEvent === 'function' ? r = new CustomEvent(e, n) : (r = document.createEvent('CustomEvent')).initCustomEvent(e, n.bubbles, n.cancelable, n.detail), r } function customEmit (e, t) { for (var n = arguments.length, r = Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++)r[i - 2] = arguments[i]; let o = customEvent(t, [].concat(r)); e.dispatchEvent(o) } let docElem = document.documentElement, nativeMatches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector || docElem.matchesSelector; function matches (e, t) { return !(!e || e.nodeType !== 1) && nativeMatches.call(e, t) } let closest = docElem.closest ? function (e, t) { return e.closest(t) } : function (e, t) { for (;e;) { if (matches(e, t)) return e; e = e.parentNode } return null }, contains = docElem.contains ? function (e, t) { return e && e.contains(t) } : function (e, t) { for (e === document && (e = document.documentElement || document.body.parentElement); t;) { if (e === t) return !0; t = t.parentElement } return !1 }; function closestTo (e, t, n) { let r = closest(e, t); return contains(n, r) ? r : null } let createTmpElement = document.createElement('div'); function create (e) { if (createTmpElement.innerHTML = e, !createTmpElement.children.length) return null; let t = Array.prototype.slice.call(createTmpElement.children); return createTmpElement.innerHTML = '', t.length > 1 ? t : t[0] } function waitDocumentReady (e) { if (document.body)e(); else var t = window.setInterval(function () { document.body && (window.clearInterval(t), e()) }, 5) } function insert (e, t) { if (e && t) { let n = Array.prototype.slice.call(t); n.length === 0 && n.push(t); for (let r = 0; r < n.length; r++) this.contains(n[r], e) || n[r] !== e && e.appendChild && e.appendChild(n[r]) } } let dom = {closest: closest, closestTo: closestTo, matches: matches, contains: contains, create: create, insert: insert, waitDocumentReady: waitDocumentReady}; function delegate (e, r, t, i, n) { function o (e) { let t = e.target, n = dom.closestTo(t, r, this); n && i.call(n, e) } return n = !!n, e.addEventListener(t, o, n), function () { e.removeEventListener(t, o), o = e = i = null } } let specialEvents = {}; function createEvent (e, t) { let n = document.createEvent(specialEvents[e] || 'Event'); return n.initEvent(e, !0, !0), t && (n.data = t), n }specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'; let event = {delegate: delegate, create: createEvent}, MULTI_REG = /\s+/, EventEmitter = (function () { function o (e) { classCallCheck(this, o), e && (e.context && this.setEventContext(e.context), e.createEventCallback && (this._createEventCallback = e.createEventCallback), e.removeEventCallback && (this._removeEventCallback = e.removeEventCallback), e.bindEventCallback && (this._bindEventCallback = e.bindEventCallback)) } return createClass(o, [{key: 'on', value: function (e, t) { return multiArgs(this, this.on, e, t) || (this._getEvent(e).push(t), this._bindEventCallback(e, t)), this }}, {key: 'off', value: function (e, t) { if (!e) return t || this.off(Object.keys(this.__events).join(' '), t), null; if (multiArgs(this, this.off, e, t)) return null; let n = void 0; if (t) { let r = (n = this._getEvent(e)).indexOf(t); r > -1 && n.splice(r, 1) } return (!t || n && n.length === 0) && (delete this.__events[e], this._removeEventCallback(e)), e ? this.__events && this.__events[e] : null }}, {key: 'once', value: function (e, t) { let n = t.bind(this), r = this; return n.__once = !0, this.on(e, n), function () { r.off(e, n), n = r = null } }}, {key: 'trigger', value: function (e) { let t = Array.prototype.slice.call(arguments, 1); if (!multiArgs(this, this.trigger, e, t)) for (let n = this._getEvent(e), r = this.__eventContext || this, i = 0; i < n.length; i++)n[i].apply(r, t), n[i].__once && n.splice(i, 1) }}, {key: 'setEventContext', value: function (e) { this.__eventContext = e || this }}, {key: '_getEvent', value: function (e) { return this.__events || (this.__events = {}), this.__events[e] || (this.__events[e] = [], this._createEventCallback(e, this.__events[e])), this.__events[e] }}, {key: '_createEventCallback', value: function (e, t) {}}, {key: '_removeEventCallback', value: function (e) {}}, {key: '_bindEventCallback', value: function (e, t) {}}], [{key: 'mixin', value: function (e) { for (let t = ['on', 'off', 'once', 'trigger', 'setEventContext', '_bindEventCallback', '_createEventCallback', '_getEvent', '_removeEventCallback'], n = 0, r = t.length; n < r; n++) { let i = t[n]; e[i] || (e[i] = o.prototype[i]) } return e }}]), o }()); function multiArgs (e, t, n, r) { if (MULTI_REG.test(n)) { for (let i = n.split(MULTI_REG), o = typeof r !== 'function', a = 0; a < i.length; a++)o ? t.apply(e, [i[a]].concat(r)) : t.call(e, i[a], r); return !0 } return !1 } let STATE_START = 1, STATE_WAIT = 2, STATE_PENDING = 3, STATE_END = 4, STATE_HOLD = 5, STATE_NUMBER = {start: STATE_START, wait: STATE_WAIT, pending: STATE_PENDING, end: STATE_END, hold: STATE_HOLD}, DIRECTION_STR = {0: '', 1: 'up', 2: 'right', 3: 'down', 4: 'left'}, recognizerList = {}, eventList = {}, Recognizer = (function () { function n (e) { classCallCheck(this, n), this._state = STATE_START, this.gesture = e, this.conflictList = {}, this.name = '', this.needAutoReset = !0, this.level = 0 } return createClass(n, [{key: 'recognize', value: function (e) { if (e.eventState === 'start' && this._state === STATE_HOLD && (this._state = STATE_START, this.needAutoReset && this.reset()), this._state !== STATE_HOLD) { let t = this.process(e); this._state !== STATE_HOLD && (this._state = t, this.emitCheck() && this.emit(e)) } }}, {key: 'isState', value: function () { for (let e = arguments, t = 0; t < e.length; t++) { if ((typeof e[t] === 'string' ? STATE_NUMBER[e[t]] : e[t]) === this._state) return !0 } return !1 }}, {key: 'setState', value: function (e) { return (e = typeof e === 'string' ? STATE_NUMBER[e] : e) > 0 && e < 6 && (this._state = e), this._state }}, {key: 'emitCheck', value: function () { if (this._state === STATE_START || this._state === STATE_HOLD) return !1; for (let e in this.conflictList) { if (this.conflictList[e].level > this.level && this.conflictList[e].state !== STATE_HOLD) return !1 } return !0 }}, {key: 'process', value: function (e) { return this._state }}, {key: 'emit', value: function (e) {}}, {key: 'reset', value: function () {}}, {key: 'hold', value: function () { return this._state = STATE_HOLD, this._state }}, {key: 'trigger', value: function (e) { this.gesture.trigger(e.type, e.event, e) }}, {key: 'eventList', get: function () { return this._eventList || [] }, set: function (e) { this._eventList = e }}], [{key: 'register', value: function (e, t) { !e.conflictList && (e.conflictList = []), e.recName = e.prototype.recName = t; for (let n = (recognizerList[t] = e).prototype.eventList, r = 0; r < n.length; r++)eventList[n[r]] = e }}, {key: 'getConflictList', value: function (e) { return recognizerList[e] && recognizerList[e].conflictList }}, {key: 'get', value: function (e) { return recognizerList[e] }}, {key: 'getByEventname', value: function (e) { return eventList[e] }}, {key: 'conflict', value: function (e, t) { typeof e === 'string' && (e = n.get(e), t = n.get(t)), e && t && (e.conflictList.push(t.recName), t.conflictList.push(e.recName)) }}]), n }()); function holdTimeFn () { this._state = STATE_END, this.emit() } let TapRecognizer = (function (e) { function n (e) { classCallCheck(this, n); let t = possibleConstructorReturn(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, e)); return t.boundHoldTimeFn = holdTimeFn.bind(t), t.taps = 1, t.count = 0, t.holdTime = 300, t.time = 250, t.moveRange = 10, t.level = 1, t.needAutoReset = !1, t } return inherits(n, Recognizer), createClass(n, [{key: 'process', value: function (e) { if (e.deltaTime > this.time || e.distance > this.moveRange || e.pointers.length > 1) return this.reset(), this.hold(); if (e.eventState === 'start' && clearTimeout(this.holdTimer), e.eventState !== 'end') return STATE_WAIT; let t = this.preTime && e.timeStamp - this.preTime; return this.preTime = e.timeStamp, t < this.holdTime ? this.count++ : this.count = 1, this._data = e, this.count === this.taps ? this.emitCheck() ? STATE_END : (this.holdTimer = setTimeout(this.boundHoldTimeFn, this.holdTime), STATE_WAIT) : void 0 }}, {key: 'reset', value: function () { this.preTime = null, this.count = 0, this._state = STATE_START, clearTimeout(this.holdTimer) }}, {key: 'emit', value: function () { if (this._state === STATE_END) { let e = this._data, t = Object.create(e); t.type = this.eventList[0], this._data = null, this.trigger(t), this.reset() } }}, {key: 'eventList', get: function () { return this._eventList || ['tap'] }}]), n }()), DoubleTapRecognizer = (function (e) { function n (e) { classCallCheck(this, n); let t = possibleConstructorReturn(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, e)); return t.taps = 2, t.level = 2, t } return inherits(n, TapRecognizer), createClass(n, [{key: 'eventList', get: function () { return this._eventList || ['doubletap'] }}]), n }()), SwipeRecognizer = (function (e) { function n (e) { classCallCheck(this, n); let t = possibleConstructorReturn(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, e)); return t.velocity = 0.03, t.distance = 30, t.duration = 1e3, t } return inherits(n, Recognizer), createClass(n, [{key: 'process', value: function (e) { return e.pointers.length > 1 || e.deltaTime > this.duration ? STATE_HOLD : e.eventState === 'end' && e.velocity >= this.velocity && e.distance > this.distance ? STATE_END : void 0 }}, {key: 'emit', value: function (e) { if (this._state === STATE_END) { let t = Object.create(e); t.type = 'swipe', t.swipeDirection = DIRECTION_STR[e.direction], this.trigger(t); let n = Object.create(e); n.type = 'swipe' + DIRECTION_STR[e.direction], n.swipeDirection = DIRECTION_STR[e.direction], this.trigger(n) } }}, {key: 'eventList', get: function () { return this._eventList || ['swipe', 'swipeup', 'swiperight', 'swipeleft', 'swipedown'] }}]), n }()); Recognizer.register(DoubleTapRecognizer, 'doubletap'), Recognizer.register(TapRecognizer, 'tap'), Recognizer.register(SwipeRecognizer, 'swipe'), Recognizer.conflict(DoubleTapRecognizer, TapRecognizer); let round = Math.round, max = Math.max, abs = Math.abs, dataProcessor = {startCenter: null, lastCenter: null, startTime: null, process: function (e, t, n) { let r = {}, i = Date.now(), o = e.touches.length ? e.touches : e.changedTouches; e.type === 'touchstart' && (this.startCenter = this.getCenter(o), this.startTime = i, this.startData = r, this.preData = null); let a = this.startCenter, s = this.getCenter(o), c = r.deltaTime = i - this.startTime; r.pointers = o, r.x = s.x, r.y = s.y; let l = r.deltaX = s.x - a.x, u = r.deltaY = s.y - a.y; if (r.velocityX = l / c || 0, r.velocityY = u / c || 0, r.velocity = max(abs(r.velocityX), abs(r.velocityY)), r.angle = this.getAngle(a, s), r.distance = this.getDistance(a, s), r.direction = this.getDirection(l, u), r.eventState = e.type.replace('touch', ''), r.timeStamp = i, this.preData) { let d = r.instantDeltaTime = i - this.preData.timeStamp, f = r.instantVelocityX = (r.x - this.preData.x) / d || 0, p = r.instantVelocityY = (r.y - this.preData.y) / d || 0; if (r.eventState === 'move' && (t || n)) { let h = abs(f) > abs(p); (t && h || n && !h) && e.preventDefault() } } else r.instantDeltaTime = r.instantVelocityX = r.instantVelocityY = 0; return (this.preData = r).event = e, Object.freeze(r) }, getCenter: function (e) { return {x: round(e[0].clientX), y: round(e[0].clientY)} }, getAngle: function (e, t) { return 180 * Math.atan2(t.y - e.y, t.x - e.x) / Math.PI }, getDistance: function (e, t) { let n = t.x - e.x, r = t.y - e.y; return Math.sqrt(n * n + r * r) }, getDirection: function (e, t) { return e === t ? 0 : abs(e) >= abs(t) ? e > 0 ? 2 : 4 : t < 0 ? 1 : 3 }}; function throttle (e, t) { let n = void 0, r = void 0, i = void 0, o = 0; function a () { i = 0, o = Date.now(), e.apply(n, r) } return !t && (t = 10), function () { let e = Date.now() - o; n = this, r = arguments, clearTimeout(i), t <= e ? a() : i = setTimeout(a, t - e) } } function values (e) { for (var t = Object.keys(e), n = t.length, r = [], i = 0; i < n; i++)r.push(e[t[i]]); return r } function isPlainObject (e) { return !!e && (void 0 === e ? 'undefined' : _typeof(e)) === 'object' && Object.getPrototypeOf(e) === Object.prototype } function _extend (e, t, n) { for (let r in t) if (n) { if (isPlainObject(t[r]))!isPlainObject(e[r]) && (e[r] = {}); else { if (!Array.isArray(t[r])) { void 0 !== t[r] && (e[r] = t[r]); continue }!Array.isArray(e[r]) && (e[r] = []) }_extend(e[r], t[r], n) } else void 0 !== t[r] && (e[r] = t[r]) } function extend (e) { let t = typeof e === 'boolean', n = !1; t && (n = e, e = arguments[1]); for (let r = t ? 2 : 1; r < arguments.length; r++)_extend(e, arguments[r], n); return e } function pick (e) { let t = arguments[1], n = {}; Array.isArray(t) || (t = Array.prototype.slice.call(arguments, 1)); for (let r = 0; r < t.length; r++) { let i = t[r]; i in e && (n[i] = e[i]) } return n } function isString (e) { return Object.prototype.toString.call(e) === '[object String]' } function del (t, n) { if (t && t[n]) try { delete t[n] } catch (e) { t[n] = void 0 } } function hasTouch () { return 'ontouchstart' in window || void 0 !== window.navigator.maxTouchPoints && window.navigator.maxTouchPoints > 0 || void 0 !== window.DocumentTouch } function isCacheUrl (e) { return /mipcache.bdstatic.com/.test(e) || /^(\/\/|http:\/\/|https:\/\/)[^.]+.mipcdn.com\/(stati)?c\//.test(e) } function getRootName (t) { if (!t) return ''; if (/^iframe-shell/.test(t)) return t; try { return JSON.parse(t).rootName } catch (e) { return t } } let fn = {throttle: throttle, values: values, extend: extend, pick: pick, isPlainObject: isPlainObject, isString: isString, del: del, hasTouch: hasTouch, isCacheUrl: isCacheUrl, getRootName: getRootName}, Gesture = (function (e) { function r (e, t) { classCallCheck(this, r); let n = possibleConstructorReturn(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this)); return n._opt = {preventDefault: !1, stopPropagation: !1, preventX: !0, preventY: !1}, t && (n._opt = fn.extend({}, n._opt, t)), n.__eventContext = n._element = e, n._boundTouchEvent = touchHandler.bind(n), listenersHelp(e, 'touchstart touchmove touchend touchcancel', n._boundTouchEvent), n._recognizers = {}, n } return inherits(r, EventEmitter), createClass(r, [{key: 'cleanup', value: function () { listenersHelp(this._element, 'touchstart touchmove touchend touchcancel', this._boundTouchEvent, !1), this.off() }}, {key: '_createEventCallback', value: function (e) { if (!this._hasRegister(e)) { let t = Recognizer.getByEventname(e); if (t) { e = t.recName; for (let n = this._recognizers[e] = new t(this), r = Recognizer.getConflictList(n.recName), i = 0, o = r.length; i < o; i++) { let a = r[i], s = this._recognizers[a]; s && ((s.conflictList[n.recName] = n).conflictList[s.recName] = s) } } } }}, {key: '_removeEventCallback', value: function (e) { let t = void 0; if (void 0 === e) this._recognizers = {}; else if (t = this._recognizers[e]) { for (let n in t.conflictList) delete t.conflictList[n][e]; delete this._recognizers[e] } }}, {key: '_hasRegister', value: function (e) { return !!this._recognizers[Recognizer.getByEventname(e)] }}, {key: '_recognize', value: function (e) { let t = this._recognizers; for (let n in t) { t[n].recognize(e) } }}]), r }()); function touchHandler (e) { let t = this._opt; if (t.preventDefault && e.preventDefault(), t.stopPropagation && e.stopPropagation(), e.type === 'touchstart' || dataProcessor.startTime) { let n = dataProcessor.process(e, t.preventX, t.preventY); this._recognize(n), this.trigger(e.type, e, n) } } function listenersHelp (e, t, n, r) { for (let i = t.split(' '), o = 0, a = i.length; o < a; o++) { let s = i[o]; !1 === r ? e.removeEventListener(s, n) : e.addEventListener(s, n, !1) } } let Platform = (function () { function e () { classCallCheck(this, e), this.isIos = !1, this.isIOS = !1, this.isAndroid = !1, this.isWechatApp = !1, this.isBaiduApp = !1, this.isWeiboApp = !1, this.isQQApp = !1, this.isAlipayApp = !1, this.isUc = !1, this.isBaidu = !1, this.isQQ = !1, this.isAdr = !1, this.isSafari = !1, this.isChrome = !1, this.isFireFox = !1, this.isFirefox = !1, this.isTrident = !1, this.isGecko = !1, this.isWebkit = !1, this.start() } return createClass(e, [{key: '_matchOs', value: function () { /iPhone|iPad|iPod/i.test(this._ua()) ? (this.isIos = !0, this.isIOS = !0) : /Android/i.test(this._ua()) && (this.isAndroid = !0) }}, {key: '_matchBrowser', value: function () { let e = this._ua().split('Mobile'), t = e && e.length > 1 ? e[1] : null; /\bmicromessenger\/([\d.]+)/i.test(t) ? this.isWechatApp = !0 : /baiduboxapp/i.test(t) ? this.isBaiduApp = !0 : /weibo/i.test(t) ? this.isWeiboApp = !0 : /\sQQ/i.test(t) ? this.isQQApp = !0 : /\sAlipay/i.test(t) ? this.isAlipayApp = !0 : /UCBrowser/i.test(this._ua()) ? this.isUc = !0 : /baidubrowser/i.test(this._ua()) ? this.isBaidu = !0 : /qqbrowser\/([0-9.]+)/i.test(this._ua()) ? this.isQQ = !0 : !/android/i.test(this._ua()) && /\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//i.test(this._ua()) ? this.isSafari = !0 : /(?:Chrome|CrMo|CriOS)\/([0-9]{1,2}\.[0-9]\.[0-9]{3,4}\.[0-9]+)/i.test(this._ua()) && !/samsung/i.test(this._ua()) ? this.isChrome = !0 : /(firefox|FxiOS+)\/([0-9.ab]+)/i.test(this._ua()) ? (this.isFireFox = !0, this.isFirefox = !0) : /android/i.test(this._ua()) && /Android[\s_\-/i686]?[\s_\-/](\d+[.\-_]\d+[.\-_]?\d*)/i.test(this._ua()) && (this.isAdr = !0) }}, {key: '_matchEngine', value: function () { /\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/i.test(this._ua()) ? this.isTrident = !0 : /\brv:([\d\w.]+).*\bgecko\/(\d+)/i.test(this._ua()) ? this.isGecko = !0 : /\bapplewebkit[/]?([0-9.+]+)/i.test(this._ua()) && (this.isWebkit = !0) }}, {key: 'getOsVersion', value: function () { let e = void 0, t = void 0; return this.isAndroid() ? (t = /Android ([._\d]+)/.exec(this._ua()) || /Android\/([\d.]+)/.exec(this._ua())) && t.length > 1 && (e = t[1]) : this.isIOS() && (t = /OS (\d+)_(\d+)_?(\d+)?/.exec(this._appVersion())) && t.length > 3 && (e = t[1] + '.' + t[2] + '.' + (0 | t[3])), e }}, {key: '_wrapFun', value: function () { let e = this; for (let t in e) if (e.hasOwnProperty(t) && typeof e[t] !== 'function') { let n = function (e) { return e }.bind(null, e[t]); e[t] = n }e.needSpecialScroll = e.isIOS() && window !== top }}, {key: '_ua', value: function () { return navigator.userAgent }}, {key: '_appVersion', value: function () { return navigator.appVersion }}, {key: '_start', value: function () { return this._matchOs(), this._matchBrowser(), this._matchEngine(), this._wrapFun(), this }}, {key: 'start', value: function () { this._start() }}]), e }()), platform = new Platform(), PARSE_REG = /^(\w+):\s*([\w-]+)\.([\w-$]+)(?:\((.+)\))?$/, CHECK_REG = /^mip-/, OPTION_KEYS = ['executeEventAction', 'parse', 'checkTarget', 'getTarget', 'attr'], EventAction = (function () { function t (e) { classCallCheck(this, t), e && fn.extend(this, fn.pick(e, OPTION_KEYS)), this.attr = 'on', this.globalTargets = {}, this.installAction() } return createClass(t, [{key: 'installAction', value: function () { this.addGlobalTarget('MIP', this.handleMIPTarget) }}, {key: 'handleMIPTarget', value: function (e) { if (e) { let t = e.event && e.event.target ? e.event.target : {}, r = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,m'.split(','), n = typeof Proxy !== 'undefined' ? new Proxy({DOM: t}, {has: function (e, t) { let n = r.indexOf(t) >= 0; return e[t] || !n }}) : {}, i = new Function('DOM', 'with(this){return ' + e.arg + '}').call(n); if (e.handler === 'setData')MIP.setData(i); else { if (e.handler !== '$set') throw new Error('Can not find handler "' + e.handler + '" from MIP.'); MIP.$set(i) } } }}, {key: 'addGlobalTarget', value: function (e, t) { e && (this.globalTargets[e] = t) }}, {key: 'execute', value: function (e, t, n) { if (t) { let r = void 0, i = '[' + this.attr + ']'; do { if ((r = t.getAttribute(this.attr)) && (this._execute(this.parse(r, e, n)), !(t = t.parentElement))) return; t = dom.closest(t, i) } while (t) } }}, {key: 'checkTarget', value: function (e) { return e && e.tagName && CHECK_REG.test(e.tagName.toLowerCase()) }}, {key: 'getTarget', value: function (e) { return document.getElementById(e) }}, {key: 'executeEventAction', value: function (e, t) { t.executeEventAction && t.executeEventAction(e) }}, {key: '_execute', value: function (e) { for (let t = 0, n = e.length; t < n; t++) { let r = e[t], i = this.globalTargets[r.id]; if (i)i(r); else { let o = this.getTarget(r.id); this.checkTarget(o) && this.executeEventAction(r, o) } } }}, {key: 'parse', value: function (e, t, n) { if (typeof e !== 'string') return []; for (var r = function (e) { return e === '"' || e === "'" }, i = function (e) { return e === ' ' }, o = function (e) { return e === ':' }, a = 0, s = [], c = [], l = 0, u = e.length; l < u; l++) { let d = c[c.length - 1], f = e[l]; if (f !== '(' || r(d)) { if (f === ')' && d === '(')c.pop(); else if (r(f) && e[l - 1] !== '\\')d === f ? c.pop() : c.push(f); else if (o(f) && !c.length)c.push(f); else if (o(d) && !i(e[l + 1]))c.pop(); else if (i(f) && !c.length) { let p = e.substring(a, l).trim(' '); p && s.push(p), a = l } } else c.push(f) } if (c.length) throw new SyntaxError('Can not match ' + c[c.length - 1] + " in statement: 'on=" + e + "'"); let h = e.substring(a, e.length).trim(' '); h && s.push(h); for (var v = [], m = 0, g = s.length; m < g; m++) { let y = s[m].replace(/\n/g, '').match(PARSE_REG); y && y[1] === t && v.push({type: y[1], id: y[2], handler: y[3], arg: y[4], event: n}) } return v }}]), t }()), docBody = document.body, docElem$1 = document.documentElement, round$1 = Math.round; function patchForIOS (e) { if (platform.needSpecialScroll && window !== window.top) { let t = document.createElement('div'); return t.style.cssText = e ? 'position:absolute;width:0;height:0;visibility:hidden;' : 'position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;', docBody.appendChild(t), t } return null } let getterElement = patchForIOS(), setterElement = patchForIOS(), endElement = patchForIOS(!0), rect = {get: function (e, t, n, r) { return {left: e = round$1(e), top: t = round$1(t), width: n = round$1(n), height: r = round$1(r), right: e + n, bottom: t + r} }, scrollingElement: document.scrollingElement || platform.isWebkit() && docBody || docElem$1, getElementRect: function (e) { let t = e.getBoundingClientRect(); return this.get(t.left + this.getScrollLeft(), t.top + this.getScrollTop(), t.width, t.height) }, getElementOffset: function (e) { let t = e.getBoundingClientRect(); return {left: round$1(t.left), top: round$1(t.top), width: round$1(t.width), height: round$1(t.height)} }, getScrollLeft: function () { return round$1(getterElement && -getterElement.getBoundingClientRect().left || this.scrollingElement.scrollLeft || window.pageXOffset || 0) }, getScrollTop: function () { return round$1(getterElement && -getterElement.getBoundingClientRect().top || this.scrollingElement.scrollTop || window.pageYOffset || 0) }, setScrollTop: function (e) { setterElement ? (setterElement.style.top = e + 'px', setTimeout(function () { return setterElement.scrollIntoView(!0) }, 0)) : this.scrollingElement.scrollTop = e }, getScrollHeight: function () { return endElement && endElement !== docBody.lastElementChild && docBody.appendChild(endElement), round$1(endElement ? endElement.offsetTop : this.scrollingElement.scrollHeight) }, getScrollWidth: function () { return window.innerWidth }, overlapping: function (e, t) { return e.top <= t.bottom && t.top <= e.bottom && e.left <= t.right && t.left <= e.right }}, Hash = (function () { function n () { classCallCheck(this, n), this.ssEnabled = ssEnabled(), this.pageId = window.location.href.split('#').shift(); let e = window.location.hash; this.ssEnabled && (e = (window.sessionStorage.getItem(this.pageId) || '') + e); if (this.hashTree = this._getHashObj(e), e) { let t = this._getHashValue(); this.ssEnabled && window.sessionStorage.setItem(this.pageId, t), window.location.hash = t } this.bindAnchor() } return createClass(n, [{key: 'get', value: function (e) { let t = this.hashTree[e]; return t && t.value ? t.value : '' }}, {key: 'bindAnchor', value: function () { let e = this.hashTree.mipanchor; if (e && e.value) if (document.readyState !== 'loading') this.scrollToAnchor(e); else { let t = this.scrollToAnchor.bind(null, e); document.addEventListener('DOMContentLoaded', t, !1) } }}, {key: 'scrollToAnchor', value: function (e) { let t = document.getElementById(e.value); if (t) { let n = rect.getElementOffset(t); t && n.top && rect.setScrollTop(n.top) } }}, {key: 'refreshHashTree', value: function () { let e = window.location.hash; this.hashTree = this._getHashObj(e) }}, {key: '_getHashObj', value: function (e) { let t = {}; if (!e) return t; let n = e.slice(e.indexOf('#') + 1).split('&'); for (let r in n) if (n.hasOwnProperty(r)) { let i = n[r], o = i, a = '', s = i.indexOf('='); if (s === 0) continue; s !== -1 && (o = i.substring(0, s), a = i.slice(s + 1)), t[o] = {value: a, sep: s !== -1 ? '=' : ''} } return t }}, {key: '_getHashValue', value: function () { let e = [], t = this.hashTree; for (let n in t) if (n !== 'prerender' && t.hasOwnProperty(n)) { let r = t[n].value; r = n + t[n].sep + r, e.push(r) } return e.join('&') }}]), n }()); function ssEnabled () { let e = !1; try { window.sessionStorage.setItem('_t', 1), window.sessionStorage.removeItem('_t'), e = !0 } catch (e) {} return e } let hash = new Hash(), camelReg = /(?:(^-)|-)+(.)?/g, supportElement = document.createElement('div'), PREFIX_TYPE = ['webkit', 'moz', 'ms', 'o', 'Webkit', 'Moz', 'O'], prefixCache = {}; function prefixProperty (e) { if (e = e.replace(camelReg, function (e, t, n) { return t ? n : n.toUpperCase() }), prefixCache[e]) return prefixCache[e]; let t = void 0; if (!(e in supportElement.style)) for (let n = 0; n < PREFIX_TYPE.length; n++) { let r = PREFIX_TYPE[n] + e.charAt(0).toUpperCase() + e.slice(1); if (r in supportElement.style) { t = r; break } } return prefixCache[e] = t || e, prefixCache[e] } let UNIT_REG = /^\d+([a-zA-Z]+)/, unitCache = {}; function unitProperty (e, t) { if (t !== +t) return t; if (unitCache[e]) return t + unitCache[e]; supportElement.style[e] = 0; let n = supportElement.style[e], r = n.match && n.match(UNIT_REG); return r ? t + (unitCache[e] = r[1]) : t } function css (e, t, n) { if (!t || !e) return e; if (e.length && e[0]) { if (t && void 0 !== n) { for (let r = 0; r < e.length; r++) { css(e[r], t, n) } return e } for (var i = [], o = 0; o < e.length; o++)i.push(css(e[o], t)); return i } if (!e.nodeType) return e; let a = e; if (typeof t !== 'string' || void 0 !== n) { let s = void 0; if (typeof t === 'string')s = prefixProperty(t), a.style[s] = unitProperty(s, n); else for (let c in t)n = t[c], s = prefixProperty(c), a.style[s] = unitProperty(s, n); return a } return t = prefixProperty(t), a.style[t] || document.defaultView.getComputedStyle(a)[t] } let Naboo = (function (e) { function r () { classCallCheck(this, r); let e = possibleConstructorReturn(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this)); return e.steps = [], e._index = -1, e.canceled = !1, e } return inherits(r, EventEmitter), createClass(r, [{key: 'start', value: function (e) { return e && this.on('end', e), this.trigger('start'), this.next(), this }}, {key: 'next', value: function () { this.canceled || (this._index++, this._index >= this.steps.length ? this.trigger('end') : this.steps[this._index].call(this)) }}, {key: 'cancel', value: function () { this.canceled = !0 }}], [{key: 'register', value: function (t, n) { r[t] = function () { let e = new r(); return e[t].apply(e, arguments), e }, r.prototype[t] = function () { let e = this, t = Array.prototype.slice.call(arguments, 0); return t.unshift(this.next.bind(this)), this.steps.push(function () { return n.apply(e, t) }), this } }}]), r }()), x7, y7, z7, A7, B7, C7, D7; Naboo.register('p', function (t) { let e = Array.prototype.slice.call(arguments, 1), n = e.length; e.forEach(function (e) { return e.start(function () { return n-- == 0 && t() }) }) }), Naboo.register('done', function (e, t) { t(e) }), Naboo.tool = (function () { let e = '', t = '', i = {Webkit: 'webkit', Moz: '', O: 'o'}, o = document.createElement('div'); function a (e) { return e.replace(/([A-Z])/g, '-$1').toLowerCase() } if (void 0 === o.style.transform) for (let n in i) if (void 0 !== o.style[n + 'TransitionProperty']) { e = '-' + n.toLowerCase() + '-', t = i[n]; break } return {prefix: e, dasherize: a, normalizeEvent: function (e) { return t ? t + e : e.toLowerCase() }, off: void 0 === t && void 0 === o.style.transitionProperty, setCss: function (e, t) { let n = ''; for (let r in t)t[r] || t[r] === 0 ? n += a(r) + ':' + t[r] + ';' : e.style.removeProperty(a(r)); e.style.cssText += ';' + n }, handleUnit: function (e, t) { if (t !== +t) return t; o.style[e] = 0; let n = o.style[e], r = n.match && n.match(/^\d+([a-zA-Z]+)/); return r ? t + r[1] : t }, getPropName: function (e) { let t = void 0; if (void 0 !== o.style[e])t = e; else for (let n in i) { let r = '-' + i[n] + '-'; if (void 0 !== o.style[r + e]) { t = r + e; break } } return t }} }()), Naboo.transition = (x7 = Naboo.tool.prefix, y7 = x7 + 'transition-property', z7 = x7 + 'transition-duration', A7 = x7 + 'transition-delay', B7 = x7 + 'transition-timing-function', C7 = Naboo.tool.normalizeEvent('TransitionEnd'), D7 = {}, D7[y7] = '', D7[z7] = '', D7[A7] = '', D7[B7] = '', function (n, e) { let t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; if (n && Object.prototype.toString.call(e) === '[object Object]') { t = t || {}; let r = parseInt(t.duration, 10) || 400, i = ['ease', 'linear', 'ease-in', 'ease-out', 'ease-in-out'].indexOf(t.ease) > -1 ? t.ease : 'ease', o = parseInt(t.delay, 10) || 0, a = typeof t.cb === 'function' ? t.cb : function () {}, s = n.getAttribute('data-naboo'); s !== +s && (s = 0), n.setAttribute('data-naboo', s + 1), Naboo.tool.off && (r = 0), r = Math.max(r, 0), r /= 1e3, o /= 1e3; let c = [], l = {}; for (let u in e) if (e.hasOwnProperty(u)) { let d = u; u = Naboo.tool.getPropName(u); let f = Naboo.tool.handleUnit(u, e[d]); l[u] = f, c.push(Naboo.tool.dasherize(u)) } if (r > 0) { let p = n.style[y7]; p && (p += ', '), l[y7] = p + c.join(', '); let h = n.style[z7]; (h || parseInt(h, 10) === 0) && (h += ', '), l[z7] = h + r + 's'; let v = n.style[B7]; v && (v += ', '), l[B7] = v + i; let m = n.style[A7]; (m || parseInt(m, 10) === 0) && (m += ', '), l[A7] = m + o + 's' } let g = !1, y = Naboo.tool.setCss, b = function e (t) { if (!t || t.elapsedTime === r + o) { if (void 0 !== t) { if (t.target !== t.currentTarget) return; t.target.removeEventListener(C7, e) } else n.removeEventListener(C7, e); g = !0, n.setAttribute('data-naboo', +n.getAttribute('data-naboo') - 1), +n.getAttribute('data-naboo') == 0 && y(n, D7), a && a() } }; r > 0 && n.addEventListener(C7, b), setTimeout(function () { return !g && b() }, 1e3 * (r + o) + 25), n.clientLeft, y(n, l) } }), Naboo.register('animate', function (e, t, n, r) { let i = (r = r || {}).cb; r.cb = function () { i && i(), e() }, r.mode = ['transition'].indexOf(r.mode) > -1 ? r.mode : 'transition', Naboo[r.mode](t, n, r) }); let storageType = {LOCALSTORAGE: 0, ASYNCSTORAGE: 1, COOKIESTORAGE: 2}, eCode = {siteExceed: 21, lsExceed: 22}, lsCache = {}, href = window.location.href, reg = /[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/g, matchArr = href.match(reg), HOST = matchArr && matchArr.length > 1 ? matchArr[1] : '', STORAGESIZE = 4096, LocalStorage = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: '_isCachePage', value: function () { return fn.isCacheUrl(href) }}, {key: '_supportLs', value: function () { let t = !1; try { window.localStorage.setItem('lsExisted', '1'), window.localStorage.removeItem('lsExisted'), t = !0 } catch (e) { t = !1 } return t }}, {key: '_getLocalStorage', value: function () { let e = this._supportLs() ? localStorage.getItem(HOST) : lsCache[HOST]; return updateTime(e = e ? parseJson(e) : {}), e }}, {key: '_rmLocalStorage', value: function (e) { e || (e = HOST), this._supportLs() ? localStorage.removeItem(e) : fn.del(lsCache, e) }}, {key: 'set', value: function (e, t, n, r) { if (e && t) if (r = typeof n === 'function' ? n : r, this._isCachePage()) { let i = this._getLocalStorage(); if (i[e] = t, n = parseInt(n, 10), !isNaN(n) && n > 0 ? i.e = (new Date()).getTime() + n : fn.del(i, 'e'), (i = JSON.stringify(i)).length > STORAGESIZE) throw r && r(getError(eCode.siteExceed, getErrorMess(eCode.siteExceed))), getErrorMess(eCode.siteExceed); this._setLocalStorage(HOST, i, n, r) } else this._setLocalStorage(e, t, n, r) }}, {key: '_setLocalStorage', value: function (t, n, r, i) { let o = getErrorMess(eCode.lsExceed, t); if (i = typeof r === 'function' ? r : i, this._supportLs()) try { localStorage.setItem(t, n) } catch (e) { if (this._isExceed(e) && this._isCachePage()) this._exceedHandler(t, n, r); else if (this._isExceed(e) && !this._isCachePage()) throw i && i(getError(eCode.lsExceed, o)), o } else { let e = n.length / 1024 / 1024; for (let a in lsCache)lsCache[a] && (e += lsCache[a].length / 1024 / 1024); if (e > 5) throw i && i(eCode.lsExceed, o), o; lsCache[t] = n } }}, {key: 'get', value: function (e) { if (fn.isString(e)) { let t = void 0; if (this._isCachePage()) { let n = this._getLocalStorage(); n && n[e] && (t = n[e]) } else t = this._supportLs() ? localStorage.getItem(e) : lsCache[e]; return t } }}, {key: 'rm', value: function (e) { if (fn.isString(e)) if (this._isCachePage()) { let t = this._getLocalStorage(); t && t[e] && (fn.del(t, e), this._setLocalStorage(HOST, JSON.stringify(t))) } else this._supportLs() ? localStorage.removeItem(e) : fn.del(lsCache, e) }}, {key: 'clear', value: function () { this._isCachePage() ? this._rmLocalStorage() : this._supportLs() ? localStorage.clear() : lsCache = {} }}, {key: 'rmExpires', value: function () { let e = !1; if (this._isCachePage()) { let t = this._supportLs() ? localStorage : lsCache; for (let n in t) if (t[n]) { let r = void 0; if (typeof t[n] === 'string' && (r = parseJson(t[n])), r && r.e) { let i = parseInt(parseJson(t[n]).e, 10); i && (new Date()).getTime() >= i && (e = !0, this._rmLocalStorage(n)) } } } return e }}, {key: '_isExceed', value: function (e) { let t = !1; if (e && e.code) switch (e.code) { case 22:t = !0; break; case 1014:t = e.name === 'NS_ERROR_DOM_QUOTA_REACHED' } else e && e.number === -2147024882 && (t = !0); return t }}, {key: '_exceedHandler', value: function (e, t, n) { let r = void 0, i = void 0; if (!this.rmExpires()) { let o = localStorage; for (let a in o) if (o[a]) { let s = parseJson(o[a]).u; (!i || parseInt(s, 10) < r) && (i = a, r = parseInt(s, 10)) } this._rmLocalStorage(i) } this.set(e, t, n) }}]), e }()), AsyncStorage = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: 'request', value: function (t) { if (t && t.url) { let e = {}; e.mode = t.mode ? t.mode : null, e.method = t.method ? t.method : 'GET', e.credentials = t.credentials ? t.credentials : 'omit', e.cache = t.cache ? t.cache : 'default', t.headers && (e.headers = t.headers), t.body && (e.body = t.body), fetch(t.url, e).then(function (e) { e.ok ? e.text().then(function (e) { return t.success && t.success(parseJson(e)) }) : t.error && t.error(e) }).catch(function (e) { return t.error && t.error(e) }) } }}]), e }()), CookieStorage = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: 'delExceedCookie', value: function () { if (!this._notIframed()) { let e = window.location.hostname, t = document.cookie; if (!(document.cookie.length < 5120)) for (let n = t.split(';'), r = 0; r < n.length; r++) { let i = n[r].split('='); if (i && i.length > 1) { let o = new Date(), a = i[0].trim(), s = i[1].trim(); o.setMilliseconds(o.getMilliseconds() - 864e5), this._set({key: a, value: s, expires: o, domain: e}), this._get(a) && this._set({key: a, value: s, expires: o, domain: e.split('.').slice(-2).join('.')}) } if (document.cookie.length <= 3072) break } } }}, {key: '_notIframed', value: function () { return window === top }}, {key: '_get', value: function (e) { e = e.trim(); for (let t = document.cookie, n = t ? t.split(';') : [], r = 0, i = n.length; r < i; r++) { let o = n[r].split('='); if (o[0].trim() === e) return o[1] } }}, {key: '_set', value: function (e) { document.cookie = [e.key, '=', '; expires=' + e.expires.toGMTString(), '; path=/', '; domain=' + e.domain].join('') }}]), e }()); function updateTime (e) { e.u = (new Date()).getTime() } function parseJson (e) { try { e = JSON.parse(e) } catch (e) {} return e } function getErrorMess (e, t) { let n = void 0; switch (e) { case eCode.siteExceed:n = 'storage space need less than 4k'; break; case eCode.lsExceed:n = 'Uncaught DOMException: Failed to execute setItem on Storage: Setting the value of ' + t + ' exceeded the quota at ' + window.location.href } return n } function getError (e, t) { return {errCode: e, errMess: t} } function customStorage (e) { switch (e) { case storageType.ASYNCSTORAGE:return new AsyncStorage(); case storageType.LOCALSTORAGE:return new LocalStorage(); case storageType.COOKIESTORAGE:return new CookieStorage() } } function makeCacheUrl (e, t, n) { if (fn.isCacheUrl(e) || !fn.isCacheUrl(location.href) || e && e.length < 8 || e.indexOf('http') !== 0 && e.indexOf('//') !== 0) return e; let r = t === 'img' ? '/i/' : '/c/'; e.indexOf('//') !== 0 && e.indexOf('https') !== 0 || (r += 's/'); let i = e.split('//'); i.shift(); let o = i[0].substring(0, i[0].indexOf('/')), a = r + (e = i.join('//')); return n && (a = location.protocol + '//' + o.replace(/-/g, '--').replace(/\./g, '-') + '.mipcdn.com' + a), a } function parseCacheUrl (e) { if (!e) return e; if (e.indexOf('http') !== 0 && e.indexOf('/') !== 0) return e; let t = new RegExp('^(http(?:s?):)?(//([^/]+))?/[ic](/s)?/(.*)$', 'g').exec(e); if (!t) return e; let n = t[4] ? 'https:' : 'http:'; n += t[5] ? '//' + t[5] : ''; return /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/.test(n) ? n : e } function getOriginalUrl (e) { e || (e = window.location.href); let t = parseCacheUrl(e); if (t === e) return t; let n = t.split('#')[0], r = hash.get('mipanchor'); return n + (r.length ? '#' : '') + r } function isCacheUrl$1 (e) { return fn.isCacheUrl(e) } let util = {fn: fn, dom: dom, event: event, rect: rect, css: css, hash: hash, platform: platform, parseCacheUrl: parseCacheUrl, makeCacheUrl: makeCacheUrl, getOriginalUrl: getOriginalUrl, isCacheUrl: isCacheUrl$1, EventEmitter: EventEmitter, Gesture: Gesture, customStorage: customStorage, naboo: Naboo, jsonParse: jsonParse}, supportsPassiveFlag = !1; try { let opts = Object.defineProperty({}, 'passive', {get: function () { supportsPassiveFlag = !0 }}); window.addEventListener('testPassive', null, opts), window.removeEventListener('testPassive', null, opts) } catch (e) {} let supportsPassive = supportsPassiveFlag, transitionEndEventName = 'transitionend', animationEndEventName = 'animationend'; void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (transitionEndEventName = 'webkitTransitionEnd'), void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (animationEndEventName = 'webkitAnimationEnd'); let transitionEndEvent = transitionEndEventName, animationEndEvent = animationEndEventName, raf = window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout; function isPortrait () { return window.innerHeight > window.innerWidth } function resolvePath (e, t, n) { let r = e.charAt(0); if (r === '/') return e; if (r === '?' || r === '#') return t + e; let i = t.split('/'); n && i[i.length - 1] || i.pop(); for (let o = e.replace(/^\//, '').split('/'), a = 0; a < o.length; a++) { let s = o[a]; s === '..' ? i.pop() : s !== '.' && i.push(s) } return i[0] !== '' && i.unshift(''), i.join('/') } function parsePath (e) { let t = '', n = '', r = e.indexOf('#'); r >= 0 && (t = e.slice(r), e = e.slice(0, r)); let i = e.indexOf('?'); return i >= 0 && (n = e.slice(i + 1), e = e.slice(0, i)), {path: e, query: n, hash: t} } function getLocation () { return window.location.href } function getCleanPageId (e) { return e && e.replace(/#.*$/, '') } let docElem$2 = document.documentElement, win = window, scrollEvent = fn.throttle(function (e) { this.trigger('scroll', e) }, 1e3 / 60), changedEvent = fn.throttle(function (e) { this.trigger('changed', e) }, 200), scrollHandle = function (e) { scrollEvent.call(this, e), changedEvent.call(this, e) }, savedWindowWidth = win.innerWidth || docElem$2.clientWidth, currentWindowWidth = void 0, resizeEvent = fn.throttle(function (e) { (currentWindowWidth = this.getWidth()) !== savedWindowWidth && (this.trigger('resize', e), savedWindowWidth = currentWindowWidth) }, 200), viewport = {init: function () { this.scroller = platform.needSpecialScroll ? document.body : win, this.scroller.addEventListener('scroll', scrollHandle.bind(this), !1), win.addEventListener('resize', resizeEvent.bind(this)) }, getScrollTop: function () { return rect.getScrollTop() }, getScrollLeft: function () { return rect.getScrollLeft() }, setScrollTop: function (e) { rect.setScrollTop(e || 1) }, getWidth: function () { return win.innerWidth || docElem$2.clientWidth }, getHeight: function () { return platform.isIOS() ? docElem$2.clientHeight || win.innerHeight : win.innerHeight || docElem$2.clientHeight }, getScrollWidth: function () { return rect.getScrollWidth() }, getScrollHeight: function () { return rect.getScrollHeight() }, getRect: function () { return rect.get(this.getScrollLeft(), this.getScrollTop(), this.getWidth(), this.getHeight()) }}; EventEmitter.mixin(viewport); let MIP_IFRAME_CONTAINER = 'mip-page__iframe', DEFAULT_SHELL_CONFIG = {header: {title: '', logo: '', buttonGroup: [], show: !1, bouncy: !0}, view: {isIndex: !1}}, MESSAGE_ROUTER_PUSH = 'router-push', MESSAGE_ROUTER_REPLACE = 'router-replace', MESSAGE_ROUTER_BACK = 'router-back', MESSAGE_ROUTER_FORWARD = 'router-forward', MESSAGE_CROSS_ORIGIN = 'page-cross-origin', MESSAGE_BROADCAST_EVENT = 'page-broadcast-event', MESSAGE_PAGE_RESIZE = 'page-resize', MESSAGE_MIPIFRAME_RESIZE = 'mip-iframe-resize', MESSAGE_PAGE_ACTIVE = 'page-active', MESSAGE_PRERENDER_INTERACTIVE = 'prerender-interactive', NON_EXISTS_PAGE_ID = 'non-exists-page-id', CUSTOM_EVENT_RESIZE_PAGE = 'resize-page', CUSTOM_EVENT_SCROLL_TO_ANCHOR = 'scroll-to-anchor', CUSTOM_EVENT_SHOW_PAGE = 'show-page', CUSTOM_EVENT_HIDE_PAGE = 'hide-page', MAX_PAGE_NUM = 6, OUTER_MESSAGE_PERFORMANCE_UPDATE = 'performance-update', OUTER_MESSAGE_CHANGE_STATE = 'change-state', OUTER_MESSAGE_HISTORY_NAVIGATE = 'history-navigate', OUTER_MESSAGE_PUSH_STATE = 'push-state', OUTER_MESSAGE_REPLACE_STATE = 'replace-state', OUTER_MESSAGE_CLOSE = 'close', encodeReserveRE = /[!'()*]/g, encodeReserveReplacer = function (e) { return '%' + e.charCodeAt(0).toString(16) }, commaRE = /%2C/g, encode = function (e) { return encodeURIComponent(e).replace(encodeReserveRE, encodeReserveReplacer).replace(commaRE, ',') }, decode = decodeURIComponent; function resolveQuery (e) { let t = void 0; try { t = parseQuery(e || '') } catch (e) { t = {} } return t } function parseQuery (e) { let i = {}; return (e = e.trim().replace(/^(\?|#|&)/, '')) && e.split('&').forEach(function (e) { let t = e.replace(/\+/g, ' ').split('='), n = decode(t.shift()), r = t.length > 0 ? decode(t.join('=')) : null; void 0 === i[n] ? i[n] = r : Array.isArray(i[n]) ? i[n].push(r) : i[n] = [i[n], r] }), i } function stringifyQuery (r) { let e = r ? Object.keys(r).map(function (t) { let e = r[t]; if (void 0 === e) return ''; if (e === null) return encode(t); if (Array.isArray(e)) { let n = []; return e.forEach(function (e) { void 0 !== e && (e === null ? n.push(encode(t)) : n.push(encode(t) + '=' + encode(e))) }), n.join('&') } return encode(t) + '=' + encode(e) }).filter(function (e) { return e.length > 0 }).join('&') : null; return e ? '?' + e : '' } let trailingSlashRE = /\/?$/, locationRE = /^(http(?:s?):\/\/[^/]+)(.*)/; function normalizeLocation (e, t) { let n = e; typeof e === 'string' && (n = {path: e}); let r = n.path.match(locationRE); r && (n.origin = r[1], n.path = r[2]); let i = n.origin || t.origin, o = t && t.path || '/', a = parsePath(n.path || ''), s = a.path ? resolvePath(a.path, o) : o, c = resolveQuery(a.query), l = n.hash || a.hash; return l && l.charAt(0) !== '#' && (l = '#' + l), {origin: i, path: s, query: c, hash: l, meta: n.meta || {}, fullPath: getFullPath({origin: i, path: s, query: c, hash: l})} } function createRoute (e) { let t = {origin: e.origin || window.location.origin, path: e.path || e.pathname, query: e.query || resolveQuery(e.search), hash: e.hash, meta: e.meta || {}}, n = getFullPath(t); return t.fullPath = n, Object.freeze(t) } let START = createRoute({path: '/'}); function getFullPath (e) { let t = e.href, n = e.origin, r = void 0 === n ? window.location.origin : n, i = e.path, o = void 0 === i ? '/' : i, a = e.query, s = void 0 === a ? {} : a, c = e.hash, l = void 0 === c ? '' : c; return t || r + o + stringifyQuery(s) + l } function isSameRoute (e, t, n) { return t === START ? e === t : !!t && (e.origin === t.origin && (!(!e.path || !t.path) && (e.path.replace(trailingSlashRE, '') === t.path.replace(trailingSlashRE, '') && (n || e.hash === t.hash) && isObjectEqual(e.query, t.query)))) } function isObjectEqual () { let r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!r || !i) return r === i; let e = Object.keys(r), t = Object.keys(i); return e.length === t.length && e.every(function (e) { let t = r[e], n = i[e]; return (void 0 === t ? 'undefined' : _typeof(t)) === 'object' && (void 0 === n ? 'undefined' : _typeof(n)) === 'object' ? isObjectEqual(t, n) : String(t) === String(n) }) } function createIFrame (e) { let t = e.fullpath, n = e.pageId, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = r.onLoad, o = r.onError, a = document.querySelector('.' + MIP_IFRAME_CONTAINER + '[data-page-id="' + n + '"]'); a && a.parentNode.removeChild(a), (a = document.createElement('iframe')).onload = function () { typeof i === 'function' && i(a) }, a.onerror = function () { typeof o === 'function' && o(a) }; let s = normalizeLocation(n).origin, c = JSON.stringify({standalone: window.MIP.standalone, isRootPage: !1, isCrossOrigin: s !== window.location.origin, rootName: window.MIP.viewer.rootName}); return a.setAttribute('name', c), a.setAttribute('src', t), a.setAttribute('class', MIP_IFRAME_CONTAINER), a.style.height = viewport.getHeight() + 'px', a.setAttribute('width', '100%'), a.setAttribute('scrolling', platform.isIos() ? 'no' : 'yes'), a.setAttribute('data-page-id', n), a.setAttribute('sandbox', 'allow-top-navigation allow-popups allow-scripts allow-forms allow-pointer-lock allow-popups-to-escape-sandbox allow-same-origin allow-modals'), document.body.appendChild(a), a } function getIFrame (e) { return typeof e === 'string' ? document.querySelector('.' + MIP_IFRAME_CONTAINER + '[data-page-id="' + e + '"]') : e } function hideAllIFrames () { let e = document.querySelectorAll('.' + MIP_IFRAME_CONTAINER); if (e) for (let t = 0; t < e.length; t++)css(e[t], {display: 'none', opacity: 0}) } function createLoading (e) { let t = document.querySelector('#mip-page-loading-wrapper'); if (t) return t; let n = e && e.header.logo || ''; return (t = document.createElement('mip-fixed')).id = 'mip-page-loading-wrapper', t.setAttribute('class', 'mip-page-loading-wrapper'), t.innerHTML = '\n    <div class="mip-shell-header">\n      <span mip-header-btn class="back-button">\n        <svg t="1530857979993" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3173"\n          xmlns:xlink="http://www.w3.org/1999/xlink">\n          <path  fill="currentColor" d="M348.949333 511.829333L774.250667 105.728C783.978667 96 789.333333 83.712 789.333333 71.104c0-12.629333-5.354667-24.917333-15.082666-34.645333-9.728-9.728-22.037333-15.082667-34.645334-15.082667-12.586667 0-24.917333 5.333333-34.624 15.082667L249.557333 471.616A62.570667 62.570667 0 0 0 234.666667 512c0 10.410667 1.130667 25.408 14.890666 40.042667l455.424 435.605333c9.706667 9.728 22.016 15.082667 34.624 15.082667s24.917333-5.354667 34.645334-15.082667c9.728-9.728 15.082667-22.037333 15.082666-34.645333 0-12.608-5.354667-24.917333-15.082666-34.645334L348.949333 511.829333z"\n            p-id="3174"></path>\n        </svg>\n      </span>\n      <div class="mip-shell-header-logo-title">\n        <img class="mip-shell-header-logo" src="' + n + '">\n        <span class="mip-shell-header-title"></span>\n      </div>\n    </div>\n  ', document.body.appendChild(t), t } function getLoading (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.onlyHeader, r = t.transitionContainsHeader, i = document.querySelector('#mip-page-loading-wrapper'); if (i || (createLoading(), i = document.querySelector('#mip-page-loading-wrapper')), !e) return i; if (!r && n) return css(i, 'display', 'none'), i; i.classList.toggle('transition-without-header', !r), r && i.classList.toggle('only-header', !!n), r && e.header.show ? css(i.querySelector('.mip-shell-header'), 'display', 'flex') : css(i.querySelector('.mip-shell-header'), 'display', 'none'); let o = i.querySelector('.mip-shell-header-logo'); if (e.header.logo ? (o.setAttribute('src', e.header.logo), css(o, 'display', 'block')) : css(o, 'display', 'none'), e.header.title && (i.querySelector('.mip-shell-header-title').innerHTML = e.header.title), css(i.querySelector('.back-button'), 'display', e.view.isIndex ? 'none' : 'flex'), r && e.header.show) { let a = e.header, s = a.color, c = void 0 === s ? '#000000' : s, l = a.borderColor, u = a.backgroundColor, d = void 0 === u ? '#ffffff' : u; css(i.querySelector('.mip-shell-header'), 'background-color', d), css(i.querySelectorAll('svg'), 'fill', c), css(i.querySelector('.mip-shell-header-title'), 'color', c), css(i.querySelector('.mip-shell-header-logo'), 'border-color', l), css(i.querySelector('.mip-shell-header-button-group'), 'border-color', l), css(i.querySelector('.mip-shell-header-button-group .split'), 'background-color', l) } return i } function createFadeHeader (e) { let t = document.querySelector('#mip-page-fade-header-wrapper'); if (t) return t; let n = e && e.header.logo || ''; return (t = document.createElement('mip-fixed')).id = 'mip-page-fade-header-wrapper', t.setAttribute('class', 'mip-page-fade-header-wrapper'), t.innerHTML = '\n    <div class="mip-shell-header">\n      <span class="back-button">\n        <svg t="1530857979993" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3173"\n          xmlns:xlink="http://www.w3.org/1999/xlink">\n          <path  fill="currentColor" d="M348.949333 511.829333L774.250667 105.728C783.978667 96 789.333333 83.712 789.333333 71.104c0-12.629333-5.354667-24.917333-15.082666-34.645333-9.728-9.728-22.037333-15.082667-34.645334-15.082667-12.586667 0-24.917333 5.333333-34.624 15.082667L249.557333 471.616A62.570667 62.570667 0 0 0 234.666667 512c0 10.410667 1.130667 25.408 14.890666 40.042667l455.424 435.605333c9.706667 9.728 22.016 15.082667 34.624 15.082667s24.917333-5.354667 34.645334-15.082667c9.728-9.728 15.082667-22.037333 15.082666-34.645333 0-12.608-5.354667-24.917333-15.082666-34.645334L348.949333 511.829333z"\n            p-id="3174"></path>\n        </svg>\n      </span>\n      <div class="mip-shell-header-logo-title">\n        <img class="mip-shell-header-logo" src="' + n + '">\n        <span class="mip-shell-header-title"></span>\n      </div>\n    </div>\n  ', document.body.appendChild(t), t } function getFadeHeader (e, t) { let n = document.querySelector('#mip-page-fade-header-wrapper'); if (n || (createFadeHeader(), n = document.querySelector('#mip-page-fade-header-wrapper')), !e) return n; let r = n.querySelector('.mip-shell-header-logo'); e.header.logo ? (r.setAttribute('src', e.header.logo), css(r, 'display', 'block')) : css(r, 'display', 'none'), e.header.title && (n.querySelector('.mip-shell-header-title').innerHTML = e.header.title), css(n.querySelector('.back-button'), 'display', e.view.isIndex ? 'none' : 'flex'); let i = t ? t.header : {}, o = i.color, a = void 0 === o ? '#000000' : o, s = i.borderColor, c = void 0 === s ? '#e1e1e1' : s, l = i.backgroundColor, u = void 0 === l ? '#ffffff' : l; return css(n.querySelector('.mip-shell-header'), 'background-color', u), css(n.querySelectorAll('svg'), 'fill', a), css(n.querySelector('.mip-shell-header-title'), 'color', a), css(n.querySelector('.mip-shell-header-logo'), 'border-color', c), css(n.querySelector('.mip-shell-header-button-group'), 'border-color', c), css(n.querySelector('.mip-shell-header-button-group .split'), 'background-color', c), n } function toggleFadeHeader (e, t) { let n = getFadeHeader(t); e ? (css(n, 'display', 'block'), n.classList.add('fade-enter', 'fade-enter-active'), n.offsetWidth, whenTransitionEnds(n, 'transition', function () { n.classList.remove('fade-enter-to', 'fade-enter') }), nextFrame(function () { n.classList.add('fade-enter-to'), n.classList.remove('fade-enter') })) : css(n, 'display', 'none') } function ensureMIPShell () { if (!document.querySelector('mip-shell') && !document.querySelector('[mip-shell]')) { let e = document.createElement('mip-shell'), t = document.createElement('script'); t.setAttribute('type', 'application/json'), t.innerHTML = '{"ignoreWarning": true}', e.appendChild(t), document.body.appendChild(e) } } function nextFrame (e) { raf(function () { raf(e) }) } function whenTransitionEnds (t, e, n) { if (!e) return n(); var r = e === 'transition' ? transitionEndEvent : animationEndEvent, i = function (e) { e.target === t && o() }, o = function () { t.removeEventListener(r, i), n() }; t.addEventListener(r, i) } let Debouncer = (function () { function t (e) { classCallCheck(this, t), this.callback = e, this.ticking = !1 } return createClass(t, [{key: 'update', value: function () { this.callback && this.callback(), this.ticking = !1 }}, {key: 'requestTick', value: function () { this.ticking || (raf(this.rafCallback || (this.rafCallback = this.update.bind(this))), this.ticking = !0) }}, {key: 'handleEvent', value: function () { this.requestTick() }}]), t }()); function scrollTo (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.duration, r = void 0 === n ? 500 : n, i = t.scrollTop, o = void 0 === i ? 0 : i, a = e; if (a === o) return Promise.resolve(); let s = a - o, c = s > 0; return new Promise(function (resolve) { transition(r, function (e) { let t = Math.ceil(e * s) + o; return c && a <= t || !c && t <= a ? (scroll(a), !1) : (scroll(t), !0) }, function () { scroll(a), e() }) }) } function transition (n, r, i) { let o = Date.now(); raf(function e () { let t = Date.now() - o; r(bezier(t, 0, 1, n)) ? raf(e) : i() }) } function bezier (e, t, n, r) { return 1.0042954579734844 * Math.exp(-6.404173895841566 * Math.exp(-7.290824133098134 * e / r)) * n + t } function scroll (e) { viewport.setScrollTop(e) } let EventEmitter$1 = util.EventEmitter, fsElements = [], fsElementsLocked = !1, isStart = !1, recorder = {}, performanceEvent = new EventEmitter$1(); function addFsElement (e) { fsElementsLocked || fsElements.push(e) } function removeFsElement (e) { let t = fsElements.indexOf(e); t !== -1 && fsElements.splice(t, 1) } function getTiming () { let e = void 0, t = window.performance; return e = t && t.timing ? t.timing.toJSON ? t.timing.toJSON() : util.fn.extend({}, t.timing) : {}, util.fn.extend(e, recorder) } function recordTiming (e, t) { recorder[e] = parseInt(t, 10) || Date.now(), performanceEvent.trigger('update', getTiming()) } function tryRecordFirstScreen () { recorder.MIPFirstScreen || fsElements.length === 0 && recordTiming('MIPFirstScreen') } function domLoaded () { recordTiming('MIPDomContentLoaded'), setTimeout(function () { fsElements = fsElements.filter(function (e) { return e.inViewport() }), fsElementsLocked = !0, tryRecordFirstScreen() }, 10) } function fsElementLoaded (e) { removeFsElement(e), tryRecordFirstScreen() } function start (e) { isStart || (isStart = !0, recordTiming('MIPStart', e), viewer.on('show', function (e) { recordTiming('MIPPageShow', e) }), document.readyState === 'complete' ? domLoaded() : document.addEventListener('DOMContentLoaded', domLoaded, !1)) } let performance = {start: start, addFsElement: addFsElement, fsElementLoaded: fsElementLoaded, getTiming: getTiming, recordTiming: recordTiming, on: function () { performanceEvent.on.apply(performanceEvent, arguments) }}, eventListenerOptions = !!supportsPassive && {passive: !0}, Page = (function () { function e () { classCallCheck(this, e), Object.assign(this, window.MIP.viewer.pageMeta), this.pageId = void 0, this.fullpath = void 0, this.pageMeta = void 0, this.currentPageId = void 0, this.targetWindow = window, this.MAX_PAGE_NUM = MAX_PAGE_NUM, this.children = [] } return createClass(e, [{key: 'initPageId', value: function () { this.fullpath = window.location.href, this.pageId = getCleanPageId(this.fullpath), this.currentPageId = this.pageId }}, {key: 'scrollToHash', value: function (e) { if (typeof e === 'string' && e[0] === '#') { let t = e.slice(1); try { let n = document.getElementById(t) || document.getElementById(decodeURIComponent(t)) || document.querySelector('a[name="' + t + '"]'); n && scrollTo(n.offsetTop, {scrollTop: viewport.getScrollTop()}) } catch (e) {} } }}, {key: 'setupBouncyHeader', value: function () { let n = this; if (!this.bouncyHeaderSetup) { let r = void 0, i = 0, o = void 0, a = viewport.getScrollHeight(), s = viewport.getHeight(); s !== 0 ? (this.bouncyHeaderSetup = !0, this.debouncer = new Debouncer(function () { if (r = viewport.getScrollTop(), o = Math.abs(r - i), !(r < 0 || a < r + s)) { if (i < r && o >= 10) { let e = n.isRootPage ? window : window.parent; n.emitCustomEvent(e, n.isCrossOrigin, {name: 'mipShellEvents', data: {type: 'slide', data: {direction: 'up'}}}) } else if (r < i && o >= 10) { let t = n.isRootPage ? window : window.parent; n.emitCustomEvent(t, n.isCrossOrigin, {name: 'mipShellEvents', data: {type: 'slide', data: {direction: 'down'}}}) }i = r } }), viewport.scroller.addEventListener('scroll', this.debouncer, eventListenerOptions), this.debouncer.handleEvent()) : setTimeout(this.setupBouncyHeader.bind(this), 100) } }}, {key: 'notifyRootPage', value: function (e) { this.isRootPage ? window.postMessage(e, window.location.origin) : window.parent.postMessage(e, this.isCrossOrigin ? '*' : window.location.origin) }}, {key: 'destroy', value: function () { viewport.scroller.removeEventListener('scroll', this.debouncer, !1) }}, {key: 'start', value: function () { let t = this; ensureMIPShell(), this.initPageId(), performance.on('update', function (e) { e.MIPFirstScreen && t.scrollToHash(window.location.hash) }), window.addEventListener(CUSTOM_EVENT_SCROLL_TO_ANCHOR, function (e) { t.scrollToHash(e.detail[0]) }), this.emitEventInCurrentPage({name: CUSTOM_EVENT_SHOW_PAGE}) }}, {key: 'togglePageMask', value: function (e, t) { this.isRootPage || this.emitCustomEvent(window.parent, !0, {name: 'mipShellEvents', data: {type: 'togglePageMask', data: {toggle: e, options: t}}}) }}, {key: 'toggleDropdown', value: function (e) { customEmit(this.isRootPage ? window : window.parent, 'mipShellEvents', {type: 'toggleDropdown', data: {toggle: e}}) }}, {key: 'toggleFadeHeader', value: function (e, t) { toggleFadeHeader(e, t) }}, {key: 'emitCustomEvent', value: function (e, t, n) { t ? e.postMessage({type: MESSAGE_CROSS_ORIGIN, data: n}, '*') : customEmit(e, n.name, n.data) }}, {key: 'broadcastCustomEvent', value: function (t) { this.isRootPage ? (customEmit(window, t.name, t.data), this.children.forEach(function (e) { e.targetWindow && e.targetWindow.postMessage({type: MESSAGE_CROSS_ORIGIN, data: t}, '*') })) : window.parent.postMessage({type: MESSAGE_BROADCAST_EVENT, data: t}, '*') }}, {key: 'back', value: function () { this.notifyRootPage({type: MESSAGE_ROUTER_BACK}) }}, {key: 'forward', value: function () { this.notifyRootPage({type: MESSAGE_ROUTER_FORWARD}) }}, {key: 'push', value: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; this.notifyRootPage({type: MESSAGE_ROUTER_PUSH, data: {route: e, options: t}}) }}, {key: 'replace', value: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; this.notifyRootPage({type: MESSAGE_ROUTER_REPLACE, data: {route: e, options: t}}) }}, {key: 'prerender', value: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!this.isCrossOrigin) return (this.isRootPage ? this : window.parent.MIP.viewer.page).prerenderPages(e, t); console.warn('\u8de8\u57df MIP \u9875\u9762\u6682\u4e0d\u652f\u6301\u9884\u6e32\u67d3') }}, {key: 'emitEventInCurrentPage', value: function (e) { let t = this.getPageById(this.currentPageId); this.emitCustomEvent(t.targetWindow, t.isCrossOrigin, e) }}, {key: 'addChild', value: function (e) { for (let t = 0; t < this.children.length; t++) if (this.children[t].pageId === e.pageId) { this.children.splice(t, 1); break } this.children.push(e) }}, {key: 'checkIfExceedsMaxPageNum', value: function (e) { if (this.isRootPage) { if (this.children.length >= MAX_PAGE_NUM) { for (var t = void 0, n = [], r = !1, i = 0; i < this.children.length; i++) if ((t = this.children[i]).pageId !== e && t.pageId !== this.currentPageId) { let o = getIFrame(t.pageId); if (o.getAttribute('prerender') === '1') { n.push({iframe: o, index: i}); continue } return void (o && o.parentNode && (o.parentNode.removeChild(o), this.children.splice(i, 1), r = !0)) } if (!r) for (let a = 0; a < n.length; a++) { let s = n[a].iframe; if (s && s.parentNode) return s.parentNode.removeChild(s), void this.children.splice(n[a].index, 1) } } } else console.warn('\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 rootPage \u8c03\u7528') }}, {key: 'getPageById', value: function (e) { if (!e) return this; for (let t = 0; t < this.children.length; t++) if (this.children[t].pageId === e) return this.children[t]; return e === this.pageId ? this : null }}, {key: 'getElementsInRootPage', value: function () { let e = ['.mip-page__iframe', '.mip-page-loading-wrapper', '.mip-page-fade-header-wrapper', 'mip-shell', '[mip-shell]', '[mip-shell-inner]', '.mip-shell-header-wrapper', '.mip-shell-more-button-mask', '.mip-shell-more-button-wrapper', '.mip-shell-header-mask', '[mip-global-component]'].map(function (e) { return ':not(' + e + ')' }).join(''); return [].concat(toConsumableArray(document.querySelectorAll('body > ' + e))) }}, {key: 'prerenderPages', value: function (e) { let s = this, c = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!this.isRootPage) return console.warn('\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 rootPage \u8c03\u7528'), Promise.reject(); if (typeof e === 'string' && (e = [e]), !Array.isArray(e)) return Promise.reject('\u9884\u6e32\u67d3\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u6570\u7ec4'); let l = function (e) { let t = void 0; if ((t = s.isRootPage || s.isCrossOrigin ? window : window.parent).MIP_PAGE_META_CACHE[e]) return t.MIP_PAGE_META_CACHE[e]; for (let n = 0; n < t.MIP_SHELL_CONFIG.length; n++) { let r = t.MIP_SHELL_CONFIG[n]; if (r.regexp.test(e)) return t.MIP_PAGE_META_CACHE[e] = r.meta, r.meta } return console.warn('Cannot find MIP Shell Config for current page. Use default instead.'), Object.assign({}, DEFAULT_SHELL_CONFIG) }; return Promise.all(e.map(function (e) { if (window.MIP.viewer._isCrossOrigin(e)) return console.warn('\u8de8\u57df MIP \u9875\u9762\u6682\u4e0d\u652f\u6301\u9884\u6e32\u67d3', e), Promise.resolve(); let t = parsePath(e); if (t.query) { var n = stringifyQuery(resolveQuery(t.query)); n.charAt(0) === '?' && (n = n.substring(1, n.length)), e = e.replace(t.query, n) } let r, i, o, a = getCleanPageId(e); return i = (r = {fullpath: e, pageId: a}).fullpath, o = r.pageId, new Promise(function (resolve, reject) { let r = s, e = getIFrame(o); e ? n(e) : createIFrame({fullpath: i + '#prerender=1', pageId: o}, {onLoad: function (e) { e.setAttribute('prerender', '1'); let t = {pageId: o, pageMeta: fn.extend(!0, {}, l(o)), fullpath: i, standalone: window.MIP.standalone, isRootPage: !1, isCrossOrigin: !1, isPrerender: !0}; t.targetWindow = e.contentWindow, r.addChild(t), !c.ignoreIframeMaxNum && r.checkIfExceedsMaxPageNum(o), n(e) }, onError: function (e) { t(e) }}) }) })) }}, {key: 'getIFrame', value: function (e) { if (this.isRootPage) return getIFrame(e); console.warn('\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 rootPage \u8c03\u7528') }}]), e }()), messageTypes = {twoWay: 'two-way'}, messageSentinels = {request: 'PM_REQUEST', response: 'PM_RESPONSE'}, messengerInstances = {}; function getSessionId () { return (1e3 * (new Date()).getTime() + Math.ceil(1e3 * Math.random())).toString(36) } function messageReceiver (e) { let t = messengerInstances[e.data.name]; if (t)t.processMessageEvent(e); else for (let n in messengerInstances)messengerInstances[n].processMessageEvent(e) } var Messenger = (function () { function t () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; classCallCheck(this, t), EventEmitter.mixin(this), this.targetWindow = e.targetWindow || top, this.targetOrigin = e.targetOrigin || '*', this.sourceOrigins = e.sourceOrigins || ['*'], this.timeout = e.timeout || 500, this.name = e.name || window.name, this.defers = {}, this.handlers = {}, messengerInstances[this.name], messengerInstances[this.name] = this, t.bindHandler() } return createClass(t, [{key: 'processMessageEvent', value: function (e) { for (var t = e.origin || e.originalEvent.origin, n = this, r = !1, i = 0; i < n.sourceOrigins.length; i++) { let o = n.sourceOrigins[i]; if (o === '*') { r = !0; break } if (o === t) { r = !0; break } } if (r) { let a = e.data; if (a) if (a.type === messageTypes.twoWay) { if (!a.sentinel || !a.sessionId) return; if (a.sentinel === messageSentinels.request) { let s = {}; if (n.handlers[a.event]) try { s = n.handlers[a.event].call(n, a) } catch (e) { s = {error: e} } let c = function (e) { e = e || {}, fn.extend(e, {type: messageTypes.twoWay, sentinel: messageSentinels.response, sessionId: a.sessionId, name: n.name}), n.getWindow().postMessage(e, n.targetOrigin) }; s && typeof s.then === 'function' ? s.then(function (e) { return c(e) }).catch(function (e) { return c({error: e}) }) : c(s) } else if (a.sentinel === messageSentinels.response) { let l = n.defers[a.sessionId]; if (delete n.defers[a.sessionId], !l) return; clearTimeout(l.timer), a.error ? l.reject(a.error) : l.resolve(a) } } else { if (!a || !a.event) return; n.trigger(a.event, a.data) } } }}, {key: 'sendMessage', value: function (i, o, a) { let s = this, c = this; return new Promise(function (resolve, reject) { let n = {name: c.name, event: i, sender: 'mip/2', data: o}, r = getSessionId(); a ? (fn.extend(n, {type: messageTypes.twoWay, sentinel: messageSentinels.request, sessionId: r}), c.defers[r] = {resolve: e.bind(s), reject: t.bind(s), timer: setTimeout(function () { delete c.defers[r], t(new Error('timeout')) }, c.timeout)}) : setTimeout(e, 0), c.getWindow().postMessage(n, c.targetOrigin) }) }}, {key: 'setHandler', value: function (e, t) { if (typeof t !== 'function') throw new Error('Invalid handler for event ' + e); this.handlers[e] = t }}, {key: 'removeHandler', value: function (e) { this.handlers[e] = void 0 }}, {key: 'destory', value: function () { delete messengerInstances[this.name] }}, {key: 'getWindow', value: function () { return this.targetWindow instanceof HTMLIFrameElement ? this.targetWindow.contentWindow : this.targetWindow }}], [{key: 'bindHandler', value: function () { window.removeEventListener('message', messageReceiver), window.addEventListener('message', messageReceiver) }}]), t }()), SPACE_TAG_NAME = 'mip-i-space', LAYOUT = {NODISPLAY: 'nodisplay', FIXED: 'fixed', FIXED_HEIGHT: 'fixed-height', RESPONSIVE: 'responsive', CONTAINER: 'container', FILL: 'fill', FLEX_ITEM: 'flex-item'}, NATURAL_DIMENSIONS = {'mip-pix': {width: '1px', height: '1px'}, 'mip-stats': {width: '1px', height: '1px'}, 'mip-audio': null}, LOADING_ELEMENTS = {'mip-anim': !0, 'mip-brightcove': !0, 'mip-embed': !0, 'mip-iframe': !0, 'mip-img': !0, 'mip-list': !0, 'mip-video': !0}, Layout = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: 'parseLayout', value: function (e) { for (let t in LAYOUT) if (LAYOUT[t] === e) return e }}, {key: 'getLayoutClass', value: function (e) { return 'mip-layout-' + e }}, {key: 'isLayoutSizeDefined', value: function (e) { return e === LAYOUT.FIXED || e === LAYOUT.FIXED_HEIGHT || e === LAYOUT.RESPONSIVE || e === LAYOUT.FILL || e === LAYOUT.FLEX_ITEM }}, {key: 'parseLength', value: function (e) { return typeof e === 'number' ? e + 'px' : e && /^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(e) ? /^\d+(\.\d+)?$/.test(e) ? e + 'px' : e : void 0 }}, {key: 'getLengthNumeral', value: function (e) { return parseFloat(e) }}, {key: 'hasNaturalDimensions', value: function (e) { return e = e.toLowerCase(), void 0 !== NATURAL_DIMENSIONS[e] }}, {key: 'getNaturalDimensions', value: function (e) { let t = e.tagName.toLowerCase(); if (!NATURAL_DIMENSIONS[t]) { let n = e.ownerDocument, r = t.replace(/^mip-/, ''), i = n.createElement(r); i.controls = !0, i.style.position = 'absolute', i.style.visibility = 'hidden', n.body.appendChild(i), NATURAL_DIMENSIONS[t] = {width: (i.offsetWidth || 1) + 'px', height: (i.offsetHeight || 1) + 'px'}, n.body.removeChild(i) } return NATURAL_DIMENSIONS[t] }}, {key: 'isLoadingAllowed', value: function (e) { return LOADING_ELEMENTS[e.toLowerCase()] || !1 }}, {key: 'applyLayout', value: function (e) { if (!e._layoutInited) { e._layoutInited = !0; let t = e.getAttribute('layout'), n = e.getAttribute('width'), r = e.getAttribute('height'), i = e.getAttribute('sizes'), o = e.getAttribute('heights'), a = t ? this.parseLayout(t) : null, s = n && n !== 'auto' ? this.parseLength(n) : n, c = r ? this.parseLength(r) : null, l = void 0, u = void 0, d = void 0; if (a && a !== LAYOUT.FIXED && a !== LAYOUT.FIXED_HEIGHT || s && c || !this.hasNaturalDimensions(e.tagName))l = s, u = c; else { let f = this.getNaturalDimensions(e); l = s || a === LAYOUT.FIXED_HEIGHT ? s : f.width, u = c || f.height } switch (d = a || (l || u ? !u || l && l !== 'auto' ? u && l && (i || o) ? LAYOUT.RESPONSIVE : LAYOUT.FIXED : LAYOUT.FIXED_HEIGHT : LAYOUT.CONTAINER), e.classList.add(this.getLayoutClass(d)), this.isLayoutSizeDefined(d) && e.classList.add('mip-layout-size-defined'), d) { case LAYOUT.NODISPLAY:e.style.display = 'none'; break; case LAYOUT.FIXED:e.style.width = l, e.style.height = u; break; case LAYOUT.FIXED_HEIGHT:e.style.height = u; break; case LAYOUT.RESPONSIVE:var p = e.firstChild; if (p && p.tagName && p.tagName.toLowerCase() === SPACE_TAG_NAME) return; var h = e.ownerDocument.createElement(SPACE_TAG_NAME); h.style.display = 'block', h.style.paddingTop = this.getLengthNumeral(u) / this.getLengthNumeral(l) * 100 + '%', e.insertBefore(h, e.firstChild), e._spaceElement = h; break; case LAYOUT.FILL:case LAYOUT.CONTAINER:break; case LAYOUT.FLEX_ITEM:l && (e.style.width = l), u && (e.style.height = u) } return e.classList.contains('mip-hidden') && e.classList.remove('mip-hidden'), d } }}]), e }()), layout = new Layout(), FixedElement = (function () { function e () { classCallCheck(this, e), this._fixedLayer = null, this._count = 0, this._isAndroidUc = platform.isUc() && !platform.isIos(), this._fixedElements = [] } return createClass(e, [{key: 'init', value: function () { let e = document.body.querySelectorAll('mip-fixed, mip-semi-fixed'); this.setFixedElement(e); let t = this._fixedElements.length, n = window.MIP.viewer.isIframed; if (platform.isIos() && n) { this.getFixedLayer(); for (let r = 0; r < t; r++) { let i = this._fixedElements[r]; if (i.element.tagName.toLowerCase() === 'mip-semi-fixed') { let o = i.element, a = o.parentNode, s = o.nextElementSibling, c = o.cloneNode(!0); s ? a.insertBefore(c, s) : a.appendChild(c) }i.element.hasAttribute('still') || this.moveToFixedLayer(i, r) } }n && this.doCustomElements() }}, {key: 'setFixedElement', value: function (e, t) { for (let n = {}, r = 0; r < e.length; r++) { let i = e[r], o = i.getAttribute('type'), a = layout.parseLength(i.getAttribute('bottom')), s = layout.parseLength(i.getAttribute('top')); if (o === 'left' && !s && !a || o === 'gototop' && i.firstElementChild.tagName.toLowerCase() !== 'mip-gototop' || i.tagName.toLowerCase() !== 'mip-semi-fixed' && i.tagName.toLowerCase() !== 'mip-fixed')i.parentElement && i.parentElement.removeChild(i); else { i.tagName.toLowerCase() === 'mip-semi-fixed' && (i.id || (i.id = 'mip-semi-fixed' + this._count), o = 'semi-fixed'), css(i, {'z-index': 1e4 - this._count}), this._isAndroidUc && css(i, {position: 'absolute'}), this.setFixedElementRule(i, o); let c = 'Fixed' + this._count; if ((n = {id: c, element: i}).element.setAttribute('mipdata-fixedIdx', c), this._count++, this._fixedElements.push(n), t) return this.moveToFixedLayer(n, this._count), 1e4 - this._count } } }}, {key: 'getFixedLayer', value: function () { if (this._fixedLayer) return this._fixedLayer; this._fixedLayer = document.createElement('body'), this._fixedLayer.className = 'mip-fixedlayer'; let e = this._isAndroidUc ? '100%' : 0, t = this._isAndroidUc ? '100%' : 0; return css(this._fixedLayer, {position: 'absolute', top: 0, left: 0, height: e, width: t, 'pointer-events': 'none', overflow: 'hidden', animation: 'none', '-webkit-animation': 'none', border: 'none', 'box-sizing': 'border-box', 'box-shadow': 'none', display: 'block', float: 'none', margin: 0, opacity: 1, outline: 'none', transform: 'none', transition: 'none', visibility: 'visible', background: 'none'}), document.getElementsByTagName('html')[0].appendChild(this._fixedLayer), this._fixedLayer }}, {key: 'moveToFixedLayer', value: function (e, t) { let n = e.element; n.parentElement !== this._fixedLayer && (e.placeholder || (css(n, {'pointer-events': 'initial'}), e.placeholder = document.createElement('mip-i-ph'), e.placeholder.setAttribute('mipdata-fixedIdx', e.id), e.placeholder.style.display = 'none'), n.parentElement.replaceChild(e.placeholder, n), this.getFixedLayer().appendChild(n)) }}, {key: 'doCustomElements', value: function () { let e = document.styleSheets; if (e) for (let t = 0; t < e.length; t++) { let n = e[t]; n.disabled || !n.ownerNode || n.ownerNode.tagName !== 'STYLE' || n.ownerNode.hasAttribute('mip-extension') || this._findFixedSelectors(n.cssRules) } }}, {key: '_findFixedSelectors', value: function (e) { for (let t = 0; t < e.length; t++) { let n = e[t], r = n.type; if (r === 1) { if (n.selectorText !== '*' && n.style.position === 'fixed') try { for (let i = n.selectorText, o = document.querySelectorAll(i), a = 0; a < o.length; a++)o[a].parentElement.removeChild(o[a]) } catch (e) { console.warn('Cannot find the selector of custom fixed elements') } } else r === 4 ? this._findFixedSelectors(n.cssRules) : r === 12 && this._findFixedSelectors(n.cssRules) } }}, {key: 'setFixedElementRule', value: function (e, t) { switch (t) { case 'top':case 'bottom':break; case 'right':case 'left':this.setStyle(e); break; case 'semi-fixed':break; case 'gototop':e.style.bottom = '90px', e.style.right = '10%'; break; default:e.style.display = 'none' } }}, {key: 'setStyle', value: function (e) { let t = layout.parseLength(e.getAttribute('bottom')); if (t)e.style.bottom = t; else { let n = layout.parseLength(e.getAttribute('top')); n && (e.style.top = n) } }}, {key: 'showFixedLayer', value: function (e) { e && css(e, {display: 'block'}) }}, {key: 'hideFixedLayer', value: function (e) { e && css(e, {display: 'none'}) }}, {key: 'setPlaceholder', value: function (e) { let t = document.body.querySelector('div[mip-fixed-placeholder]'); t || ((t = document.createElement('div')).setAttribute('mip-fixed-placeholder', ''), util.css(t, {position: 'relative', display: 'none'}), document.body.appendChild(t)), e && util.css(t, {display: 'block', height: e + 'px'}) }}]), e }()), fixedElement = new FixedElement(), parsePrerender = function (e) { if (!e || !e.getAttribute) return !1; let t = e.getAttribute('prerender'); return t != null && t !== 'false' }, resetPrerenderHash = function () { let e = window, t = e.location, n = t.hash.replace(/prerender=1&?/, ''); e.history.replaceState('', document.title, t.pathname + t.search + n) }, ClientPrerender = (function () { function e () { let t = this; classCallCheck(this, e), this.prerender = !1, this.isPrerendered = !1, this.queue = [], this.messager = new Messenger({name: util.fn.getRootName(window.name)}), util.hash.get('prerender') === '1' && (this.prerender = !0, new Promise(function (resolve) { t.messager.on(MESSAGE_PAGE_ACTIVE, function () { t.prerender = !1, resetPrerenderHash(), e() }), t.messager.sendMessage(MESSAGE_PRERENDER_INTERACTIVE, {time: Date.now()}) }).then(function () { t.isPrerendered = !0, performance.recordTiming('MIPElementBuildStart'); for (let e = void 0; e = t.queue.shift();)e() }).then(function () { performance.recordTiming('MIPElementBuildEnd') })) } return createClass(e, [{key: 'execute', value: function (e, t) { this.prerender && !parsePrerender(t) ? this.queue.push(e) : e() }}]), e }()), prerender = new ClientPrerender(), win$1 = window, eventListenerOptions$1 = !!supportsPassive && {passive: !0}, viewer = {init: function () { this.rootName = fn.getRootName(window.name); let e = prerender.messager; this.messager = e || new Messenger({name: this.rootName}), this._gesture = new Gesture(document, {preventX: !1}), this.setupEventAction(), this.page = new Page(), this.handleBrowserQuirks(), this.page.start(), this.isShow = !0, this._showTiming = Date.now(), this.trigger('show', this._showTiming), (this.fixedElement = fixedElement).init(), this._proxyLink(this.page) }, isIframed: win$1 !== top, show: function () { document.body.setAttribute('mip-ready', ''), win$1.MIP.viewer.page.isRootPage && this.sendMessage('mippageload', {time: Date.now(), title: encodeURIComponent(document.title)}) }, sendMessage: function (e) { let t = this, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; win$1.MIP.standalone || prerender.execute(function () { prerender.isPrerendered && n.time && (n.time = Date.now()), t.messager.sendMessage(e, n) }) }, onMessage: function (e, t) { win$1.MIP.standalone || this.messager.on(e, t) }, setupEventAction: function () { let e = fn.hasTouch(), t = this.eventAction = new EventAction(); e ? this._gesture.on('tap', function (e) { t.execute('tap', e.target, e) }) : document.addEventListener('click', function (e) { t.execute('tap', e.target, e) }, !1), document.addEventListener('click', function (e) { t.execute('click', e.target, e) }, !1), event.delegate(document, 'input', 'change', function (e) { t.execute('change', e.target, e) }) }, open: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.isMipLink, r = void 0 === n || n, i = t.replace, o = void 0 !== i && i, a = t.state, s = t.cacheFirst; a || (a = {click: void 0, title: void 0, defaultTitle: void 0}); let c = ''; e.lastIndexOf('#') > -1 && (c = e.substring(e.lastIndexOf('#'))); let l = c && e.indexOf(window.location.origin + window.location.pathname) > -1; if (e) if (this._isCrossOrigin(e) && window.MIP.standalone || !r && !l)o ? window.top.location.replace(e) : window.top.location.href = e; else { let u = {url: parseCacheUrl(/^\/\//.test(e) ? location.protocol + e : e.charAt(0) === '/' || e.charAt(0) === '.' ? location.origin + resolvePath(e, location.pathname) : e), state: a}; this.sendMessage(o ? OUTER_MESSAGE_REPLACE_STATE : OUTER_MESSAGE_PUSH_STATE, u); let d = {path: window.MIP.standalone ? e : makeCacheUrl(e)}; r && (d.meta = {reload: !0, cacheFirst: s, header: {title: u.state.title, defaultTitle: u.state.defaultTitle}}), l || o ? this.page.replace(d, {allowTransition: !0}) : this.page.push(d, {allowTransition: !0}) } }, _bindEventCallback: function (e, t) { e === 'show' && this.isShow && typeof t === 'function' && t.call(this, this._showTiming) }, viewportScroll: function () { let t = this, n = 0, r = 0, i = viewport.getScrollTop(), o = viewport.getScrollHeight(), a = 0, e = viewport.scroller; function s (e) { i = viewport.getScrollTop(), o = viewport.getScrollHeight(), i > 0 && i < o ? (a < i ? r = 1 : i < a && (r = -1), n = a - i, a = i, (n > 10 || n < -10) && t.sendMessage('mipscroll', {direct: r, dist: n})) : i === 0 && t.sendMessage('mipscroll', {direct: 0}) }e.addEventListener('touchstart', function (e) { i = viewport.getScrollTop(), o = viewport.getScrollHeight() }, eventListenerOptions$1), e.addEventListener('touchmove', function (e) { return s() }, eventListenerOptions$1), e.addEventListener('touchend', function (e) { return s() }) }, _proxyLink: function () { let a = this, s = /^http/, c = /^tel:/; event.delegate(document, 'a', 'click', function (e) { let t = this.href, n = this.hasAttribute('mip-link') || this.getAttribute('data-type') === 'mip', r = this.hasAttribute('replace'), i = this.hasAttribute('cache-first'), o = a._getMipLinkData.call(this); platform.isUc() && c.test(t) || (s.test(t) ? (a.open(t, {isMipLink: n, replace: r, state: o, cacheFirst: i}), e.preventDefault()) : this.setAttribute('target', '_top')) }, !1) }, _getMipLinkData: function () { let e = this.parentNode; return {click: this.getAttribute('data-click') || e.getAttribute('data-click') || void 0, title: this.getAttribute('data-title') || e.getAttribute('title') || void 0, defaultTitle: this.innerText.trim().split('\n')[0] || void 0} }, handleBrowserQuirks: function () { if (platform.needSpecialScroll || (document.documentElement.classList.add('mip-i-android-scroll'), document.body.classList.add('mip-i-android-scroll')), platform.isIos()) { let e = platform.getOsVersion(); if (e = e ? e.split('.')[0] : '', document.documentElement.classList.add('mip-i-ios-scroll'), window.addEventListener('orientationchange', function () { document.documentElement.classList.remove('mip-i-ios-scroll'), setTimeout(function () { document.documentElement.classList.add('mip-i-ios-scroll') }) }), document.documentElement.classList.add('mip-i-ios-width'), this.page.isRootPage || this.fixIOSPageFreeze(), this.isIframed) this.lockBodyScroll(), (e === '8' && platform.isUc() && screen.width === 320 || (e === '9' || e === '10') && platform.isSafari() || (e === '8' || e === '9' || e === '10') && (platform.isUc() || platform.isBaiduApp() || platform.isBaidu())) && window.addEventListener('pageshow', function (e) { e.persisted && (document.body.style.display = 'none', location.reload()) }) }platform.isAndroid() && setTimeout(function () { document.documentElement.classList.add('trigger-layout'), document.body.classList.add('trigger-layout') }), this.isIframed && (this.viewportScroll(), this.fixSoftKeyboard()) }, fixIOSPageFreeze: function () { let t = document.createElement('style'), n = document.head || document.getElementsByTagName('head')[0]; t.setAttribute('mip-bouncy-scrolling', ''), t.textContent = '* {-webkit-overflow-scrolling: auto!important;}', platform.isSafari() || platform.isChrome() || (window.addEventListener(CUSTOM_EVENT_SHOW_PAGE, function (e) { try { n.removeChild(t) } catch (e) {} }), window.addEventListener(CUSTOM_EVENT_HIDE_PAGE, function (e) { n.appendChild(t) })) }, fixSoftKeyboard: function () { platform.isAndroid() && window.addEventListener('resize', function () { let e = document.activeElement, t = e.tagName.toLowerCase(); !e || t !== 'input' && t !== 'textarea' || setTimeout(function () { typeof e.scrollIntoViewIfNeeded === 'function' ? e.scrollIntoViewIfNeeded() : typeof e.scrollIntoView === 'function' && (e.scrollIntoView(), document.body.scrollTop -= 44) }, 250) }) }, lockBodyScroll: function () { viewport.on('scroll', function () { let e = viewport.getScrollTop(), t = viewport.getScrollHeight(); e === 0 ? viewport.setScrollTop(1) : e === t && viewport.setScrollTop(e - 1) }, eventListenerOptions$1), document.documentElement.classList.add('trigger-layout'), document.body.classList.add('trigger-layout'), viewport.setScrollTop(1) }, _isCrossOrigin: function (e) { let t = e; if (t.length === 1 || t.charAt(0) === '/' && t.charAt(1) !== '/' || t.charAt(0) === '.') return !1; if (/^http(s?):\/\//i.test(t)) { if (!new RegExp('^' + location.protocol, 'i').test(t)) return !0; t = t.replace(/^http(s?):\/\//i, '') } else /^\/\//.test(t) && (t = t.substring(2, t.length)); let n = t.split('/')[0]; return location.host !== n }}; function getNodeSlots (t) { return toArray$1(t.childNodes).map(function (e) { return t.removeChild(e), e }) } function createVueInstance (a, e, t, r) { let n = e.util.extend({}, t), i = getPropsData(a, n, r); n.beforeCreate = [].concat(n.beforeCreate || [], function () { this.$element = a, this.$emit = function (e) { for (var t, n, r = arguments.length, i = Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)i[o - 1] = arguments[o]; customEmit.apply(void 0, [a, e].concat(i)), (t = viewer.eventAction).execute.apply(t, [e, a].concat(i)), this.__proto__ && (n = this.__proto__.$emit).call.apply(n, [this, e].concat(i)) }, this.$on = function (e, t) { this.__proto__ && this.__proto__.$on.call(this, e, t), a.customElement.addEventAction(e, t) } }); let o = getNodeSlots(a); a.innerHTML = '<div></div>'; let s = {propsData: i, props: r.camelCase, computed: {reactiveProps: function () { let t = this, n = {}; return r.camelCase.forEach(function (e) { n[e] = t[e] }), n }}, el: a.children[0], render: function (e) { return e(n, {props: this.reactiveProps}, o) }}; return reactiveProps(a, r), new e(s) }EventEmitter.mixin(viewer); let CustomElement = (function () { function t (e) { classCallCheck(this, t), this.element = e, this.init && this.init() } return createClass(t, [{key: 'applyFillContent', value: function (e, t) { e.classList.add('mip-fill-content'), t && e.classList.add('mip-replaced-content') }}, {key: 'connectedCallback', value: function () {}}, {key: 'disconnectedCallback', value: function () {}}, {key: 'attributeChangedCallback', value: function () {}}, {key: 'firstInviewCallback', value: function () {}}, {key: 'viewportCallback', value: function () {}}, {key: 'prerenderAllowed', value: function () { return !1 }}, {key: 'hasResources', value: function () { return !1 }}, {key: 'build', value: function () {}}, {key: 'expendAttr', value: function (e, t) { for (let n = 0; n < e.length; n++) { let r = e[n]; if (this.element.hasAttribute(r)) { let i = this.element.getAttribute(r); t.setAttribute ? t.setAttribute(r, i) : t[r] = i } } return t }}, {key: 'addEventAction', value: function () { let e = this._actionEvent; e || (e = this._actionEvent = new EventEmitter()).setEventContext(this), e.on.apply(e, arguments) }}, {key: 'executeEventAction', value: function (e) { let t = this._actionEvent; e && t && t.trigger(e.handler, e.event, e.arg) }}, {key: 'resourcesComplete', value: function () { this.element.resourcesComplete() }}], [{key: 'observedAttributes', get: function () { return [] }}]), t }()), resources = {}, counter = 0, Resources = (function () { function e () { classCallCheck(this, e), this._rid = counter++, this._eid = 0, resources[this._rid] = {}, this.updateState = this._update.bind(this), this._viewport = viewport, this._gesture = new Gesture(document, {preventX: !1}), this._bindEvent() } return createClass(e, [{key: '_bindEvent', value: function () { let r = this, i = void 0; this._viewport.on('changed resize', this.updateState), this._gesture.on('swipe', function (e, t) { let n = Math.round(600 * t.velocity); n < 100 && (n = 100), n > 600 && (n = 600), clearTimeout(i), i = setTimeout(r.updateState, n) }), this.updateState() }}, {key: 'add', value: function (e) { e._eid = this._eid++, (resources[this._rid][e._eid] = e).build(), this.updateState() }}, {key: 'remove', value: function (e) { let t = e._eid || e; return !(!isFinite(+t) || !resources[this._rid][t]) && (delete resources[this._rid][t], !0) }}, {key: 'getResources', value: function () { return resources[this._rid] }}, {key: 'getResourcesList', value: function () { return fn.values(this.getResources()) }}, {key: 'setInViewport', value: function (e, t) { e.inViewport() !== t && e.viewportCallback(t) }}, {key: '_update', value: function () { let e = this.getResources(), t = this._viewport.getRect(); for (let n in e) { let r = rect.getElementRect(e[n]), i = e[n].prerenderAllowed(r, t) || rect.overlapping(r, t); this.setInViewport(e[n], i) } }}, {key: 'prerenderElement', value: function (e) { e.inViewport && !e.inViewport() && e.viewportCallback && e.viewportCallback(!0) }}]), e }()), resources$1 = new Resources(), store = {mip1: {}, mip2: {}}, customElementsStore = {get: function (e, t) { switch (e = e.toLowerCase(), t) { case 'mip1':return store.mip1[e]; case 'mip2':return store.mip2[e]; default:return store.mip2[e] || store.mip1[e] || void 0 } }, set: function (e, t, n) { if (n !== 'mip2' && n !== 'mip1') throw new Error('type: ' + n + ' must be mip1 or mip2'); store[n][e.toLowerCase()] = t }}; function insertStyleElement (e, t, n, r, i) { let o = e.createElement('style'), a = null; return o.textContent = n, i ? o.setAttribute('mip-main', '') : (o.setAttribute('mip-extension', r || ''), a = t.querySelector('style[mip-main]')), insertAfterOrAtStart(t, o, a), o } function insertAfterOrAtStart (e, t, n) { n ? n.nextSibling ? e.insertBefore(t, n.nextSibling) : e.appendChild(t) : e.insertBefore(t, e.firstChild) } let cssLoader = {insertStyleElement: insertStyleElement}, _fixBabelExtend = (tla = Object, ula = tla.getPrototypeOf || function (e) { return e.__proto__ }, vla = tla.setPrototypeOf || function (e, t) { return e.__proto__ = t, e }, wla = (typeof Reflect === 'undefined' ? 'undefined' : _typeof(Reflect)) === 'object' ? Reflect.construct : function (e, t, n) { let r, i = [null]; return i.push.apply(i, t), r = e.bind.apply(e, i), vla(new r(), n.prototype) }, function (e) { let t = ula(e); return vla(e, vla(function () { return wla(t, arguments, ula(this).constructor) }, t)) }), tla, ula, vla, wla, BaseElement = _fixBabelExtend(function (e) { function r (e) { classCallCheck(this, r); let t = possibleConstructorReturn(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, e)), n = customElementsStore.get(t.tagName.toLowerCase(), 'mip2'); return t._inViewport = !1, t._firstInViewport = !1, t._resources = resources$1, t.__innerHTML = t.innerHTML, (t.customElement = new n(t)).hasResources() && performance.addFsElement(t), t } return inherits(r, e), createClass(r, [{key: 'connectedCallback', value: function () { let e = this; this.classList.add('mip-element'), this._layout = layout.applyLayout(this), this.customElement.connectedCallback(), prerender.execute(function () { e._resources.add(e) }, this) }}, {key: 'disconnectedCallback', value: function () { this.customElement.disconnectedCallback(), this._resources && this._resources.remove(this) }}, {key: 'attributeChangedCallback', value: function () { let e = arguments, t = this.customElement; prerender.execute(function () { t.attributeChangedCallback.apply(t, e) }, this) }}, {key: 'build', value: function () { if (!this.isBuilt()) try { this.customElement.build(), this._built = !0 } catch (e) { console.warn('build error:', e) } }}, {key: 'isBuilt', value: function () { return this._built }}, {key: 'cloneNode', value: function (e) { let t = get(r.prototype.__proto__ || Object.getPrototypeOf(r.prototype), 'cloneNode', this).call(this, e); return t.__innerHTML = this.__innerHTML, t }}, {key: 'inViewport', value: function () { return this._inViewport }}, {key: 'viewportCallback', value: function (e) { this.customElement.viewportCallback(e), (this._inViewport = e) && !this._firstInViewport && (this._firstInViewport = !0, this.customElement.firstInviewCallback()) }}, {key: 'executeEventAction', value: function (e) { this.customElement.executeEventAction(e) }}, {key: 'prerenderAllowed', value: function (e, t) { return this.customElement.prerenderAllowed(e, t) }}, {key: 'resourcesComplete', value: function () { performance.fsElementLoaded(this) }}]), r }(HTMLElement)); function loadCss (e, t) { e && cssLoader.insertStyleElement(document, document.head, e, t, !1) } function registerElement (e, n, t) { customElementsStore.get(e) || (customElementsStore.set(e, n, 'mip2'), loadCss(t, e), window.customElements.define(e, (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, BaseElement), createClass(t, null, [{key: 'observedAttributes', get: function () { return n.observedAttributes }}]), t }()))) } function isUndef (e) { return e == null } function isDef (e) { return e != null } function isTrue (e) { return !0 === e } function isFalse (e) { return !1 === e } function isPrimitive (e) { return typeof e === 'string' || typeof e === 'number' || typeof e === 'boolean' } function isObject (e) { return e !== null && (void 0 === e ? 'undefined' : _typeof(e)) === 'object' } let $toString = Object.prototype.toString; function toRawType (e) { return $toString.call(e).slice(8, -1) } function isPlainObject$1 (e) { return $toString.call(e) === '[object Object]' } function isRegExp (e) { return $toString.call(e) === '[object RegExp]' } function isValidArrayIndex (e) { let t = parseFloat(String(e)); return t >= 0 && Math.floor(t) === t && isFinite(e) } function toString (e) { return e == null ? '' : (void 0 === e ? 'undefined' : _typeof(e)) === 'object' ? JSON.stringify(e, null, 2) : String(e) } function toNumber (e) { let t = parseFloat(e); return isNaN(t) ? e : t } function makeMap (e, t) { for (var n = Object.create(null), r = e.split(','), i = 0; i < r.length; i++)n[r[i]] = !0; return t ? function (e) { return n[e.toLowerCase()] } : function (e) { return n[e] } } let isBuiltInTag = makeMap('slot,component', !0), isReservedAttribute = makeMap('key,ref,slot,slot-scope,is'); function remove (e, t) { if (e.length) { let n = e.indexOf(t); if (n > -1) return e.splice(n, 1) } } let hasOwnProperty = Object.prototype.hasOwnProperty; function hasOwn (e, t) { return hasOwnProperty.call(e, t) } function cached (t) { let n = Object.create(null); return function (e) { return n[e] || (n[e] = t(e)) } } let camelizeRE$1 = /-(\w)/g, camelize$1 = cached(function (e) { return e.replace(camelizeRE$1, function (e, t) { return t ? t.toUpperCase() : '' }) }), capitalize = cached(function (e) { return e.charAt(0).toUpperCase() + e.slice(1) }), hyphenateRE = /\B([A-Z])/g, hyphenate$1 = cached(function (e) { return e.replace(hyphenateRE, '-$1').toLowerCase() }); function bind (n, r) { function e (e) { let t = arguments.length; return t ? t > 1 ? n.apply(r, arguments) : n.call(r, e) : n.call(r) } return e._length = n.length, e } function toArray$2 (e) { for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = e.length - t, r = new Array(n); n--;)r[n] = e[n + t]; return r } function extend$1 (e, t) { for (let n in t)e[n] = t[n]; return e } function toObject (e) { for (var t = {}, n = 0; n < e.length; n++)e[n] && extend$1(t, e[n]); return t } function noop (e, t, n) {} let no = function (e, t, n) { return !1 }, identity = function (e) { return e }; function looseEqual (t, n) { if (t === n) return !0; let e = isObject(t), r = isObject(n); if (!e || !r) return !e && !r && String(t) === String(n); try { let i = Array.isArray(t), o = Array.isArray(n); if (i && o) return t.length === n.length && t.every(function (e, t) { return looseEqual(e, n[t]) }); if (!i && !o) { let a = Object.keys(t), s = Object.keys(n); return a.length === s.length && a.every(function (e) { return looseEqual(t[e], n[e]) }) } return !1 } catch (e) { return !1 } } function looseIndexOf (e, t) { for (let n = 0; n < e.length; n++) if (looseEqual(e[n], t)) return n; return -1 } function once (e) { let t = !1; return function () { t || (t = !0, e.apply(this, arguments)) } } let SSR_ATTR = 'data-server-rendered', ASSET_TYPES = ['component', 'directive', 'filter'], LIFECYCLE_HOOKS = ['beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeUpdate', 'updated', 'beforeDestroy', 'destroyed', 'activated', 'deactivated', 'errorCaptured'], config = {optionMergeStrategies: Object.create(null), silent: !1, productionTip: !1, devtools: !1, performance: !1, errorHandler: null, warnHandler: null, ignoredElements: [], keyCodes: Object.create(null), isReservedTag: no, isReservedAttr: no, isUnknownElement: no, getTagNamespace: noop, parsePlatformTagName: identity, mustUseProp: no, _lifecycleHooks: LIFECYCLE_HOOKS}, emptyObject = Object.freeze({}); function isReserved (e) { let t = (e + '').charCodeAt(0); return t === 36 || t === 95 } function def (e, t, n, r) { Object.defineProperty(e, t, {value: n, enumerable: !!r, writable: !0, configurable: !0}) } let bailRE = /[^\w.$]/; function parsePath$1 (e) { if (!bailRE.test(e)) { let n = e.split('.'); return function (e) { for (let t = 0; t < n.length; t++) { if (!e) return; e = e[n[t]] } return e } } } let warn = noop; function handleError (e, t, n) { if (t) for (let r = t; r = r.$parent;) { let i = r.$options.errorCaptured; if (i) for (let o = 0; o < i.length; o++) try { if (!1 === i[o].call(r, e, t, n)) return } catch (e) { globalHandleError(e, r, 'errorCaptured hook') } }globalHandleError(e, t, n) } function globalHandleError (e, t, n) { logError(e, t, n) } function logError (e, t, n) { if (!inBrowser || typeof console === 'undefined') throw e; console.error(e) } var hasProto = '__proto__' in {}, inBrowser = typeof window !== 'undefined', UA = inBrowser && window.navigator.userAgent.toLowerCase(), isIE = UA && /msie|trident/.test(UA), isIE9 = UA && UA.indexOf('msie 9.0') > 0, isEdge = UA && UA.indexOf('edge/') > 0, isAndroid = UA && UA.indexOf('android') > 0, isIOS = UA && /iphone|ipad|ipod|ios/.test(UA), isChrome = UA && /chrome\/\d+/.test(UA) && !isEdge, nativeWatch = {}.watch, supportsPassive$1 = !1; if (inBrowser) try { let opts$1 = {}; Object.defineProperty(opts$1, 'passive', {get: function () { supportsPassive$1 = !0 }}), window.addEventListener('test-passive', null, opts$1) } catch (e) {} let $isServer = void 0, isServerRendering = function () { return void 0 === $isServer && ($isServer = !inBrowser && typeof global !== 'undefined' && global.process.env.VUE_ENV === 'server'), $isServer }, devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__; function isNative (e) { return typeof e === 'function' && /native code/.test(e.toString()) } let hasSymbol = typeof Symbol !== 'undefined' && isNative(Symbol) && typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys), nextTick = (function () { let r = [], i = !1, o = void 0; function e () { i = !1; for (let e = r.slice(0), t = r.length = 0; t < e.length; t++)e[t]() } if (typeof setImmediate !== 'undefined' && isNative(setImmediate))o = function () { setImmediate(e) }; else if (typeof MessageChannel === 'undefined' || !isNative(MessageChannel) && MessageChannel.toString() !== '[object MessageChannelConstructor]') if (typeof Promise !== 'undefined' && isNative(Promise)) { let t = Promise.resolve(); o = function () { t.then(e) } } else o = function () { setTimeout(e, 0) }; else { let n = new MessageChannel(), a = n.port2; n.port1.onmessage = e, o = function () { a.postMessage(1) } } return function (e, t) { let n = void 0; if (r.push(function () { if (e) try { e.call(t) } catch (e) { handleError(e, t, 'nextTick') } else n && n(t) }), i || (i = !0, o()), !e && typeof Promise !== 'undefined') return new Promise(function (resolve, reject) { n = e }) } }()), $Set = void 0; $Set = typeof Set !== 'undefined' && isNative(Set) ? Set : (function () { function e () { classCallCheck(this, e), this.set = Object.create(null) } return createClass(e, [{key: 'has', value: function (e) { return !0 === this.set[e] }}, {key: 'add', value: function (e) { this.set[e] = !0 }}, {key: 'clear', value: function () { this.set = Object.create(null) }}]), e }()); let uid = 0, Dep = (function () { function e () { classCallCheck(this, e), this.id = uid++, this.subs = [] } return createClass(e, [{key: 'addSub', value: function (e) { this.subs.push(e) }}, {key: 'removeSub', value: function (e) { remove(this.subs, e) }}, {key: 'depend', value: function () { e.target && e.target.addDep(this) }}, {key: 'notify', value: function () { for (let e = this.subs.slice(), t = 0, n = e.length; t < n; t++)e[t].update() }}]), e }()); Dep.target = null; let targetStack = []; function pushTarget (e) { Dep.target && targetStack.push(Dep.target), Dep.target = e } function popTarget () { Dep.target = targetStack.pop() } let VNode = (function () { function c (e, t, n, r, i, o, a, s) { classCallCheck(this, c), this.tag = e, this.data = t, this.children = n, this.text = r, this.elm = i, this.ns = void 0, this.context = o, this.functionalContext = void 0, this.functionalOptions = void 0, this.functionalScopeId = void 0, this.key = t && t.key, this.componentOptions = a, this.componentInstance = void 0, this.parent = void 0, this.raw = !1, this.isStatic = !1, this.isRootInsert = !0, this.isComment = !1, this.isCloned = !1, this.isOnce = !1, this.asyncFactory = s, this.asyncMeta = void 0, this.isAsyncPlaceholder = !1 } return createClass(c, [{key: 'child', get: function () { return this.componentInstance }}]), c }()), createEmptyVNode = function () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '', t = new VNode(); return t.text = e, t.isComment = !0, t }; function createTextVNode (e) { return new VNode(void 0, void 0, void 0, String(e)) } function cloneVNode (e, t) { let n = new VNode(e.tag, e.data, e.children, e.text, e.elm, e.context, e.componentOptions, e.asyncFactory); return n.ns = e.ns, n.isStatic = e.isStatic, n.key = e.key, n.isComment = e.isComment, n.isCloned = !0, t && e.children && (n.children = cloneVNodes(e.children)), n } function cloneVNodes (e, t) { for (var n = e.length, r = new Array(n), i = 0; i < n; i++)r[i] = cloneVNode(e[i], t); return r } let arrayProto = Array.prototype, arrayMethods = Object.create(arrayProto); ['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'].forEach(function (a) { let s = arrayProto[a]; def(arrayMethods, a, function () { for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)t[n] = arguments[n]; let r = s.apply(this, t), i = this.__ob__, o = void 0; switch (a) { case 'push':case 'unshift':o = t; break; case 'splice':o = t.slice(2) } return o && i.observeArray(o), i.dep.notify(), r }) }); let arrayKeys = Object.getOwnPropertyNames(arrayMethods), observerState = {shouldConvert: !0}, Observer = (function () { function t (e) { (classCallCheck(this, t), this.value = e, this.dep = new Dep(), this.vmCount = 0, def(e, '__ob__', this), Array.isArray(e)) ? ((hasProto ? protoAugment : copyAugment)(e, arrayMethods, arrayKeys), this.observeArray(e)) : this.walk(e) } return createClass(t, [{key: 'walk', value: function (e) { for (let t = Object.keys(e), n = 0; n < t.length; n++)defineReactive$$1(e, t[n], e[t[n]]) }}, {key: 'observeArray', value: function (e) { for (let t = 0, n = e.length; t < n; t++)observe(e[t]) }}]), t }()); function protoAugment (e, t, n) { e.__proto__ = t } function copyAugment (e, t, n) { for (let r = 0, i = n.length; r < i; r++) { let o = n[r]; def(e, o, t[o]) } } function observe (e, t) { if (isObject(e) && !(e instanceof VNode)) { let n = void 0; return hasOwn(e, '__ob__') && e.__ob__ instanceof Observer ? n = e.__ob__ : observerState.shouldConvert && !isServerRendering() && (Array.isArray(e) || isPlainObject$1(e)) && Object.isExtensible(e) && !e._isVue && (n = new Observer(e)), t && n && n.vmCount++, n } } function defineReactive$$1 (n, e, r, t, i) { let o = new Dep(), a = Object.getOwnPropertyDescriptor(n, e); if (!a || !1 !== a.configurable) { let s = a && a.get, c = a && a.set, l = !i && observe(r); Object.defineProperty(n, e, {enumerable: !0, configurable: !0, get: function () { let e = s ? s.call(n) : r; return Dep.target && (o.depend(), l && (l.dep.depend(), Array.isArray(e) && dependArray(e))), e }, set: function (e) { let t = s ? s.call(n) : r; e === t || e != e && t != t || (c ? c.call(n, e) : r = e, l = !i && observe(e), o.notify()) }}) } } function set$1 (e, t, n) { if (Array.isArray(e) && isValidArrayIndex(t)) return e.length = Math.max(e.length, t), e.splice(t, 1, n), n; if (hasOwn(e, t)) return e[t] = n; let r = e.__ob__; return e._isVue || r && r.vmCount ? n : r ? (defineReactive$$1(r.value, t, n), r.dep.notify(), n) : e[t] = n } function del$1 (e, t) { if (Array.isArray(e) && isValidArrayIndex(t))e.splice(t, 1); else { let n = e.__ob__; e._isVue || n && n.vmCount || hasOwn(e, t) && (delete e[t], n && n.dep.notify()) } } function dependArray (e) { for (var t, n = 0, r = e.length; n < r; n++)(t = e[n]) && t.__ob__ && t.__ob__.dep.depend(), Array.isArray(t) && dependArray(t) } let strats = config.optionMergeStrategies; function mergeData (e, t) { if (!t) return e; for (let n = void 0, r = void 0, i = void 0, o = Object.keys(t), a = 0; a < o.length; a++)r = e[n = o[a]], i = t[n], hasOwn(e, n) ? isPlainObject$1(r) && isPlainObject$1(i) && mergeData(r, i) : set$1(e, n, i); return e } function mergeDataOrFn (n, r, i) { return i ? n || r ? function () { let e = typeof r === 'function' ? r.call(i) : r, t = typeof n === 'function' ? n.call(i) : n; return e ? mergeData(e, t) : t } : void 0 : r ? n ? function () { return mergeData(typeof r === 'function' ? r.call(this) : r, typeof n === 'function' ? n.call(this) : n) } : r : n } function mergeHook (e, t) { return t ? e ? e.concat(t) : Array.isArray(t) ? t : [t] : e } function mergeAssets (e, t, n, r) { let i = Object.create(e || null); return t ? extend$1(i, t) : i } function defaultStrat (e, t) { return void 0 === t ? e : t } function normalizeProps (e, t) { let n = e.props; if (n) { let r = {}, i = void 0, o = void 0; if (Array.isArray(n)) for (i = n.length; i--;) typeof (o = n[i]) === 'string' && (r[camelize$1(o)] = {type: null}); else if (isPlainObject$1(n)) for (let a in n)o = n[a], r[camelize$1(a)] = isPlainObject$1(o) ? o : {type: o}; e.props = r } } function normalizeInject (e, t) { let n = e.inject, r = e.inject = {}; if (Array.isArray(n)) for (let i = 0; i < n.length; i++)r[n[i]] = {from: n[i]}; else if (isPlainObject$1(n)) for (let o in n) { let a = n[o]; r[o] = isPlainObject$1(a) ? extend$1({from: o}, a) : {from: a} } } function normalizeDirectives (e) { let t = e.directives; if (t) for (let n in t) { let r = t[n]; typeof r === 'function' && (t[n] = {bind: r, update: r}) } } function assertObjectType (e, t, n) { isPlainObject$1(t) || warn('Invalid value for option "' + e + '": expected an Object, but got ' + toRawType(t) + '.', n) } function mergeOptions (n, r, i) { typeof r === 'function' && (r = r.options), normalizeProps(r, i), normalizeInject(r, i), normalizeDirectives(r); let e = r.extends; if (e && (n = mergeOptions(n, e, i)), r.mixins) for (let t = 0, o = r.mixins.length; t < o; t++)n = mergeOptions(n, r.mixins[t], i); let a = {}, s = void 0; for (s in n)c(s); for (s in r)hasOwn(n, s) || c(s); function c (e) { let t = strats[e] || defaultStrat; a[e] = t(n[e], r[e], i, e) } return a } function resolveAsset (e, t, n, r) { if (typeof n === 'string') { let i = e[t]; if (hasOwn(i, n)) return i[n]; let o = camelize$1(n); if (hasOwn(i, o)) return i[o]; let a = capitalize(o); return hasOwn(i, a) ? i[a] : i[n] || i[o] || i[a] } } function validateProp (e, t, n, r) { let i = t[e], o = !hasOwn(n, e), a = n[e]; if (isType(Boolean, i.type) && (o && !hasOwn(i, 'default') ? a = !1 : isType(String, i.type) || a !== '' && a !== hyphenate$1(e) || (a = !0)), void 0 === a) { a = getPropDefaultValue(r, i, e); let s = observerState.shouldConvert; observerState.shouldConvert = !0, observe(a), observerState.shouldConvert = s } return a } function getPropDefaultValue (e, t, n) { if (hasOwn(t, 'default')) { let r = t.default; return e && e.$options.propsData && void 0 === e.$options.propsData[n] && void 0 !== e._props[n] ? e._props[n] : typeof r === 'function' && getType(t.type) !== 'Function' ? r.call(e) : r } } function getType (e) { let t = e && e.toString().match(/^\s*function (\w+)/); return t ? t[1] : '' } function isType (e, t) { if (!Array.isArray(t)) return getType(t) === getType(e); for (let n = 0, r = t.length; n < r; n++) if (getType(t[n]) === getType(e)) return !0; return !1 }strats.data = function (e, t, n) { return n ? mergeDataOrFn(e, t, n) : t && typeof t !== 'function' ? e : mergeDataOrFn.call(this, e, t) }, LIFECYCLE_HOOKS.forEach(function (e) { strats[e] = mergeHook }), ASSET_TYPES.forEach(function (e) { strats[e + 's'] = mergeAssets }), strats.watch = function (e, t, n, r) { if (e === nativeWatch && (e = void 0), t === nativeWatch && (t = void 0), !t) return Object.create(e || null); if (!e) return t; let i = {}; for (let o in extend$1(i, e), t) { let a = i[o], s = t[o]; a && !Array.isArray(a) && (a = [a]), i[o] = a ? a.concat(s) : Array.isArray(s) ? s : [s] } return i }, strats.props = strats.methods = strats.inject = strats.computed = function (e, t, n, r) { if (!e) return t; let i = Object.create(null); return extend$1(i, e), t && extend$1(i, t), i }, strats.provide = mergeDataOrFn; let normalizeEvent = cached(function (e) { let t = e.charAt(0) === '&', n = (e = t ? e.slice(1) : e).charAt(0) === '~', r = (e = n ? e.slice(1) : e).charAt(0) === '!'; return {name: e = r ? e.slice(1) : e, once: n, capture: r, passive: t} }); function createFnInvoker (e) { function r () { let e = r.fns; if (!Array.isArray(e)) return e.apply(null, arguments); for (let t = e.slice(), n = 0; n < t.length; n++)t[n].apply(null, arguments) } return r.fns = e, r } function updateListeners (e, t, n, r, i) { let o = void 0, a = void 0, s = void 0, c = void 0; for (o in e)a = e[o], s = t[o], c = normalizeEvent(o), isUndef(a) || (isUndef(s) ? (isUndef(a.fns) && (a = e[o] = createFnInvoker(a)), n(c.name, a, c.once, c.capture, c.passive)) : a !== s && (s.fns = a, e[o] = s)); for (o in t)isUndef(e[o]) && r((c = normalizeEvent(o)).name, t[o], c.capture) } function mergeVNodeHook (e, t, n) { let r = void 0, i = e[t]; function o () { n.apply(this, arguments), remove(r.fns, o) }isUndef(i) ? r = createFnInvoker([o]) : isDef(i.fns) && isTrue(i.merged) ? (r = i).fns.push(o) : r = createFnInvoker([i, o]), r.merged = !0, e[t] = r } function extractPropsFromVNodeData (e, t, n) { let r = t.options.props; if (!isUndef(r)) { let i = {}, o = e.attrs, a = e.props; if (isDef(o) || isDef(a)) for (let s in r) { let c = hyphenate$1(s); checkProp(i, a, s, c, !0) || checkProp(i, o, s, c, !1) } return i } } function checkProp (e, t, n, r, i) { if (isDef(t)) { if (hasOwn(t, n)) return e[n] = t[n], i || delete t[n], !0; if (hasOwn(t, r)) return e[n] = t[r], i || delete t[r], !0 } return !1 } function simpleNormalizeChildren (e) { for (let t = 0; t < e.length; t++) if (Array.isArray(e[t])) return Array.prototype.concat.apply([], e); return e } function normalizeChildren (e) { return isPrimitive(e) ? [createTextVNode(e)] : Array.isArray(e) ? normalizeArrayChildren(e) : void 0 } function isTextNode (e) { return isDef(e) && isDef(e.text) && isFalse(e.isComment) } function normalizeArrayChildren (e, t) { let n = [], r = void 0, i = void 0, o = void 0, a = void 0; for (r = 0; r < e.length; r++)isUndef(i = e[r]) || typeof i === 'boolean' || (a = n[o = n.length - 1], Array.isArray(i) ? i.length > 0 && (isTextNode((i = normalizeArrayChildren(i, (t || '') + '_' + r))[0]) && isTextNode(a) && (n[o] = createTextVNode(a.text + i[0].text), i.shift()), n.push.apply(n, i)) : isPrimitive(i) ? isTextNode(a) ? n[o] = createTextVNode(a.text + i) : i !== '' && n.push(createTextVNode(i)) : isTextNode(i) && isTextNode(a) ? n[o] = createTextVNode(a.text + i.text) : (isTrue(e._isVList) && isDef(i.tag) && isUndef(i.key) && isDef(t) && (i.key = '__vlist' + t + '_' + r + '__'), n.push(i))); return n } function ensureCtor (e, t) { return (e.__esModule || hasSymbol && e[Symbol.toStringTag] === 'Module') && (e = e.default), isObject(e) ? t.extend(e) : e } function createAsyncPlaceholder (e, t, n, r, i) { let o = createEmptyVNode(); return o.asyncFactory = e, o.asyncMeta = {data: t, context: n, children: r, tag: i}, o } function resolveAsyncComponent (t, n, e) { if (isTrue(t.error) && isDef(t.errorComp)) return t.errorComp; if (isDef(t.resolved)) return t.resolved; if (isTrue(t.loading) && isDef(t.loadingComp)) return t.loadingComp; if (!isDef(t.contexts)) { let r = t.contexts = [e], i = !0, o = function () { for (let e = 0, t = r.length; e < t; e++)r[e].$forceUpdate() }, a = once(function (e) { t.resolved = ensureCtor(e, n), i || o() }), s = once(function (e) { isDef(t.errorComp) && (t.error = !0, o()) }), c = t(a, s); return isObject(c) && (typeof c.then === 'function' ? isUndef(t.resolved) && c.then(a, s) : isDef(c.component) && typeof c.component.then === 'function' && (c.component.then(a, s), isDef(c.error) && (t.errorComp = ensureCtor(c.error, n)), isDef(c.loading) && (t.loadingComp = ensureCtor(c.loading, n), c.delay === 0 ? t.loading = !0 : setTimeout(function () { isUndef(t.resolved) && isUndef(t.error) && (t.loading = !0, o()) }, c.delay || 200)), isDef(c.timeout) && setTimeout(function () { isUndef(t.resolved) && s(null) }, c.timeout))), i = !1, t.loading ? t.loadingComp : t.resolved }t.contexts.push(e) } function isAsyncPlaceholder (e) { return e.isComment && e.asyncFactory } function getFirstComponentChild (e) { if (Array.isArray(e)) for (let t = 0; t < e.length; t++) { let n = e[t]; if (isDef(n) && (isDef(n.componentOptions) || isAsyncPlaceholder(n))) return n } } function initEvents (e) { e._events = Object.create(null), e._hasHookEvent = !1; let t = e.$options._parentListeners; t && updateComponentListeners(e, t) } let target = void 0; function add (e, t, n) { n ? target.$once(e, t) : target.$on(e, t) } function remove$1 (e, t) { target.$off(e, t) } function updateComponentListeners (e, t, n) { updateListeners(t, n || {}, add, remove$1, target = e) } function eventsMixin (e) { let i = /^hook:/; e.prototype.$on = function (e, t) { if (Array.isArray(e)) for (let n = 0, r = e.length; n < r; n++) this.$on(e[n], t); else (this._events[e] || (this._events[e] = [])).push(t), i.test(e) && (this._hasHookEvent = !0); return this }, e.prototype.$once = function (e, t) { let n = this; function r () { n.$off(e, r), t.apply(n, arguments) } return r.fn = t, n.$on(e, r), n }, e.prototype.$off = function (e, t) { if (!arguments.length) return this._events = Object.create(null), this; if (Array.isArray(e)) { for (let n = 0, r = e.length; n < r; n++) this.$off(e[n], t); return this } let i = this._events[e]; if (!i) return this; if (arguments.length === 1) return this._events[e] = null, this; if (t) for (let o = void 0, a = i.length; a--;) if ((o = i[a]) === t || o.fn === t) { i.splice(a, 1); break } return this }, e.prototype.$emit = function (t) { let n = this, e = n._events[t]; if (e) { e = e.length > 1 ? toArray$2(e) : e; for (let r = toArray$2(arguments, 1), i = 0, o = e.length; i < o; i++) try { e[i].apply(n, r) } catch (e) { handleError(e, n, 'event handler for "' + t + '"') } } return n } } function resolveSlots (e, t) { return e ? e[0] instanceof Node ? resolveNodeSlots(e, t) : resolveVNodeSlots(e, t) : {} } function resolveVNodeSlots (e, t) { for (var n = {}, r = [], i = 0, o = e.length; i < o; i++) { let a = e[i], s = a.data; if (s && s.attrs && s.attrs.slot && delete s.attrs.slot, a.context !== t && a.functionalContext !== t || !s || s.slot == null)r.push(a); else { let c = a.data.slot, l = n[c] || (n[c] = []); a.tag === 'template' ? l.push.apply(l, a.children) : l.push(a) } } return r.every(isWhitespace) || (n.default = r), n } function resolveNodeSlots (e, t) { for (var n = {}, r = [], i = 0, o = e.length; i < o; i++) { let a = e[i], s = a.getAttribute && a.getAttribute('slot'); if (s) { let c = n[s] || (n[s] = []); a.tagName === 'TEMPLATE' ? c.push.apply(c, a.content.childNodes) : c.push(a), a.removeAttribute('slot') } else r.push(a) } return n.default = r, n } function isWhitespace (e) { return e.isComment || e.text === ' ' } function resolveScopedSlots (e, t) { t = t || {}; for (let n = 0; n < e.length; n++)Array.isArray(e[n]) ? resolveScopedSlots(e[n], t) : t[e[n].key] = e[n].fn; return t } let activeInstance = null; function initLifecycle (e) { let t = e.$options, n = t.parent; if (n && !t.abstract) { for (;n.$options.abstract && n.$parent;)n = n.$parent; n.$children.push(e) }e.$parent = n, e.$root = n ? n.$root : e, e.$children = [], e.$refs = {}, e._watcher = null, e._inactive = null, e._directInactive = !1, e._isMounted = !1, e._isDestroyed = !1, e._isBeingDestroyed = !1 } function lifecycleMixin (e) { e.prototype._update = function (e, t) { let n = this; n._isMounted && callHook(n, 'beforeUpdate'); let r = n.$el, i = n._vnode, o = activeInstance; (activeInstance = n)._vnode = e, i ? n.$el = n.__patch__(i, e) : (n.$el = n.__patch__(n.$el, e, t, !1, n.$options._parentElm, n.$options._refElm), n.$options._parentElm = n.$options._refElm = null), activeInstance = o, r && (r.__vue__ = null), n.$el && (n.$el.__vue__ = n), n.$vnode && n.$parent && n.$vnode === n.$parent._vnode && (n.$parent.$el = n.$el) }, e.prototype.$forceUpdate = function () { this._watcher && this._watcher.update() }, e.prototype.$destroy = function () { let e = this; if (!e._isBeingDestroyed) { callHook(e, 'beforeDestroy'), e._isBeingDestroyed = !0; let t = e.$parent; !t || t._isBeingDestroyed || e.$options.abstract || remove(t.$children, e), e._watcher && e._watcher.teardown(); for (let n = e._watchers.length; n--;)e._watchers[n].teardown(); e._data.__ob__ && e._data.__ob__.vmCount--, e._isDestroyed = !0, e.__patch__(e._vnode, null), callHook(e, 'destroyed'), e.$off(), e.$el && (e.$el.__vue__ = null), e.$vnode && (e.$vnode.parent = null) } } } function mountComponent (e, t, n) { e.$el = t, e.$options.render || (e.$options.render = createEmptyVNode), callHook(e, 'beforeMount'); let r; return r = function () { e._update(e._render(), n) }, e._watcher = new Watcher(e, r, noop), n = !1, e.$vnode == null && (e._isMounted = !0, callHook(e, 'mounted')), e } function updateChildComponent (e, t, n, r, i) { let o = !!(i || e.$options._renderChildren || r.data.scopedSlots || e.$scopedSlots !== emptyObject); if (e.$options._parentVnode = r, e.$vnode = r, e._vnode && (e._vnode.parent = r), e.$options._renderChildren = i, e.$attrs = r.data && r.data.attrs || emptyObject, e.$listeners = n || emptyObject, t && e.$options.props) { observerState.shouldConvert = !1; for (let a = e._props, s = e.$options._propKeys || [], c = 0; c < s.length; c++) { let l = s[c]; a[l] = validateProp(l, e.$options.props, t, e) }observerState.shouldConvert = !0, e.$options.propsData = t } if (n) { let u = e.$options._parentListeners; e.$options._parentListeners = n, updateComponentListeners(e, n, u) }!o || i && i[0] instanceof Node || (e.$slots = resolveSlots(i, r.context), e.$forceUpdate()) } function isInInactiveTree (e) { for (;e && (e = e.$parent);) if (e._inactive) return !0; return !1 } function activateChildComponent (e, t) { if (t) { if (e._directInactive = !1, isInInactiveTree(e)) return } else if (e._directInactive) return; if (e._inactive || e._inactive === null) { e._inactive = !1; for (let n = 0; n < e.$children.length; n++)activateChildComponent(e.$children[n]); callHook(e, 'activated') } } function deactivateChildComponent (e, t) { if (!(t && (e._directInactive = !0, isInInactiveTree(e)) || e._inactive)) { e._inactive = !0; for (let n = 0; n < e.$children.length; n++)deactivateChildComponent(e.$children[n]); callHook(e, 'deactivated') } } function callHook (t, n) { let e = t.$options[n]; if (n === 'beforeMount') { let r = t.$options.asyncData, i = t.$options.syncData; r && r.call(t), i && i.call(t) } if (e) for (let o = 0, a = e.length; o < a; o++) try { e[o].call(t) } catch (e) { handleError(e, t, n + ' hook') }t._hasHookEvent && t.$emit('hook:' + n) } let queue = [], activatedChildren = [], has = {}, waiting = !1, flushing = !1, index = 0; function resetSchedulerState () { index = queue.length = activatedChildren.length = 0, waiting = flushing = !(has = {}) } function flushSchedulerQueue () { flushing = !0; let e = void 0, t = void 0; for (queue.sort(function (e, t) { return e.id - t.id }), index = 0; index < queue.length; index++)t = (e = queue[index]).id, has[t] = null, e.run(); let n = activatedChildren.slice(), r = queue.slice(); resetSchedulerState(), callActivatedHooks(n), callUpdatedHooks(r), devtools && config.devtools && devtools.emit('flush') } function callUpdatedHooks (e) { for (let t = e.length; t--;) { let n = e[t], r = n.vm; r._watcher === n && r._isMounted && callHook(r, 'updated') } } function queueActivatedComponent (e) { e._inactive = !1, activatedChildren.push(e) } function callActivatedHooks (e) { for (let t = 0; t < e.length; t++)e[t]._inactive = !0, activateChildComponent(e[t], !0) } function queueWatcher (e) { let t = e.id; if (has[t] == null) { if (has[t] = !0, flushing) { for (var n = queue.length - 1; index < n && queue[n].id > e.id;)n--; queue.splice(n + 1, 0, e) } else queue.push(e); waiting || (waiting = !0, nextTick(flushSchedulerQueue)) } } var uid$1 = 0, Watcher = (function () { function i (e, t, n, r) { classCallCheck(this, i), (this.vm = e)._watchers.push(this), r ? (this.deep = !!r.deep, this.user = !!r.user, this.lazy = !!r.lazy, this.sync = !!r.sync) : this.deep = this.user = this.lazy = this.sync = !1, this.cb = n, this.id = ++uid$1, this.active = !0, this.dirty = this.lazy, this.deps = [], this.newDeps = [], this.depIds = new $Set(), this.newDepIds = new $Set(), this.expression = '', typeof t === 'function' ? this.getter = t : (this.getter = parsePath$1(t), this.getter || (this.getter = function () {})), this.value = this.lazy ? void 0 : this.get() } return createClass(i, [{key: 'get', value: function () { pushTarget(this); let e = void 0, t = this.vm; try { e = this.getter.call(t, t) } catch (e) { if (!this.user) throw e; handleError(e, t, 'getter for watcher "' + this.expression + '"') } finally { this.deep && traverse(e), popTarget(), this.cleanupDeps() } return e }}, {key: 'addDep', value: function (e) { let t = e.id; this.newDepIds.has(t) || (this.newDepIds.add(t), this.newDeps.push(e), this.depIds.has(t) || e.addSub(this)) }}, {key: 'cleanupDeps', value: function () { for (let e = this.deps.length; e--;) { let t = this.deps[e]; this.newDepIds.has(t.id) || t.removeSub(this) } let n = this.depIds; this.depIds = this.newDepIds, this.newDepIds = n, this.newDepIds.clear(), n = this.deps, this.deps = this.newDeps, this.newDeps = n, this.newDeps.length = 0 }}, {key: 'update', value: function () { this.lazy ? this.dirty = !0 : this.sync ? this.run() : queueWatcher(this) }}, {key: 'run', value: function () { if (this.active) { let e = this.get(); if (e !== this.value || isObject(e) || this.deep) { let t = this.value; if (this.value = e, this.user) try { this.cb.call(this.vm, e, t) } catch (e) { handleError(e, this.vm, 'callback for watcher "' + this.expression + '"') } else this.cb.call(this.vm, e, t) } } }}, {key: 'evaluate', value: function () { this.value = this.get(), this.dirty = !1 }}, {key: 'depend', value: function () { for (let e = this.deps.length; e--;) this.deps[e].depend() }}, {key: 'teardown', value: function () { if (this.active) { this.vm._isBeingDestroyed || remove(this.vm._watchers, this); for (let e = this.deps.length; e--;) this.deps[e].removeSub(this); this.active = !1 } }}]), i }()), seenObjects = new $Set(); function traverse (e) { seenObjects.clear(), $traverse(e, seenObjects) } function $traverse (e, t) { let n = void 0, r = void 0, i = Array.isArray(e); if ((i || isObject(e)) && Object.isExtensible(e)) { if (e.__ob__) { let o = e.__ob__.dep.id; if (t.has(o)) return; t.add(o) } if (i) for (n = e.length; n--;)$traverse(e[n], t); else for (n = (r = Object.keys(e)).length; n--;)$traverse(e[r[n]], t) } } let sharedPropertyDefinition = {enumerable: !0, configurable: !0, get: noop, set: noop}; function proxy (e, t, n) { sharedPropertyDefinition.get = function () { return this[t][n] }, sharedPropertyDefinition.set = function (e) { this[t][n] = e }, Object.defineProperty(e, n, sharedPropertyDefinition) } function initState (e) { e._watchers = []; let t = e.$options; t.props && initProps(e, t.props), t.methods && initMethods(e, t.methods), t.data ? initData(e) : observe(e._data = {}, !0), t.computed && initComputed(e, t.computed), t.watch && t.watch !== nativeWatch && initWatch(e, t.watch) } function initProps (n, r) { let i = n.$options.propsData || {}, o = n._props = {}, a = n.$options._propKeys = [], e = !n.$parent; observerState.shouldConvert = e; let t = function (e) { a.push(e); let t = validateProp(e, r, i, n); defineReactive$$1(o, e, t), e in n || proxy(n, '_props', e) }; for (let s in r)t(s); observerState.shouldConvert = !0 } function initData (e) { let t = e.$options.data; isPlainObject$1(t = e._data = typeof t === 'function' ? getData(t, e) : t || {}) || (t = {}); for (let n = Object.keys(t), r = e.$options.props, i = (e.$options.methods, n.length); i--;) { let o = n[i]; r && hasOwn(r, o) || isReserved(o) || proxy(e, '_data', o) }observe(t, !0) } function getData (e, t) { try { return e.call(t, t) } catch (e) { return handleError(e, t, 'data()'), {} } } let computedWatcherOptions = {lazy: !0}; function initComputed (e, t) { let n = e._computedWatchers = Object.create(null), r = isServerRendering(); for (let i in t) { let o = t[i], a = typeof o === 'function' ? o : o.get; r || (n[i] = new Watcher(e, a || noop, noop, computedWatcherOptions)), i in e || defineComputed(e, i, o) } } function defineComputed (e, t, n) { let r = !isServerRendering(); typeof n === 'function' ? (sharedPropertyDefinition.get = r ? createComputedGetter(t) : n, sharedPropertyDefinition.set = noop) : (sharedPropertyDefinition.get = n.get ? r && !1 !== n.cache ? createComputedGetter(t) : n.get : noop, sharedPropertyDefinition.set = n.set ? n.set : noop), Object.defineProperty(e, t, sharedPropertyDefinition) } function createComputedGetter (t) { return function () { let e = this._computedWatchers && this._computedWatchers[t]; if (e) return e.dirty && e.evaluate(), Dep.target && e.depend(), e.value } } function initMethods (e, t) { e.$options.props; for (let n in t)e[n] = t[n] == null ? noop : bind(t[n], e) } function initWatch (e, t) { for (let n in t) { let r = t[n]; if (Array.isArray(r)) for (let i = 0; i < r.length; i++)createWatcher(e, n, r[i]); else createWatcher(e, n, r) } } function createWatcher (e, t, n, r) { return isPlainObject$1(n) && (n = (r = n).handler), typeof n === 'string' && (n = e[n]), e.$watch(t, n, r) } function stateMixin (e) { let t = {}, n = {}; t.get = function () { return this._data }, n.get = function () { return this._props }, Object.defineProperty(e.prototype, '$data', t), Object.defineProperty(e.prototype, '$props', n), e.prototype.$set = set$1, e.prototype.$delete = del$1, e.prototype.$watch = function (e, t, n) { if (isPlainObject$1(t)) return createWatcher(this, e, t, n); (n = n || {}).user = !0; let r = new Watcher(this, e, t, n); return n.immediate && t.call(this, r.value), function () { r.teardown() } } } function initProvide (e) { let t = e.$options.provide; t && (e._provided = typeof t === 'function' ? t.call(e) : t) } function initInjections (t) { let n = resolveInject(t.$options.inject, t); n && (observerState.shouldConvert = !1, Object.keys(n).forEach(function (e) { defineReactive$$1(t, e, n[e]) }), observerState.shouldConvert = !0) } function resolveInject (t, e) { if (t) { for (var n = Object.create(null), r = hasSymbol ? Reflect.ownKeys(t).filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }) : Object.keys(t), i = 0; i < r.length; i++) { for (var o = r[i], a = t[o].from, s = e; s;) { if (s._provided && a in s._provided) { n[o] = s._provided[a]; break }s = s.$parent } if (!s && 'default' in t[o]) { let c = t[o].default; n[o] = typeof c === 'function' ? c.call(e) : c } } return n } } function renderList (e, t) { let n = void 0, r = void 0, i = void 0, o = void 0, a = void 0; if (Array.isArray(e) || typeof e === 'string') for (n = new Array(e.length), r = 0, i = e.length; r < i; r++)n[r] = t(e[r], r); else if (typeof e === 'number') for (n = new Array(e), r = 0; r < e; r++)n[r] = t(r + 1, r); else if (isObject(e)) for (o = Object.keys(e), n = new Array(o.length), r = 0, i = o.length; r < i; r++)a = o[r], n[r] = t(e[a], a, r); return isDef(n) && (n._isVList = !0), n } function renderSlot (e, t, n, r) { let i = this.$scopedSlots[e]; if (i) return n = n || {}, r && (n = extend$1(extend$1({}, r), n)), i(n) || t; let o = this.$slots[e]; return o || t } function resolveFilter (e) { return resolveAsset(this.$options, 'filters', e, !0) || identity } function checkKeyCodes (e, t, n, r) { let i = config.keyCodes[t] || n; return i ? Array.isArray(i) ? i.indexOf(e) === -1 : i !== e : r ? hyphenate$1(r) !== t : void 0 } function bindObjectProps (n, r, i, o, a) { if (i) if (isObject(i)) { Array.isArray(i) && (i = toObject(i)); let s = void 0, e = function (t) { if (t === 'class' || t === 'style' || isReservedAttribute(t))s = n; else { let e = n.attrs && n.attrs.type; s = o || config.mustUseProp(r, e, t) ? n.domProps || (n.domProps = {}) : n.attrs || (n.attrs = {}) }t in s || (s[t] = i[t], a && ((n.on || (n.on = {}))['update:' + t] = function (e) { i[t] = e })) }; for (let t in i)e(t) } else;return n } function renderStatic (e, t) { let n = this.$options.staticRenderFns, r = n.cached || (n.cached = []), i = r[e]; return i && !t ? Array.isArray(i) ? cloneVNodes(i) : cloneVNode(i) : (markStatic(i = r[e] = n[e].call(this._renderProxy, null, this), '__static__' + e, !1), i) } function markOnce (e, t, n) { return markStatic(e, '__once__' + t + (n ? '_' + n : ''), !0), e } function markStatic (e, t, n) { if (Array.isArray(e)) for (let r = 0; r < e.length; r++)e[r] && typeof e[r] !== 'string' && markStaticNode(e[r], t + '_' + r, n); else markStaticNode(e, t, n) } function markStaticNode (e, t, n) { e.isStatic = !0, e.key = t, e.isOnce = n } function bindObjectListeners (e, t) { if (t) if (isPlainObject$1(t)) { let n = e.on = e.on ? extend$1({}, e.on) : {}; for (let r in t) { let i = n[r], o = t[r]; n[r] = i ? [].concat(o, i) : o } } else;return e } function installRenderHelpers (e) { e._o = markOnce, e._n = toNumber, e._s = toString, e._l = renderList, e._t = renderSlot, e._q = looseEqual, e._i = looseIndexOf, e._m = renderStatic, e._f = resolveFilter, e._k = checkKeyCodes, e._b = bindObjectProps, e._v = createTextVNode, e._e = createEmptyVNode, e._u = resolveScopedSlots, e._g = bindObjectListeners } function FunctionalRenderContext (e, t, n, o, r) { let a = r.options; this.data = e, this.props = t, this.children = n, this.parent = o, this.listeners = e.on || emptyObject, this.injections = resolveInject(a.inject, o), this.slots = function () { return resolveSlots(n, o) }; let s = Object.create(o), i = isTrue(a._compiled), c = !i; i && (this.$options = a, this.$slots = this.slots(), this.$scopedSlots = e.scopedSlots || emptyObject), a._scopeId ? this._c = function (e, t, n, r) { let i = createElement(s, e, t, n, r, c); return i && (i.functionalScopeId = a._scopeId, i.functionalContext = o), i } : this._c = function (e, t, n, r) { return createElement(s, e, t, n, r, c) } } function createFunctionalComponent (e, t, n, r, i) { let o = e.options, a = {}, s = o.props; if (isDef(s)) for (let c in s)a[c] = validateProp(c, s, t || emptyObject); else isDef(n.attrs) && mergeProps(a, n.attrs), isDef(n.props) && mergeProps(a, n.props); let l = new FunctionalRenderContext(n, a, i, r, e), u = o.render.call(null, l._c, l); return u instanceof VNode && (u.functionalContext = r, u.functionalOptions = o, n.slot && ((u.data || (u.data = {})).slot = n.slot)), u } function mergeProps (e, t) { for (let n in t)e[camelize$1(n)] = t[n] }installRenderHelpers(FunctionalRenderContext.prototype); var componentVNodeHooks = {init: function (e, t, n, r) { if (!e.componentInstance || e.componentInstance._isDestroyed)(e.componentInstance = createComponentInstanceForVnode(e, activeInstance, n, r)).$mount(t ? e.elm : void 0, t); else if (e.data.keepAlive) { let i = e; componentVNodeHooks.prepatch(i, i) } }, prepatch: function (e, t) { let n = t.componentOptions; updateChildComponent(t.componentInstance = e.componentInstance, n.propsData, n.listeners, t, n.children) }, insert: function (e) { let t = e.context, n = e.componentInstance; n._isMounted || (n._isMounted = !0, callHook(n, 'mounted')), e.data.keepAlive && (t._isMounted ? queueActivatedComponent(n) : activateChildComponent(n, !0)) }, destroy: function (e) { let t = e.componentInstance; t._isDestroyed || (e.data.keepAlive ? deactivateChildComponent(t, !0) : t.$destroy()) }}, hooksToMerge = Object.keys(componentVNodeHooks); function createComponent (e, t, n, r, i, o) { if (!isUndef(e)) { let a = n.$options._base; if (isObject(e) && (e = a.extend(e)), typeof e === 'function') { let s = void 0; if (isUndef(e.cid) && void 0 === (e = resolveAsyncComponent(s = e, a, n))) return createAsyncPlaceholder(s, t, n, r, i); t = t || {}, resolveConstructorOptions(e), isDef(t.model) && transformModel(e.options, t); let c = extractPropsFromVNodeData(t, e, i); if (isTrue(e.options.functional)) return createFunctionalComponent(e, c, t, n, r); let l = t.on; if (t.on = t.nativeOn, isTrue(e.options.abstract)) { let u = t.slot; t = {}, u && (t.slot = u) }mergeHooks(t); let d = e.options.name || i; return new VNode('vue-component-' + e.cid + (d ? '-' + d : ''), t, void 0, void 0, void 0, n, {Ctor: e, propsData: c, listeners: l, tag: i, children: r, childNodes: o}, s) } } } function createComponentInstanceForVnode (e, t, n, r) { let i = e.componentOptions, o = {_isComponent: !0, parent: t, propsData: i.propsData, _componentTag: i.tag, _parentVnode: e, _parentListeners: i.listeners, _renderChildren: i.children, _parentElm: n || null, _refElm: r || null}, a = e.data.inlineTemplate; return isDef(a) && (o.render = a.render, o.staticRenderFns = a.staticRenderFns), new i.Ctor(o) } function mergeHooks (e) { e.hook || (e.hook = {}); for (let t = 0; t < hooksToMerge.length; t++) { let n = hooksToMerge[t], r = e.hook[n], i = componentVNodeHooks[n]; e.hook[n] = r ? mergeHook$1(i, r) : i } } function mergeHook$1 (i, o) { return function (e, t, n, r) { i(e, t, n, r), o(e, t, n, r) } } function transformModel (e, t) { let n = e.model && e.model.prop || 'value', r = e.model && e.model.event || 'input'; (t.props || (t.props = {}))[n] = t.model.value; let i = t.on || (t.on = {}); isDef(i[r]) ? i[r] = [t.model.callback].concat(i[r]) : i[r] = t.model.callback } let SIMPLE_NORMALIZE = 1, ALWAYS_NORMALIZE = 2; function createElement (e, t, n, r, i, o) { return (Array.isArray(n) || isPrimitive(n)) && (i = r, r = n, n = void 0), isTrue(o) && (i = ALWAYS_NORMALIZE), $createElement(e, t, n, r, i) } function $createElement (e, t, n, r, i) { let o = void 0; if (Array.isArray(r) && r[0] instanceof Node && (o = r), isDef(n) && isDef(n.__ob__)) return createEmptyVNode(); if (isDef(n) && isDef(n.is) && (t = n.is), !t) return createEmptyVNode(); Array.isArray(r) && typeof r[0] === 'function' && ((n = n || {}).scopedSlots = {default: r[0]}, r.length = 0), i === ALWAYS_NORMALIZE ? r = normalizeChildren(r) : i === SIMPLE_NORMALIZE && (r = simpleNormalizeChildren(r)); let a = void 0, s = void 0; if (typeof t === 'string') { let c = void 0; s = e.$vnode && e.$vnode.ns || config.getTagNamespace(t), a = config.isReservedTag(t) ? new VNode(config.parsePlatformTagName(t), n, r, void 0, void 0, e) : isDef(c = resolveAsset(e.$options, 'components', t)) ? createComponent(c, n, e, r, t, o) : new VNode(t, n, r, void 0, void 0, e) } else a = createComponent(t, n, e, r, void 0, o); return isDef(a) ? (s && applyNS(a, s), a) : createEmptyVNode() } function applyNS (e, t, n) { if (e.ns = t, e.tag === 'foreignObject' && (n = !(t = void 0)), isDef(e.children)) for (let r = 0, i = e.children.length; r < i; r++) { let o = e.children[r]; isDef(o.tag) && (isUndef(o.ns) || isTrue(n)) && applyNS(o, t, n) } } function initRender (i) { i._vnode = null; let e = i.$options, t = i.$vnode = e._parentVnode, n = t && t.context; i.$slots = resolveSlots(e._renderChildren, n), i.$scopedSlots = emptyObject, i._c = function (e, t, n, r) { return createElement(i, e, t, n, r, !1) }, i.$createElement = function (e, t, n, r) { return createElement(i, e, t, n, r, !0) }; let r = t && t.data; defineReactive$$1(i, '$attrs', r && r.attrs || emptyObject, null, !0), defineReactive$$1(i, '$listeners', e._parentListeners || emptyObject, null, !0) } function renderMixin (e) { installRenderHelpers(e.prototype), e.prototype.$nextTick = function (e) { return nextTick(e, this) }, e.prototype._render = function () { let t = this, e = t.$options, n = e.render, r = e._parentVnode; if (t._isMounted) for (let i in t.$slots) { let o = t.$slots[i]; o._rendered && (t.$slots[i] = cloneVNodes(o, !0)) }t.$scopedSlots = r && r.data.scopedSlots || emptyObject, t.$vnode = r; let a = void 0; try { a = n.call(t._renderProxy, t.$createElement) } catch (e) { handleError(e, t, 'render'), a = t._vnode } return a instanceof VNode || (a = createEmptyVNode()), a.parent = r, a } } let uid$2 = 0; function initMixin (e) { e.prototype._init = function (e) { let t = this; t._uid = uid$2++, t._isVue = !0, e && e._isComponent ? initInternalComponent(t, e) : t.$options = mergeOptions(resolveConstructorOptions(t.constructor), e || {}, t), initLifecycle((t._renderProxy = t)._self = t), initEvents(t), initRender(t), callHook(t, 'beforeCreate'), initInjections(t), initState(t), initProvide(t), callHook(t, 'created'), t.$options.el && t.$mount(t.$options.el) } } function initInternalComponent (e, t) { let n = e.$options = Object.create(e.constructor.options); n.parent = t.parent, n.propsData = t.propsData, n._parentVnode = t._parentVnode, n._parentListeners = t._parentListeners, n._renderChildren = t._renderChildren, n._componentTag = t._componentTag, n._parentElm = t._parentElm, n._refElm = t._refElm, t.render && (n.render = t.render, n.staticRenderFns = t.staticRenderFns) } function resolveConstructorOptions (e) { let t = e.options; if (e.super) { let n = resolveConstructorOptions(e.super); if (n !== e.superOptions) { e.superOptions = n; let r = resolveModifiedOptions(e); r && extend$1(e.extendOptions, r), (t = e.options = mergeOptions(n, e.extendOptions)).name && (t.components[t.name] = e) } } return t } function resolveModifiedOptions (e) { let t = void 0, n = e.options, r = e.extendOptions, i = e.sealedOptions; for (let o in n)n[o] !== i[o] && (t || (t = {}), t[o] = dedupe(n[o], r[o], i[o])); return t } function dedupe (e, t, n) { if (Array.isArray(e)) { let r = []; n = Array.isArray(n) ? n : [n], t = Array.isArray(t) ? t : [t]; for (let i = 0; i < e.length; i++)(t.indexOf(e[i]) >= 0 || n.indexOf(e[i]) < 0) && r.push(e[i]); return r } return e } function Vue (e) { this._init(e) } function initUse (e) { e.use = function (e) { let t = this._installedPlugins || (this._installedPlugins = []); if (t.indexOf(e) > -1) return this; let n = toArray$2(arguments, 1); return n.unshift(this), typeof e.install === 'function' ? e.install.apply(e, n) : typeof e === 'function' && e.apply(null, n), t.push(e), this } } function initMixin$1 (e) { e.mixin = function (e) { return this.options = mergeOptions(this.options, e), this } } function initExtend (e) { e.cid = 0; let a = 1; e.extend = function () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this, n = t.cid, r = e._Ctor || (e._Ctor = {}); if (r[n]) return r[n]; let i = e.name || t.options.name, o = function (e) { this._init(e) }; return ((o.prototype = Object.create(t.prototype)).constructor = o).cid = a++, o.options = mergeOptions(t.options, e), o.super = t, o.options.props && initProps$1(o), o.options.computed && initComputed$1(o), o.extend = t.extend, o.mixin = t.mixin, o.use = t.use, ASSET_TYPES.forEach(function (e) { o[e] = t[e] }), i && (o.options.components[i] = o), o.superOptions = t.options, o.extendOptions = e, o.sealedOptions = extend$1({}, o.options), r[n] = o } } function initProps$1 (e) { let t = e.options.props; for (let n in t)proxy(e.prototype, '_props', n) } function initComputed$1 (e) { let t = e.options.computed; for (let n in t)defineComputed(e.prototype, n, t[n]) } function initAssetRegisters (e) { ASSET_TYPES.forEach(function (n) { e[n] = function (e, t) { return t ? (n === 'component' && isPlainObject$1(t) && (t.name = t.name || e, t = this.options._base.extend(t)), n === 'directive' && typeof t === 'function' && (t = {bind: t, update: t}), this.options[n + 's'][e] = t) : this.options[n + 's'][e] } }) } function getComponentName (e) { return e && (e.Ctor.options.name || e.tag) } function matches$1 (e, t) { return Array.isArray(e) ? e.indexOf(t) > -1 : typeof e === 'string' ? e.split(',').indexOf(t) > -1 : !!isRegExp(e) && e.test(t) } function pruneCache (e, t) { let n = e.cache, r = e.keys, i = e._vnode; for (let o in n) { let a = n[o]; if (a) { let s = getComponentName(a.componentOptions); s && !t(s) && pruneCacheEntry(n, o, r, i) } } } function pruneCacheEntry (e, t, n, r) { let i = e[t]; i && i !== r && i.componentInstance.$destroy(), e[t] = null, remove(n, t) }initMixin(Vue), stateMixin(Vue), eventsMixin(Vue), lifecycleMixin(Vue), renderMixin(Vue); let patternTypes = [String, RegExp, Array], KeepAlive = {name: 'keep-alive', abstract: !0, props: {include: patternTypes, exclude: patternTypes, max: [String, Number]}, created: function () { this.cache = Object.create(null), this.keys = [] }, destroyed: function () { for (let e in this.cache)pruneCacheEntry(this.cache, e, this.keys) }, watch: {include: function (t) { pruneCache(this, function (e) { return matches$1(t, e) }) }, exclude: function (t) { pruneCache(this, function (e) { return !matches$1(t, e) }) }}, render: function () { let e = getFirstComponentChild(this.$slots.default), t = e && e.componentOptions; if (t) { let n = getComponentName(t); if (n && (this.include && !matches$1(this.include, n) || this.exclude && matches$1(this.exclude, n))) return e; let r = this.cache, i = this.keys, o = e.key == null ? t.Ctor.cid + (t.tag ? '::' + t.tag : '') : e.key; r[o] ? (e.componentInstance = r[o].componentInstance, remove(i, o), i.push(o)) : (r[o] = e, i.push(o), this.max && i.length > parseInt(this.max, 10) && pruneCacheEntry(r, i[0], i, this._vnode)), e.data.keepAlive = !0 } return e }}, builtInComponents = {KeepAlive: KeepAlive}; function initGlobalAPI (t) { let e = {get: function () { return config }}; Object.defineProperty(t, 'config', e), t.util = {warn: warn, extend: extend$1, mergeOptions: mergeOptions, defineReactive: defineReactive$$1}, t.set = set$1, t.delete = del$1, t.nextTick = nextTick, t.options = Object.create(null), ASSET_TYPES.forEach(function (e) { t.options[e + 's'] = Object.create(null) }), extend$1((t.options._base = t).options.components, builtInComponents), initUse(t), initMixin$1(t), initExtend(t), initAssetRegisters(t) }initGlobalAPI(Vue), Object.defineProperty(Vue.prototype, '$isServer', {get: isServerRendering}), Object.defineProperty(Vue.prototype, '$ssrContext', {get: function () { return this.$vnode && this.$vnode.ssrContext }}), Vue.version = '2.0.0'; let isReservedAttr = makeMap('style,class'), acceptValue = makeMap('input,textarea,option,select,progress'), mustUseProp = function (e, t, n) { return n === 'value' && acceptValue(e) && t !== 'button' || n === 'selected' && e === 'option' || n === 'checked' && e === 'input' || n === 'muted' && e === 'video' }, isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck'), isBooleanAttr = makeMap('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible'), xlinkNS = 'http://www.w3.org/1999/xlink', isXlink = function (e) { return e.charAt(5) === ':' && e.slice(0, 5) === 'xlink' }, getXlinkProp = function (e) { return isXlink(e) ? e.slice(6, e.length) : '' }, isFalsyAttrValue = function (e) { return e == null || !1 === e }; function genClassForVnode (e) { for (var t = e.data, n = e, r = e; isDef(r.componentInstance);)(r = r.componentInstance._vnode).data && (t = mergeClassData(r.data, t)); for (;isDef(n = n.parent);)n.data && (t = mergeClassData(t, n.data)); return renderClass(t.staticClass, t.class) } function mergeClassData (e, t) { return {staticClass: concat(e.staticClass, t.staticClass), class: isDef(e.class) ? [e.class, t.class] : t.class} } function renderClass (e, t) { return isDef(e) || isDef(t) ? concat(e, stringifyClass(t)) : '' } function concat (e, t) { return e ? t ? e + ' ' + t : e : t || '' } function stringifyClass (e) { return Array.isArray(e) ? stringifyArray(e) : isObject(e) ? stringifyObject(e) : typeof e === 'string' ? e : '' } function stringifyArray (e) { for (var t = '', n = void 0, r = 0, i = e.length; r < i; r++)isDef(n = stringifyClass(e[r])) && n !== '' && (t && (t += ' '), t += n); return t } function stringifyObject (e) { let t = ''; for (let n in e)e[n] && (t && (t += ' '), t += n); return t } let namespaceMap = {svg: 'http://www.w3.org/2000/svg', math: 'http://www.w3.org/1998/Math/MathML'}, isHTMLTag = makeMap('html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot'), isSVG = makeMap('svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view', !0), isReservedTag = function (e) { return isHTMLTag(e) || isSVG(e) }; function getTagNamespace (e) { return isSVG(e) ? 'svg' : e === 'math' ? 'math' : void 0 } let unknownElementCache = Object.create(null); function isUnknownElement (e) { if (!inBrowser) return !0; if (isReservedTag(e)) return !1; if (e = e.toLowerCase(), unknownElementCache[e] != null) return unknownElementCache[e]; let t = document.createElement(e); return e.indexOf('-') > -1 ? unknownElementCache[e] = t.constructor === window.HTMLUnknownElement || t.constructor === window.HTMLElement : unknownElementCache[e] = /HTMLUnknownElement/.test(t.toString()) } let isTextInputType = makeMap('text,number,password,search,email,tel,url'); function query (e) { if (typeof e === 'string') { let t = document.querySelector(e); return t || document.createElement('div') } return e } function createElement$1 (e, t) { let n = document.createElement(e); return e !== 'select' || t.data && t.data.attrs && void 0 !== t.data.attrs.multiple && n.setAttribute('multiple', 'multiple'), n } function createElementNS (e, t) { return document.createElementNS(namespaceMap[e], t) } function createTextNode (e) { return document.createTextNode(e) } function createComment (e) { return document.createComment(e) } function insertBefore (e, t, n) { e.insertBefore(t, n) } function removeChild (e, t) { e.removeChild(t) } function appendChild (e, t) { e.appendChild(t) } function parentNode (e) { return e.parentNode } function nextSibling (e) { return e.nextSibling } function tagName (e) { return e.tagName } function setTextContent (e, t) { e.textContent = t } function setAttribute (e, t, n) { e.setAttribute(t, n) } let nodeOps = Object.freeze({createElement: createElement$1, createElementNS: createElementNS, createTextNode: createTextNode, createComment: createComment, insertBefore: insertBefore, removeChild: removeChild, appendChild: appendChild, parentNode: parentNode, nextSibling: nextSibling, tagName: tagName, setTextContent: setTextContent, setAttribute: setAttribute}), ref = {create: function (e, t) { registerRef(t) }, update: function (e, t) { e.data.ref !== t.data.ref && (registerRef(e, !0), registerRef(t)) }, destroy: function (e) { registerRef(e, !0) }}; function registerRef (e, t) { let n = e.data.ref; if (n) { let r = e.context, i = e.componentInstance || e.elm, o = r.$refs; t ? Array.isArray(o[n]) ? remove(o[n], i) : o[n] === i && (o[n] = void 0) : e.data.refInFor ? Array.isArray(o[n]) ? o[n].indexOf(i) < 0 && o[n].push(i) : o[n] = [i] : o[n] = i } } let emptyNode = new VNode('', {}, []), hooks = ['create', 'activate', 'update', 'remove', 'destroy']; function sameVnode (e, t) { return e.key === t.key && (e.tag === t.tag && e.isComment === t.isComment && isDef(e.data) === isDef(t.data) && sameInputType(e, t) || isTrue(e.isAsyncPlaceholder) && e.asyncFactory === t.asyncFactory && isUndef(t.asyncFactory.error)) } function sameInputType (e, t) { if (e.tag !== 'input') return !0; let n = void 0, r = isDef(n = e.data) && isDef(n = n.attrs) && n.type, i = isDef(n = t.data) && isDef(n = n.attrs) && n.type; return r === i || isTextInputType(r) && isTextInputType(i) } function createKeyToOldIdx (e, t, n) { let r = void 0, i = void 0, o = {}; for (r = t; r <= n; ++r)isDef(i = e[r].key) && (o[i] = r); return o } function createPatchFunction (e) { let u = void 0, t = void 0, y = {}, n = e.modules, b = e.nodeOps; for (u = 0; u < hooks.length; ++u) for (y[hooks[u]] = [], t = 0; t < n.length; ++t)isDef(n[t][hooks[u]]) && y[hooks[u]].push(n[t][hooks[u]]); function o (e) { let t = b.parentNode(e); isDef(t) && b.removeChild(t, e) } function w (e, t, n, r, i) { if (e instanceof Node)b.insertBefore(n, e, r); else if (e.isRootInsert = !i, !(function (e, t, n, r) { let i = e.data; if (isDef(i)) { let o = isDef(e.componentInstance) && i.keepAlive; if (isDef(i = i.hook) && isDef(i = i.init) && i(e, !1, n, r), isDef(e.componentInstance)) return d(e, t), isTrue(o) && (function (e, t, n, r) { let i = void 0, o = e; for (;o.componentInstance;) if (o = o.componentInstance._vnode, isDef(i = o.data) && isDef(i = i.transition)) { for (i = 0; i < y.activate.length; ++i)y.activate[i](emptyNode, o); t.push(o); break }c(n, e.elm, r) }(e, t, n, r)), !0 } }(e, t, n, r))) { let o = e.data, a = e.children, s = e.tag; isDef(s) ? (e.elm = e.ns ? b.createElementNS(e.ns, s) : b.createElement(s, e), l(e), f(e, a, t), e.childrenElm && e.elm.appendChild(e.childrenElm), isDef(o) && p(e, t)) : isTrue(e.isComment) ? e.elm = b.createComment(e.text) : e.elm = b.createTextNode(e.text), c(n, e.elm, r) } } function d (e, t) { isDef(e.data.pendingInsert) && (t.push.apply(t, e.data.pendingInsert), e.data.pendingInsert = null), e.elm = e.componentInstance.$el, E(e) ? (p(e, t), l(e)) : (registerRef(e), t.push(e)) } function c (e, t, n) { isDef(e) && (isDef(n) ? n.parentNode === e && b.insertBefore(e, t, n) : b.appendChild(e, t)) } function f (e, t, n) { if (Array.isArray(t)) for (let r = 0; r < t.length; ++r)w(t[r], n, e.elm, null, !0); else isPrimitive(e.text) && b.appendChild(e.elm, b.createTextNode(e.text)) } function E (e) { for (;e.componentInstance;)e = e.componentInstance._vnode; return isDef(e.tag) } function p (e, t) { for (let n = 0; n < y.create.length; ++n)y.create[n](emptyNode, e); isDef(u = e.data.hook) && (isDef(u.create) && u.create(emptyNode, e), isDef(u.insert) && t.push(e)) } function l (e) { let t = void 0; if (isDef(t = e.functionalScopeId))b.setAttribute(e.elm, t, ''); else for (let n = e; n;)isDef(t = n.context) && isDef(t = t.$options._scopeId) && b.setAttribute(e.elm, t, ''), n = n.parent; isDef(t = activeInstance) && t !== e.context && t !== e.functionalContext && isDef(t = t.$options._scopeId) && b.setAttribute(e.elm, t, '') } function g (e, t, n, r, i, o) { for (;r <= i; ++r)w(n[r], o, e, t) } function _ (e) { let t = void 0, n = void 0, r = e.data; if (isDef(r)) for (isDef(t = r.hook) && isDef(t = t.destroy) && t(e), t = 0; t < y.destroy.length; ++t)y.destroy[t](e); if (isDef(t = e.children)) for (n = 0; n < e.children.length; ++n)_(e.children[n]) } function C (e, t, n, r) { for (;n <= r; ++n) { let i = t[n]; isDef(i) && (isDef(i.tag) ? (a(i), _(i)) : o(i.elm)) } } function a (e, t) { if (isDef(t) || isDef(e.data)) { let n = void 0, r = y.remove.length + 1; for (isDef(t) ? t.listeners += r : t = (function (e, t) { function n () { --n.listeners == 0 && o(e) } return n.listeners = t, n }(e.elm, r)), isDef(n = e.componentInstance) && isDef(n = n._vnode) && isDef(n.data) && a(n, t), n = 0; n < y.remove.length; ++n)y.remove[n](e, t); isDef(n = e.data.hook) && isDef(n = n.remove) ? n(e, t) : t() } else o(e.elm) } function S (e, t, n, r) { for (let i = n; i < r; i++) { let o = t[i]; if (isDef(o) && sameVnode(e, o)) return i } } function T (e, t, n, r) { if (e !== t) { let i = t.elm = e.elm; if (isTrue(e.isAsyncPlaceholder))isDef(t.asyncFactory.resolved) ? k(e.elm, t, n) : t.isAsyncPlaceholder = !0; else if (isTrue(t.isStatic) && isTrue(e.isStatic) && t.key === e.key && (isTrue(t.isCloned) || isTrue(t.isOnce)))t.componentInstance = e.componentInstance; else { let o = void 0, a = t.data; isDef(a) && isDef(o = a.hook) && isDef(o = o.prepatch) && o(e, t); let s = e.children, c = t.children; if (isDef(a) && E(t)) { for (o = 0; o < y.update.length; ++o)y.update[o](e, t); isDef(o = a.hook) && isDef(o = o.update) && o(e, t) }isUndef(t.text) ? isDef(s) && isDef(c) ? s !== c && (function (e, t, n, r, i) { for (var o = 0, a = 0, s = t.length - 1, c = t[0], l = t[s], u = n.length - 1, d = n[0], f = n[u], p = void 0, h = void 0, v = void 0, m = !i; o <= s && a <= u;)isUndef(c) ? c = t[++o] : isUndef(l) ? l = t[--s] : d instanceof Node && c instanceof VNode ? (n[a++] = c, c = t[o++]) : l instanceof Node && f instanceof VNode ? (n[u--] = l, l = t[s--]) : sameVnode(c, d) ? (T(c, d, r), c = t[++o], d = n[++a]) : sameVnode(l, f) ? (T(l, f, r), l = t[--s], f = n[--u]) : sameVnode(c, f) ? (T(c, f, r), m && b.insertBefore(e, c.elm, b.nextSibling(l.elm)), c = t[++o], f = n[--u]) : (sameVnode(l, d) ? (T(l, d, r), m && b.insertBefore(e, l.elm, c.elm), l = t[--s]) : (isUndef(p) && (p = createKeyToOldIdx(t, o, s)), isUndef(h = isDef(d.key) ? p[d.key] : S(d, t, o, s)) ? w(d, r, e, c.elm) : sameVnode(v = t[h], d) ? (T(v, d, r), t[h] = void 0, m && b.insertBefore(e, v.elm, c.elm)) : w(d, r, e, c.elm)), d = n[++a]); s < o ? g(e, isUndef(n[u + 1]) ? null : n[u + 1].elm, n, a, u, r) : u < a && C(0, t, o, s) }(i, s, c, n, r)) : isDef(c) ? (isDef(e.text) && b.setTextContent(i, ''), g(i, null, c, 0, c.length - 1, n)) : isDef(s) ? C(0, s, 0, s.length - 1) : isDef(e.text) && b.setTextContent(i, '') : e.text !== t.text && b.setTextContent(i, t.text), isDef(a) && isDef(o = a.hook) && isDef(o = o.postpatch) && o(e, t) } } } function A (e, t, n) { if (isTrue(n) && isDef(e.parent))e.parent.data.pendingInsert = t; else for (let r = 0; r < t.length; ++r)t[r].data.hook.insert(t[r]) } let h = makeMap('attrs,style,class,staticClass,staticStyle,key'); function k (e, t, n) { if (isTrue(t.isComment) && isDef(t.asyncFactory)) return t.elm = e, t.isAsyncPlaceholder = !0; t.elm = e; let r = t.tag, i = t.data, o = t.children; if (isDef(i) && (isDef(u = i.hook) && isDef(u = u.init) && u(t, !0), isDef(u = t.componentInstance))) return d(t, n), !0; if (isDef(r)) { if (isDef(o)) if (e.hasChildNodes()) if (isDef(u = i) && isDef(u = u.domProps) && isDef(u = u.innerHTML)) { if (u !== e.innerHTML) return !1 } else { for (var a = !0, s = e.firstChild, c = 0; c < o.length; c++) { if (!s || !k(s, o[c], n)) { a = !1; break }s = s.nextSibling } if (!a || s) return !1 } else f(t, o, n); if (isDef(i)) for (let l in i) if (!h(l)) { p(t, n); break } } else e.data !== t.text && (e.data = t.text); return !0 } return function (e, t, n, r, i, o) { if (!isUndef(t)) { let a, s = !1, c = []; if (isUndef(e))s = !0, w(t, c, i, o); else { let l = isDef(e.nodeType); if (!l && sameVnode(e, t))T(e, t, c, r); else { if (l) { if (e.nodeType === 1 && e.hasAttribute(SSR_ATTR) && (e.removeAttribute(SSR_ATTR), n = !0), isTrue(n) && k(e, t, c)) return A(t, c, !0), e; a = e, e = new VNode(b.tagName(a).toLowerCase(), {}, [], void 0, a) } let u = e.elm, d = b.parentNode(u); if (w(t, c, u._leaveCb ? null : d, b.nextSibling(u)), isDef(t.parent)) for (let f = t.parent, p = E(t); f;) { for (let h = 0; h < y.destroy.length; ++h)y.destroy[h](f); if (f.elm = t.elm, p) { for (let v = 0; v < y.create.length; ++v)y.create[v](emptyNode, f); let m = f.data.hook.insert; if (m.merged) for (let g = 1; g < m.fns.length; g++)m.fns[g]() } else registerRef(f); f = f.parent }isDef(d) ? C(0, [e], 0, 0) : isDef(e.tag) && _(e) } } return A(t, c, s), t.elm }isDef(e) && _(e) } } let directives = {create: updateDirectives, update: updateDirectives, destroy: function (e) { updateDirectives(e, emptyNode) }}; function updateDirectives (e, t) { (e.data.directives || t.data.directives) && $update(e, t) } function $update (t, n) { let e = t === emptyNode, r = n === emptyNode, i = normalizeDirectives$1(t.data.directives, t.context), o = normalizeDirectives$1(n.data.directives, n.context), a = [], s = [], c = void 0, l = void 0, u = void 0; for (c in o)l = i[c], u = o[c], l ? (u.oldValue = l.value, callHook$1(u, 'update', n, t), u.def && u.def.componentUpdated && s.push(u)) : (callHook$1(u, 'bind', n, t), u.def && u.def.inserted && a.push(u)); if (a.length) { let d = function () { for (let e = 0; e < a.length; e++)callHook$1(a[e], 'inserted', n, t) }; e ? mergeVNodeHook(n.data.hook || (n.data.hook = {}), 'insert', d) : d() } if (s.length && mergeVNodeHook(n.data.hook || (n.data.hook = {}), 'postpatch', function () { for (let e = 0; e < s.length; e++)callHook$1(s[e], 'componentUpdated', n, t) }), !e) for (c in i)o[c] || callHook$1(i[c], 'unbind', t, t, r) } let emptyModifiers = Object.create(null); function normalizeDirectives$1 (e, t) { let n = Object.create(null); if (!e) return n; let r = void 0, i = void 0; for (r = 0; r < e.length; r++)(i = e[r]).modifiers || (i.modifiers = emptyModifiers), (n[getRawDirName(i)] = i).def = resolveAsset(t.$options, 'directives', i.name, !0); return n } function getRawDirName (e) { return e.rawName || e.name + '.' + Object.keys(e.modifiers || {}).join('.') } function callHook$1 (t, n, r, e, i) { let o = t.def && t.def[n]; if (o) try { o(r.elm, t, r, e, i) } catch (e) { handleError(e, r.context, 'directive ' + t.name + ' ' + n + ' hook') } } let baseModules = [ref, directives]; function updateAttrs (e, t) { let n = t.componentOptions; if (!(isDef(n) && !1 === n.Ctor.options.inheritAttrs || isUndef(e.data.attrs) && isUndef(t.data.attrs))) { let r = void 0, i = void 0, o = t.elm, a = e.data.attrs || {}, s = t.data.attrs || {}; for (r in isDef(s.__ob__) && (s = t.data.attrs = extend$1({}, s)), s)i = s[r], a[r] !== i && setAttr(o, r, i); for (r in (isIE9 || isEdge) && s.value !== a.value && setAttr(o, 'value', s.value), a)isUndef(s[r]) && (isXlink(r) ? o.removeAttributeNS(xlinkNS, getXlinkProp(r)) : isEnumeratedAttr(r) || o.removeAttribute(r)) } } function setAttr (e, t, n) { isBooleanAttr(t) ? isFalsyAttrValue(n) ? e.removeAttribute(t) : (n = t === 'allowfullscreen' && e.tagName === 'EMBED' ? 'true' : t, e.setAttribute(t, n)) : isEnumeratedAttr(t) ? e.setAttribute(t, isFalsyAttrValue(n) || n === 'false' ? 'false' : 'true') : isXlink(t) ? isFalsyAttrValue(n) ? e.removeAttributeNS(xlinkNS, getXlinkProp(t)) : e.setAttributeNS(xlinkNS, t, n) : isFalsyAttrValue(n) ? e.removeAttribute(t) : /^mip-/i.test(e.tagName) && (void 0 === n ? 'undefined' : _typeof(n)) === 'object' ? e.setAttribute(t, JSON.stringify(n)) : e.setAttribute(t, n) } let attrs = {create: updateAttrs, update: updateAttrs}; function updateClass (e, t) { let n = t.elm, r = t.data, i = e.data; if (!(isUndef(r.staticClass) && isUndef(r.class) && (isUndef(i) || isUndef(i.staticClass) && isUndef(i.class)))) { let o = genClassForVnode(t), a = n._transitionClasses; isDef(a) && (o = concat(o, stringifyClass(a))), o !== n._prevClass && (n.setAttribute('class', o), n._prevClass = o) } } let klass = {create: updateClass, update: updateClass}, RANGE_TOKEN = '__r'; function normalizeEvents (e) { if (isDef(e[RANGE_TOKEN])) { let t = isIE ? 'change' : 'input'; e[t] = [].concat(e[RANGE_TOKEN], e[t] || []), delete e[RANGE_TOKEN] } } let target$1 = void 0; function add$1 (t, n, e, r, i) { if (e) { let o = n, a = target$1; n = function (e) { (arguments.length === 1 ? o(e) : o.apply(null, arguments)) !== null && remove$2(t, n, r, a) } }target$1.addEventListener(t, n, supportsPassive$1 ? {capture: r, passive: i} : r) } function remove$2 (e, t, n, r) { (r || target$1).removeEventListener(e, t, n) } function updateDOMListeners (e, t) { if (!isUndef(e.data.on) || !isUndef(t.data.on)) { let n = t.data.on || {}, r = e.data.on || {}; target$1 = t.elm, normalizeEvents(n), updateListeners(n, r, add$1, remove$2, t.context) } } let events = {create: updateDOMListeners, update: updateDOMListeners}; function updateDOMProps (e, t) { if (!isUndef(e.data.domProps) || !isUndef(t.data.domProps)) { let n = void 0, r = void 0, i = t.elm, o = e.data.domProps || {}, a = t.data.domProps || {}; for (n in isDef(a.__ob__) && (a = t.data.domProps = extend$1({}, a)), o)isUndef(a[n]) && (i[n] = ''); for (n in a) { if (r = a[n], n === 'textContent' || n === 'innerHTML') { if (t.children && (t.children.length = 0), r === o[n]) continue; i.childNodes.length === 1 && i.removeChild(i.childNodes[0]) } if (n === 'value') { let s = isUndef(i._value = r) ? '' : String(r); shouldUpdateValue(i, s) && (i.value = s) } else i[n] = r } } } function shouldUpdateValue (e, t) { return !e.composing && (e.tagName === 'OPTION' || isDirty(e, t) || isInputChanged(e, t)) } function isDirty (e, t) { let n = !0; try { n = document.activeElement !== e } catch (e) {} return n && e.value !== t } function isInputChanged (e, t) { let n = e.value, r = e._vModifiers; return isDef(r) && r.number ? toNumber(n) !== toNumber(t) : isDef(r) && r.trim ? n.trim() !== t.trim() : n !== t } let domProps = {create: updateDOMProps, update: updateDOMProps}, parseStyleText = cached(function (e) { let n = {}, r = /:(.+)/; return e.split(/;(?![^(]*\))/g).forEach(function (e) { if (e) { let t = e.split(r); t.length > 1 && (n[t[0].trim()] = t[1].trim()) } }), n }); function normalizeStyleData (e) { let t = normalizeStyleBinding(e.style); return e.staticStyle ? extend$1(e.staticStyle, t) : t } function normalizeStyleBinding (e) { return Array.isArray(e) ? toObject(e) : typeof e === 'string' ? parseStyleText(e) : e } function getStyle (e, t) { let n = {}, r = void 0; if (t) for (let i = e; i.componentInstance;)(i = i.componentInstance._vnode).data && (r = normalizeStyleData(i.data)) && extend$1(n, r); (r = normalizeStyleData(e.data)) && extend$1(n, r); for (let o = e; o = o.parent;)o.data && (r = normalizeStyleData(o.data)) && extend$1(n, r); return n } var cssVarRE = /^--/, importantRE = /\s*!important$/, setProp = function (e, t, n) { if (cssVarRE.test(t))e.style.setProperty(t, n); else if (importantRE.test(n))e.style.setProperty(t, n.replace(importantRE, ''), 'important'); else { let r = normalize(t); if (Array.isArray(n)) for (let i = 0, o = n.length; i < o; i++)e.style[r] = n[i]; else e.style[r] = n } }, vendorNames = ['Webkit', 'Moz', 'ms'], emptyStyle = void 0, normalize = cached(function (e) { if (emptyStyle = emptyStyle || document.createElement('div').style, (e = camelize$1(e)) !== 'filter' && e in emptyStyle) return e; for (let t = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < vendorNames.length; n++) { let r = vendorNames[n] + t; if (r in emptyStyle) return r } }); function updateStyle (e, t) { let n = t.data, r = e.data; if (!(isUndef(n.staticStyle) && isUndef(n.style) && isUndef(r.staticStyle) && isUndef(r.style))) { let i = void 0, o = void 0, a = t.elm, s = r.staticStyle, c = r.normalizedStyle || r.style || {}, l = s || c, u = normalizeStyleBinding(t.data.style) || {}; t.data.normalizedStyle = isDef(u.__ob__) ? extend$1({}, u) : u; let d = getStyle(t, !0); for (o in l)isUndef(d[o]) && setProp(a, o, ''); for (o in d)(i = d[o]) !== l[o] && setProp(a, o, i == null ? '' : i) } } let style = {create: updateStyle, update: updateStyle}; function addClass (t, e) { if (e && (e = e.trim())) if (t.classList)e.indexOf(' ') > -1 ? e.split(/\s+/).forEach(function (e) { return t.classList.add(e) }) : t.classList.add(e); else { let n = ' ' + (t.getAttribute('class') || '') + ' '; n.indexOf(' ' + e + ' ') < 0 && t.setAttribute('class', (n + e).trim()) } } function removeClass (t, e) { if (e && (e = e.trim())) if (t.classList)e.indexOf(' ') > -1 ? e.split(/\s+/).forEach(function (e) { return t.classList.remove(e) }) : t.classList.remove(e), t.classList.length || t.removeAttribute('class'); else { for (var n = ' ' + (t.getAttribute('class') || '') + ' ', r = ' ' + e + ' '; n.indexOf(r) >= 0;)n = n.replace(r, ' '); (n = n.trim()) ? t.setAttribute('class', n) : t.removeAttribute('class') } } function resolveTransition (e) { if (e) { if ((void 0 === e ? 'undefined' : _typeof(e)) === 'object') { let t = {}; return !1 !== e.css && extend$1(t, autoCssTransition(e.name || 'v')), extend$1(t, e), t } return typeof e === 'string' ? autoCssTransition(e) : void 0 } } var autoCssTransition = cached(function (e) { return {enterClass: e + '-enter', enterToClass: e + '-enter-to', enterActiveClass: e + '-enter-active', leaveClass: e + '-leave', leaveToClass: e + '-leave-to', leaveActiveClass: e + '-leave-active'} }), hasTransition = inBrowser && !isIE9, TRANSITION = 'transition', ANIMATION = 'animation', transitionProp = 'transition', transitionEndEvent$1 = 'transitionend', animationProp = 'animation', animationEndEvent$1 = 'animationend'; hasTransition && (void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (transitionProp = 'WebkitTransition', transitionEndEvent$1 = 'webkitTransitionEnd'), void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (animationProp = 'WebkitAnimation', animationEndEvent$1 = 'webkitAnimationEnd')); let raf$1 = inBrowser ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function (e) { return e() }; function nextFrame$1 (e) { raf$1(function () { raf$1(e) }) } function addTransitionClass (e, t) { let n = e._transitionClasses || (e._transitionClasses = []); n.indexOf(t) < 0 && (n.push(t), addClass(e, t)) } function removeTransitionClass (e, t) { e._transitionClasses && remove(e._transitionClasses, t), removeClass(e, t) } function whenTransitionEnds$1 (t, e, n) { let r = getTransitionInfo(t, e), i = r.type, o = r.timeout, a = r.propCount; if (!i) return n(); var s = i === TRANSITION ? transitionEndEvent$1 : animationEndEvent$1, c = 0, l = function (e) { e.target === t && ++c >= a && u() }, u = function () { t.removeEventListener(s, l), n() }; setTimeout(function () { c < a && u() }, o + 1), t.addEventListener(s, l) } let transformRE = /\b(transform|all)(,|$)/; function getTransitionInfo (e, t) { let n = window.getComputedStyle(e), r = n[transitionProp + 'Delay'].split(', '), i = n[transitionProp + 'Duration'].split(', '), o = getTimeout(r, i), a = n[animationProp + 'Delay'].split(', '), s = n[animationProp + 'Duration'].split(', '), c = getTimeout(a, s), l = void 0, u = 0, d = 0; return t === TRANSITION ? o > 0 && (l = TRANSITION, u = o, d = i.length) : t === ANIMATION ? c > 0 && (l = ANIMATION, u = c, d = s.length) : d = (l = (u = Math.max(o, c)) > 0 ? c < o ? TRANSITION : ANIMATION : null) ? l === TRANSITION ? i.length : s.length : 0, {type: l, timeout: u, propCount: d, hasTransform: l === TRANSITION && transformRE.test(n[transitionProp + 'Property'])} } function getTimeout (n, e) { for (;n.length < e.length;) { var t; n = (t = n).concat.apply(t, toConsumableArray(n)) } return Math.max.apply(null, e.map(function (e, t) { return toMs(e) + toMs(n[t]) })) } function toMs (e) { return 1e3 * Number(e.slice(0, -1)) } function enter (n, e) { let r = n.elm; isDef(r._leaveCb) && (r._leaveCb.cancelled = !0, r._leaveCb()); let t = resolveTransition(n.data.transition); if (!isUndef(t) && !isDef(r._enterCb) && r.nodeType === 1) { for (var i = t.css, o = t.type, a = t.enterClass, s = t.enterToClass, c = t.enterActiveClass, l = t.appearClass, u = t.appearToClass, d = t.appearActiveClass, f = t.beforeEnter, p = t.enter, h = t.afterEnter, v = t.enterCancelled, m = t.beforeAppear, g = t.appear, y = t.afterAppear, b = t.appearCancelled, w = t.duration, E = activeInstance, _ = activeInstance.$vnode; _ && _.parent;)E = (_ = _.parent).context; let C = !E._isMounted || !n.isRootInsert; if (!C || g || g === '') { var S = C && l ? l : a, T = C && d ? d : c, A = C && u ? u : s, k = C && m || f, x = C && typeof g === 'function' ? g : p, O = C && y || h, P = C && b || v, I = toNumber(isObject(w) ? w.enter : w), M = !1 !== i && !isIE9, L = getHookArgumentsLength(x), N = r._enterCb = once(function () { M && (removeTransitionClass(r, A), removeTransitionClass(r, T)), N.cancelled ? (M && removeTransitionClass(r, S), P && P(r)) : O && O(r), r._enterCb = null }); n.data.show || mergeVNodeHook(n.data.hook || (n.data.hook = {}), 'insert', function () { let e = r.parentNode, t = e && e._pending && e._pending[n.key]; t && t.tag === n.tag && t.elm._leaveCb && t.elm._leaveCb(), x && x(r, N) }), k && k(r), M && (addTransitionClass(r, S), addTransitionClass(r, T), nextFrame$1(function () { addTransitionClass(r, A), removeTransitionClass(r, S), N.cancelled || L || (isValidDuration(I) ? setTimeout(N, I) : whenTransitionEnds$1(r, o, N)) })), n.data.show && (e && e(), x && x(r, N)), M || L || N() } } } function leave (e, t) { let n = e.elm; isDef(n._enterCb) && (n._enterCb.cancelled = !0, n._enterCb()); let r = resolveTransition(e.data.transition); if (isUndef(r)) return t(); if (!isDef(n._leaveCb) && n.nodeType === 1) { var i = r.css, o = r.type, a = r.leaveClass, s = r.leaveToClass, c = r.leaveActiveClass, l = r.beforeLeave, u = r.leave, d = r.afterLeave, f = r.leaveCancelled, p = r.delayLeave, h = r.duration, v = !1 !== i && !isIE9, m = getHookArgumentsLength(u), g = toNumber(isObject(h) ? h.leave : h), y = n._leaveCb = once(function () { n.parentNode && n.parentNode._pending && (n.parentNode._pending[e.key] = null), v && (removeTransitionClass(n, s), removeTransitionClass(n, c)), y.cancelled ? (v && removeTransitionClass(n, a), f && f(n)) : (t(), d && d(n)), n._leaveCb = null }); p ? p(b) : b() } function b () { y.cancelled || (e.data.show || ((n.parentNode._pending || (n.parentNode._pending = {}))[e.key] = e), l && l(n), v && (addTransitionClass(n, a), addTransitionClass(n, c), nextFrame$1(function () { addTransitionClass(n, s), removeTransitionClass(n, a), y.cancelled || m || (isValidDuration(g) ? setTimeout(y, g) : whenTransitionEnds$1(n, o, y)) })), u && u(n, y), v || m || y()) } } function isValidDuration (e) { return typeof e === 'number' && !isNaN(e) } function getHookArgumentsLength (e) { if (isUndef(e)) return !1; let t = e.fns; return isDef(t) ? getHookArgumentsLength(Array.isArray(t) ? t[0] : t) : (e._length || e.length) > 1 } function _enter (e, t) { !0 !== t.data.show && enter(t) } let transition$1 = inBrowser ? {create: _enter, activate: _enter, remove: function (e, t) { !0 !== e.data.show ? leave(e, t) : t() }} : {}, platformModules = [attrs, klass, events, domProps, style, transition$1], modules = platformModules.concat(baseModules), patch = createPatchFunction({nodeOps: nodeOps, modules: modules}); isIE9 && document.addEventListener('selectionchange', function () { let e = document.activeElement; e && e.vmodel && trigger(e, 'input') }); let model$1 = {inserted: function (e, t, n) { n.tag === 'select' ? (setSelected(e, t, n.context), e._vOptions = [].map.call(e.options, getValue)) : (n.tag === 'textarea' || isTextInputType(e.type)) && (e._vModifiers = t.modifiers, t.modifiers.lazy || (e.addEventListener('change', onCompositionEnd), isAndroid || (e.addEventListener('compositionstart', onCompositionStart), e.addEventListener('compositionend', onCompositionEnd)), isIE9 && (e.vmodel = !0))) }, componentUpdated: function (e, t, n) { if (n.tag === 'select') { setSelected(e, t, n.context); let r = e._vOptions, i = e._vOptions = [].map.call(e.options, getValue); if (i.some(function (e, t) { return !looseEqual(e, r[t]) }))(e.multiple ? t.value.some(function (e) { return hasNoMatchingOption(e, i) }) : t.value !== t.oldValue && hasNoMatchingOption(t.value, i)) && trigger(e, 'change') } }}; function setSelected (e, t, n) { actuallySetSelected(e, t, n), (isIE || isEdge) && setTimeout(function () { actuallySetSelected(e, t, n) }, 0) } function actuallySetSelected (e, t, n) { let r = t.value, i = e.multiple; if (!i || Array.isArray(r)) { for (let o = void 0, a = void 0, s = 0, c = e.options.length; s < c; s++) if (a = e.options[s], i)o = looseIndexOf(r, getValue(a)) > -1, a.selected !== o && (a.selected = o); else if (looseEqual(getValue(a), r)) return void (e.selectedIndex !== s && (e.selectedIndex = s)); i || (e.selectedIndex = -1) } } function hasNoMatchingOption (t, e) { return e.every(function (e) { return !looseEqual(e, t) }) } function getValue (e) { return '_value' in e ? e._value : e.value } function onCompositionStart (e) { e.target.composing = !0 } function onCompositionEnd (e) { e.target.composing && (e.target.composing = !1, trigger(e.target, 'input')) } function trigger (e, t) { let n = document.createEvent('HTMLEvents'); n.initEvent(t, !0, !0), e.dispatchEvent(n) } function locateNode (e) { return !e.componentInstance || e.data && e.data.transition ? e : locateNode(e.componentInstance._vnode) } let show = {bind: function (e, t, n) { let r = t.value, i = (n = locateNode(n)).data && n.data.transition, o = e.__vOriginalDisplay = e.style.display === 'none' ? '' : e.style.display; r && i ? (n.data.show = !0, enter(n, function () { e.style.display = o })) : e.style.display = r ? o : 'none' }, update: function (e, t, n) { let r = t.value; r !== t.oldValue && ((n = locateNode(n)).data && n.data.transition ? (n.data.show = !0, r ? enter(n, function () { e.style.display = e.__vOriginalDisplay }) : leave(n, function () { e.style.display = 'none' })) : e.style.display = r ? e.__vOriginalDisplay : 'none') }, unbind: function (e, t, n, r, i) { i || (e.style.display = e.__vOriginalDisplay) }}, platformDirectives = {model: model$1, show: show}, transitionProps = {name: String, appear: Boolean, css: Boolean, mode: String, type: String, enterClass: String, leaveClass: String, enterToClass: String, leaveToClass: String, enterActiveClass: String, leaveActiveClass: String, appearClass: String, appearActiveClass: String, appearToClass: String, duration: [Number, String, Object]}; function getRealChild (e) { let t = e && e.componentOptions; return t && t.Ctor.options.abstract ? getRealChild(getFirstComponentChild(t.children)) : e } function extractTransitionData (e) { let t = {}, n = e.$options; for (let r in n.propsData)t[r] = e[r]; let i = n._parentListeners; for (let o in i)t[camelize$1(o)] = i[o]; return t } function placeholder (e, t) { if (/\d-keep-alive$/.test(t.tag)) return e('keep-alive', {props: t.componentOptions.propsData}) } function hasParentTransition (e) { for (;e = e.parent;) if (e.data.transition) return !0 } function isSameChild (e, t) { return t.key === e.key && t.tag === e.tag } let Transition = {name: 'transition', props: transitionProps, abstract: !0, render: function (e) { let t = this, n = this.$options._renderChildren; if (n && (n = n.filter(function (e) { return e.tag || isAsyncPlaceholder(e) })).length) { let r = this.mode, i = n[0]; if (hasParentTransition(this.$vnode)) return i; let o = getRealChild(i); if (!o) return i; if (this._leaving) return placeholder(e, i); let a = '__transition-' + this._uid + '-'; o.key = o.key == null ? o.isComment ? a + 'comment' : a + o.tag : isPrimitive(o.key) ? String(o.key).indexOf(a) === 0 ? o.key : a + o.key : o.key; let s = (o.data || (o.data = {})).transition = extractTransitionData(this), c = this._vnode, l = getRealChild(c); if (o.data.directives && o.data.directives.some(function (e) { return e.name === 'show' }) && (o.data.show = !0), l && l.data && !isSameChild(o, l) && !isAsyncPlaceholder(l) && (!l.componentInstance || !l.componentInstance._vnode.isComment)) { let u = l.data.transition = extend$1({}, s); if (r === 'out-in') return this._leaving = !0, mergeVNodeHook(u, 'afterLeave', function () { t._leaving = !1, t.$forceUpdate() }), placeholder(e, i); if (r === 'in-out') { if (isAsyncPlaceholder(o)) return c; let d = void 0, f = function () { return d() }; mergeVNodeHook(s, 'afterEnter', f), mergeVNodeHook(s, 'enterCancelled', f), mergeVNodeHook(u, 'delayLeave', function (e) { d = e }) } } return i } }}, props = extend$1({tag: String, moveClass: String}, transitionProps); delete props.mode; let TransitionGroup = {props: props, render: function (e) { for (var t = this.tag || this.$vnode.data.tag || 'span', n = Object.create(null), r = this.prevChildren = this.children, i = this.$slots.default || [], o = this.children = [], a = extractTransitionData(this), s = 0; s < i.length; s++) { let c = i[s]; c.tag && c.key != null && String(c.key).indexOf('__vlist') !== 0 && (o.push(c), ((n[c.key] = c).data || (c.data = {})).transition = a) } if (r) { for (var l = [], u = [], d = 0; d < r.length; d++) { let f = r[d]; f.data.transition = a, f.data.pos = f.elm.getBoundingClientRect(), n[f.key] ? l.push(f) : u.push(f) } this.kept = e(t, null, l), this.removed = u } return e(t, null, o) }, beforeUpdate: function () { this.__patch__(this._vnode, this.kept, !1, !0), this._vnode = this.kept }, updated: function () { let e = this.prevChildren, r = this.moveClass || (this.name || 'v') + '-move'; if (e.length && this.hasMove(e[0].elm, r)) { e.forEach(callPendingCbs), e.forEach(recordPosition), e.forEach(applyTranslation); document.body.offsetHeight; e.forEach(function (e) { if (e.data.moved) { let n = e.elm, t = n.style; addTransitionClass(n, r), t.transform = t.WebkitTransform = t.transitionDuration = '', n.addEventListener(transitionEndEvent$1, n._moveCb = function e (t) { t && !/transform$/.test(t.propertyName) || (n.removeEventListener(transitionEndEvent$1, e), n._moveCb = null, removeTransitionClass(n, r)) }) } }) } }, methods: {hasMove: function (e, t) { if (!hasTransition) return !1; if (this._hasMove) return this._hasMove; let n = e.cloneNode(); e._transitionClasses && e._transitionClasses.forEach(function (e) { removeClass(n, e) }), addClass(n, t), n.style.display = 'none', this.$el.appendChild(n); let r = getTransitionInfo(n); return this.$el.removeChild(n), this._hasMove = r.hasTransform }}}; function callPendingCbs (e) { e.elm._moveCb && e.elm._moveCb(), e.elm._enterCb && e.elm._enterCb() } function recordPosition (e) { e.data.newPos = e.elm.getBoundingClientRect() } function applyTranslation (e) { let t = e.data.pos, n = e.data.newPos, r = t.left - n.left, i = t.top - n.top; if (r || i) { e.data.moved = !0; let o = e.elm.style; o.transform = o.WebkitTransform = 'translate(' + r + 'px,' + i + 'px)', o.transitionDuration = '0s' } } let platformComponents = {Transition: Transition, TransitionGroup: TransitionGroup}; function registerVueCustomElement (e, t) { Vue.customElement(e, t) }Vue.config.mustUseProp = mustUseProp, Vue.config.isReservedTag = isReservedTag, Vue.config.isReservedAttr = isReservedAttr, Vue.config.getTagNamespace = getTagNamespace, Vue.config.isUnknownElement = isUnknownElement, extend$1(Vue.options.directives, platformDirectives), extend$1(Vue.options.components, platformComponents), Vue.prototype.__patch__ = inBrowser ? patch : noop, Vue.prototype.$mount = function (e, t) { return mountComponent(this, e = e && inBrowser ? query(e) : void 0, t) }, Vue.nextTick(function () {}, 0), Vue.use(function (o) { o.config.ignoredElements = [/^mip-/i], o.customElement = function (e, n) { let r = getProps(n); function i (e, t) { if (typeof n[t] === 'function') return n[t].apply(e, [].slice.call(arguments, 2)) }registerElement(e, (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'prerenderAllowed', value: function () { return typeof n.prerenderAllowed === 'function' && n.prerenderAllowed() }}, {key: '_build', value: function () { let e = this.vueInstance = createVueInstance(this.element, o, n, r); this.props = r, this.vm = e.$children[0] }}, {key: 'build', value: function () { this.prerenderAllowed() && this._build() }}, {key: 'connectedCallback', value: function () { i(this, 'connectedCallback', this.element) }}, {key: 'disconnectedCallback', value: function () { i(this, 'disconnectedCallback', this.element) }}, {key: 'firstInviewCallback', value: function () { this.prerenderAllowed() || this._build(), i(this.vm, 'firstInviewCallback', this.element) }}, {key: 'attributeChangedCallback', value: function (e, t, n) { if (this.vueInstance) { let r = camelize(e), i = this.props.types[r]; this.vueInstance[r] = convertAttributeValue(n, i) } }}], [{key: 'observedAttributes', get: function () { return r.hyphenate || [] }}]), t }())) } }); let keys = function (e, t) { return t ? e.filter(function (e) { return typeof e === 'string' }) : e.map(function (e) { return typeof e === 'string' ? e : e.name }) }, ORIGINAL = ['Array', 'ArrayBuffer', 'Blob', 'Boolean', 'DOMError', 'DOMException', 'Date', 'Error', 'Float32Array', 'Float64Array', 'FormData', 'Headers', 'Infinity', 'Int16Array', 'Int32Array', 'Int8Array', 'JSON', 'Map', 'Math', 'NaN', 'Number', 'Object', 'Promise', 'Proxy', 'ReadableStream', 'ReferenceError', 'Reflect', 'RegExp', 'Request', 'Response', 'Set', 'String', 'Symbol', 'SyntaxError', 'TypeError', 'URIError', 'URL', 'URLSearchParams', 'Uint16Array', 'Uint32Array', 'Uint8Array', 'Uint8ClampedArray', 'WebSocket', 'WritableStream', 'crypto', 'clearInterval', 'clearTimeout', 'console', 'decodeURI', 'decodeURIComponent', 'devicePixelRatio', 'encodeURI', 'encodeURIComponent', 'escape', 'fetch', 'getComputedStyle', 'innerHeight', 'innerWidth', 'isFinite', 'isNaN', 'isSecureContext', 'localStorage', 'length', 'matchMedia', 'navigator', 'outerHeight', 'outerWidth', 'parseFloat', 'parseInt', 'screen', 'screenLeft', 'screenTop', 'screenX', 'screenY', 'scrollX', 'scrollY', 'sessionStorage', 'setInterval', 'setTimeout', 'undefined', 'unescape', 'fetchJsonp', 'mipDataPromises'], RESERVED = ['arguments', 'require', 'module', 'exports', 'define', 'import', 'process'], SANDBOX_STRICT = {name: 'strict', access: 'readonly', host: 'window', mount: 'MIP.sandbox.strict', properties: ORIGINAL.concat([{name: 'document', host: 'document', properties: ['cookie', 'domain']}, {name: 'location', host: 'location', access: 'readonly', properties: ['href', 'protocol', 'host', 'hostname', 'port', 'pathname', 'search', 'hash', 'origin']}, {name: 'MIP', host: 'MIP', access: 'readonly', properties: ['watch', 'setData', 'getData', 'viewport', 'util', 'sandbox', {name: 'viewer', access: 'readonly', properties: ['isIframed', 'sendMessage', 'open']}, 'MIP_ROOT_PAGE']}, {name: 'window', getter: 'MIP.sandbox.strict'}])}, SANDBOX = {name: 'sandbox', access: 'readonly', host: 'window', mount: 'MIP.sandbox', properties: ORIGINAL.concat(['CustomEvent', 'File', 'FileList', 'FileReader', 'Image', 'ImageBitmap', 'MutationObserver', 'Notification', 'addEventListener', 'cancelAnimationFrame', 'createImageBitmap', 'history', 'location', 'removeEventListener', 'requestAnimationFrame', 'scrollBy', 'scrollTo', 'scroll', 'scrollbars', 'webkitCancelAnimationFrame', 'webkitRequestAnimationFrame', {name: 'document', host: 'document', properties: ['domain', 'head', 'body', 'title', 'cookie', 'referrer', 'readyState', 'documentElement', 'createElement', 'createDcoumentFragment', 'getElementById', 'getElementsByClassName', 'getElementsByTagName', 'querySelector', 'querySelectorAll']}, {name: 'window', getter: 'MIP.sandbox'}, {name: 'MIP', getter: 'MIP'}, SANDBOX_STRICT])}, WHITELIST = keys(SANDBOX.properties).concat(RESERVED), WHITELIST_STRICT = keys(SANDBOX_STRICT.properties).concat(RESERVED), WHITELIST_RESERVED = keys(SANDBOX.properties, !0).concat(RESERVED), WHITELIST_STRICT_RESERVED = keys(SANDBOX_STRICT.properties, !0).concat(RESERVED), whiteListProperties = [{name: 'WHITELIST', getter: function () { return WHITELIST.slice() }}, {name: 'WHITELIST_STRICT', getter: function () { return WHITELIST_STRICT.slice() }}, {name: 'WHITELIST_RESERVED', getter: function () { return WHITELIST_RESERVED.slice() }}, {name: 'WHITELIST_STRICT_RESERVED', getter: function () { return WHITELIST_STRICT_RESERVED.slice() }}]; SANDBOX.properties = SANDBOX.properties.concat(whiteListProperties), SANDBOX_STRICT.properties = SANDBOX_STRICT.properties.concat(whiteListProperties); let keywords = {ORIGINAL: ORIGINAL, RESERVED: RESERVED, SANDBOX: SANDBOX, SANDBOX_STRICT: SANDBOX_STRICT, WHITELIST: WHITELIST, WHITELIST_STRICT: WHITELIST_STRICT, WHITELIST_RESERVED: WHITELIST_RESERVED, WHITELIST_STRICT_RESERVED: WHITELIST_STRICT_RESERVED}, globals = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' ? window : {}, utils = {getGlobals: function (e) { globals = e }, traverse: traverse$1, def: def$1}; function prop (e, t) { for (let n = t.split('.'), r = 0; r < n.length; r++) { if (!e) return; e = e[n[r]] } return e } function merge (e, t, n) { for (let r = Object.keys(t), i = 0; i < r.length; i++)n && n.indexOf(r[i]) !== -1 || (e[r[i]] = t[r[i]]); return e } function getProp (e) { return prop(globals, e) } function getRuntimeProp (e) { let t = function () { return prop(globals, e) }; return t._name = 'runtimeProp', t } function formatOptions (n, r) { return ['host', 'getter'].forEach(function (e) { let t = n[e]; typeof t === 'string' && (r && (n[e] = r[t], n[e] != null) || (n[e] = getProp(t), n[e] == null && (n[e] = getRuntimeProp(t)))) }), n.host || (n.host = globals), n } function traverse$1 (e, t, n) { n = n || {}; let r = merge({}, e, ['properties']); if (formatOptions(r, n), e.properties) { let i = {}; if (e.mount && (n[e.mount] = i), e.properties.forEach(function (e) { typeof e === 'string' ? def$1(i, e, e, r) : traverse$1(e, i, n) }), !t) return i; def$1(t, e.name, function () { return i }) } else t && def$1(t, e.name, typeof r.getter === 'function' ? r.getter : function () { return r.getter }) } function noop$1 () {} function formatDescriptor (t, n) { let e = {enumerable: !0, configurable: !1}; return typeof t === 'function' ? (e.get = t, e.set = noop$1, e) : n.type === 'raw' ? t : (typeof n.host === 'function' && n.host._name === 'runtimeProp' ? (e.get = function () { return n.host()[t] }, e.set = function (e) { n.access !== 'readonly' && (n.host()[t] = e) }) : typeof n.host[t] === 'function' ? /^[A-Z]/.test(t) ? (e.value = n.host[t], e.writable = !1) : e.get = function () { return n.host[t].bind(n.host) } : (e.get = function () { return n.host[t] }, e.set = function (e) { n.access !== 'readonly' && (n.host[t] = e) }), e) } function def$1 (e, t, n, r) { formatOptions(r = r || {}); let i = formatDescriptor(n, r); Object.defineProperty(e, t, i) } let def_1 = utils; function safeThis (t) { return function () { return function (e) { return e === window ? t : e === document ? t.document : e } } } let sandboxGenerate = function () { let e = def_1.traverse(keywords.SANDBOX); return def_1.def(e, 'this', safeThis(e)), def_1.def(e.strict, 'this', safeThis(e.strict)), e }, naboo = util.naboo, errHandle = void 0, css$1 = util.css, rect$1 = util.rect, imgAttributes = ['alt', 'ismap', 'src', 'sizes', 'srcset', 'usemap', 'title'], imgRatio = {jpg: 1.33, jpeg: 1.33, png: 1, gif: 1, webp: 1, other: 1}; function getPopupImgPos (e, t) { let n = viewport.getWidth(), r = viewport.getHeight(); if (r / n < t / e) { let i = Math.round(r * e / t); return {height: r, width: i, left: (n - i) / 2, top: 0} } let o = Math.round(n * t / e); return {height: o, width: n, left: 0, top: (r - o) / 2} } function getAttributeSet (e) { let t = {}; return Array.prototype.slice.apply(e).forEach(function (e) { t[e.name] = e.value }), t } function getImgOffset (e) { return rect$1.getElementOffset(e) } function getImgsSrc () { return [].concat(toConsumableArray(document.querySelectorAll('mip-img'))).filter(function (e) { return e.hasAttribute('popup') }).map(function (e) { return e.getAttribute('src') }) } function getCurrentImg (e, t) { let n = e.style.webkitTransform, r = /translate3d\(-?([0-9]+)/i.exec(n), i = t.getAttribute('width'), o = parseInt(r[1], 10) / i; return e.querySelectorAll('.div-mip-img')[o] } function createPopup (e, t) { let n = getImgsSrc(), r = parseInt(e.getAttribute('index'), 10) || 0, i = document.createElement('div'); css$1(i, 'display', 'block'), i.className = 'mip-img-popUp-wrapper', i.setAttribute('data-name', 'mip-img-popUp-name'); let o = document.createElement('div'), a = document.createElement('div'); css$1(a, {position: 'absolute', width: viewport.getWidth(), height: viewport.getHeight(), left: 0, top: 0}); let s = document.createElement('mip-carousel'); s.setAttribute('layout', 'responsive'), s.setAttribute('index', r + 1), s.setAttribute('width', viewport.getWidth()), s.setAttribute('height', viewport.getHeight()); for (let c = 0; c < n.length; c++) { let l = document.createElement('div'); l.className = 'div-mip-img', l.setAttribute('data-src', n[c]), css$1(l, {'background-image': 'url(' + n[c] + ')', 'background-repeat': 'no-repeat', 'background-size': 'contain', 'background-position': 'center'}), s.appendChild(l) } return o.className = 'mip-img-popUp-bg', a.appendChild(s), i.appendChild(o), i.appendChild(a), document.body.appendChild(i), i } function bindPopup (n, c) { c.addEventListener('click', function (e) { if (e.stopPropagation(), c.width + c.naturalWidth !== 0) { window.MIP.viewer.page.togglePageMask(!0, {skipTransition: !0, extraClass: 'black'}); let i = createPopup(n, c), o = i.querySelector('.mip-img-popUp-bg'), a = i.querySelector('mip-carousel'), s = new Image(); s.setAttribute('src', c.src), i.appendChild(s); let t = getImgOffset(c); i.addEventListener('click', function e () { window.MIP.viewer.page.togglePageMask(!1, {skipTransition: !0, extraClass: 'black'}); let t = getCurrentImg(i.querySelector('.mip-carousel-wrapper'), a); s.setAttribute('src', t.getAttribute('data-src')); let n = getImgOffset(c); let r = getImgOffset(t); r.top < 0 && (n.top -= r.top); r.left < 0 && (n.left -= r.left); css$1(s, getPopupImgPos(s.naturalWidth, s.naturalHeight)); css$1(s, 'display', 'block'); css$1(a, 'display', 'none'); naboo.animate(o, {opacity: 0}).start(); naboo.animate(i, {display: 'none'}); naboo.animate(s, n).start(function () { css$1(c, 'visibility', 'visible'), css$1(i, 'display', 'none'), i.removeEventListener('click', e, !1), i.remove() }) }, !1); window.addEventListener('resize', function () { t = getImgOffset(c), css$1(s, t), naboo.animate(s, getPopupImgPos(c.naturalWidth, c.naturalHeight)).start() }), css$1(s, t), css$1(a, 'display', 'none'), css$1(o, 'opacity', 1), naboo.animate(s, getPopupImgPos(c.naturalWidth, c.naturalHeight)).start(function () { css$1(s, 'display', 'none'), css$1(a, 'display', 'block') }), css$1(c, 'visibility', 'hidden'), css$1(c.parentNode, 'zIndex', 'inherit') } }, !1) } function bindLoad (e, t, n) { t.addEventListener('load', function () { t.classList.remove('mip-img-loading'), e.classList.add('mip-img-loaded'), e.customElement.resourcesComplete(), n.placeholder && n.placeholder.remove() }, !1), errHandle = errorHandle.bind(null, t), t.addEventListener('error', errHandle, !1) } function errorHandle (e) { if (viewer.isIframed) { let t = document.createElement('a'); if (t.href = e.src, !/(\?|&)mip_img_ori=1(&|$)/.test(t.search)) { let n = t.search || '?'; t.search += (/[?&]$/.test(n) ? '' : '&') + 'mip_img_ori=1', e.src = t.href }e.removeEventListener('error', errHandle) } } let Placeholder = (function () { function t (e) { classCallCheck(this, t), this.targetEle = e } return createClass(t, [{key: 'init', value: function () { this.imgType = this._getImgType(this.targetEle), this._add(this.imgType) }}, {key: '_add', value: function (e) { let t = this.placeholder = document.createElement('div'); t.classList.add('mip-placeholder'), t.classList.add('mip-placeholder-' + e), this.targetEle.appendChild(t) }}, {key: 'remove', value: function () { let e = this.placeholder.parentElement; e && e.removeChild(this.placeholder) }}, {key: '_getImgType', value: function (e) { let t = e.getAttribute('src') || e.getAttribute('srcset') || 'other', n = ''; for (let r in imgRatio)t.match(r) && (n = r); return n || 'other' }}]), t }()), MipImg = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'connectedCallback', value: function () { let e = this.element; if (!e.isBuilt()) { let t = e.getAttribute('layout'), n = e.getAttribute('height'); t || n || (this.placeholder = new Placeholder(e), this.placeholder.init()) } }}, {key: 'prerenderAllowed', value: function (e, t) { let n = t.height; return t.top + t.height + n >= e.top && e.top + e.height + n >= t.top }}, {key: 'firstInviewCallback', value: function () { let e = this.element, t = new Image(); if (e.hasAttribute('popup')) { let n = [].concat(toConsumableArray(document.querySelectorAll('mip-img'))).filter(function (e) { return e.hasAttribute('popup') }); e.setAttribute('index', n.indexOf(e)) } for (let r in this.placeholder && t.classList.add('mip-img-loading'), this.applyFillContent(t, !0), this.attributes = getAttributeSet(this.element.attributes), this.attributes) if (this.attributes.hasOwnProperty(r) && imgAttributes.indexOf(r) > -1) if (r === 'src') { let i = util.makeCacheUrl(this.attributes.src, 'img'); t.setAttribute(r, i) } else if (r === 'srcset') { let o = this.attributes.srcset.replace(/[\w-/]+\.(jpg|jpeg|png|gif|webp|bmp|tiff) /g, function (e) { return util.makeCacheUrl(e, 'img') }); t.setAttribute('srcset', o) } else t.setAttribute(r, this.attributes[r]); e.appendChild(t), e.hasAttribute('popup') && bindPopup(e, t), bindLoad(e, t, this) }}, {key: 'attributeChangedCallback', value: function (e, t, n, r) { if (e === 'src' && t !== n) { let i = this.element.querySelector('img'); i && (i.src = n) } }}, {key: 'hasResources', value: function () { return !0 }}], [{key: 'observedAttributes', get: function () { return imgAttributes }}]), t }()), MipRem = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'connectedCallback', value: function () { this.changeHtmlFontSize(), window.addEventListener('resize', this.changeHtmlFontSize.bind(this), !1) }}, {key: 'disconnectedCallback', value: function () { document.documentElement.setAttribute('style', 'font-size: ') }}, {key: 'changeHtmlFontSize', value: function () { let t = this.element.getAttribute('font-size') || '', e = viewport.getWidth(); try { t = JSON.parse(t) } catch (e) { t = '', console.warn('mip-rem \u7684 font-size \u5c5e\u6027\u503c\u683c\u5f0f\u4e0d\u5bf9\uff01') } for (var n = '', r = t.length - 1; r >= 0; r--) if (!(t[r].maxWidth && t[r].maxWidth < e || t[r].minWidth && t[r].minWidth > e)) { n = t[r].size || ''; break }document.documentElement.style.fontSize = n + 'px' }}]), t }()), windowInIframe = viewer.isIframed, videoAttributes = ['ads', 'src', 'controls', 'loop', 'autoplay', 'autobuffer', 'crossorigin', 'height', 'muted', 'preload', 'poster', 'width', 'currenttime']; function getAttributeSet$1 (e) { let t = {}; return Array.prototype.slice.apply(e).forEach(function (e) { t[e.name] = e.value }), t } let MipVideo = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'firstInviewCallback', value: function () { let n = this; this.attributes = getAttributeSet$1(this.element.attributes), this.sourceDoms = this.element.querySelectorAll('source'), this.src = this.attributes.src; let e = !!window.location.protocol.match(/^https:/), t = !0; this.sourceDoms.length || (t = !1), Array.prototype.slice.apply(this.sourceDoms).forEach(function (e) { e.src.match(/^https:|^\/\//) || (t = !1) }); let r = this.src && this.src.match(/^https:|^\/\//) || this.sourceDoms && t; !windowInIframe || r || windowInIframe && !r && !e ? this.videoElement = this.renderInView() : window.MIP.standalone ? this.videoElement = this.renderError() : this.videoElement = this.renderPlayElsewhere(), this.addEventAction('seekTo', function (e, t) { n.videoElement.currentTime = t }), this.addEventAction('play', function () { n.videoElement.play && n.videoElement.play() }), this.addEventAction('pause', function () { n.videoElement.pause && n.videoElement.pause() }), this.applyFillContent(this.videoElement, !0) }}, {key: 'renderInView', value: function () { let t = document.createElement('video'); for (let e in this.attributes) this.attributes.hasOwnProperty(e) && videoAttributes.indexOf(e) > -1 && t.setAttribute(e, this.attributes[e]); let n = this.attributes.currenttime || 0; return t.setAttribute('playsinline', 'playsinline'), t.setAttribute('x5-playsinline', 'x5-playsinline'), t.setAttribute('webkit-playsinline', 'webkit-playsinline'), t.setAttribute('t7-video-player-type', 'inline'), Array.prototype.slice.apply(this.element.childNodes).forEach(function (e) { e.nodeName.toLowerCase() !== 'mip-i-space' && t.appendChild(e) }), t.addEventListener('loadedmetadata', function () { this.currentTime = n }), this.element.appendChild(t), t }}, {key: 'renderError', value: function () { let e = document.createElement('div'); e.setAttribute('class', 'mip-video-poster'), this.attributes.poster && (e.style.backgroundImage = 'url(' + this.attributes.poster + ')', e.style.backgroundSize = 'cover'); let t = document.createElement('span'); return t.setAttribute('class', 'mip-video-error'), e.appendChild(t), this.element.appendChild(e), e }}, {key: 'renderPlayElsewhere', value: function () { let e = document.createElement('div'), t = void 0; e.setAttribute('class', 'mip-video-poster'), this.attributes.poster && (e.style.backgroundImage = 'url(' + this.attributes.poster + ')', e.style.backgroundSize = 'cover'); let n = document.createElement('span'); n.setAttribute('class', 'mip-video-playbtn'), e.appendChild(n), e.dataset.videoSrc = this.attributes.src, e.dataset.videoPoster = util.parseCacheUrl(this.attributes.poster), e.addEventListener('click', function () { windowInIframe && viewer.sendMessage('mip-video-jump', {poster: e.dataset.videoPoster, src: t}) }, !1); let r = []; return Array.prototype.slice.apply(this.sourceDoms).forEach(function (e) { let t = {}; t[e.type] = e.src, r.push(t) }), t = r.length ? JSON.stringify([e.dataset.videoSrc, r]) : e.dataset.videoSrc, this.element.appendChild(e), e }}]), t }()), prerenderElement = resources$1.prerenderElement, carouselParas = {boxClass: 'mip-carousel-container', wrapBoxClass: 'mip-carousel-wrapper', slideBox: 'mip-carousel-slideBox', activeitem: 'mip-carousel-activeitem', threshold: 0.2}, NUM = 1; function prerenderSetSrc (e, t, n, r) { for (let i = Math.max(t - n, 0), o = Math.min(t + n + 1, e.length), a = i; a < o; a++) if (e[a].tagName === 'MIP-IMG') { e[a].setAttribute('src', r[a]); for (let s = [].concat(toConsumableArray(e[a].querySelectorAll('img'))), c = 0; c < s.length; c++)s[c].setAttribute('src', r[a]) } else { let l = e[a].querySelector('mip-img'); l && l.setAttribute('src', r[a]) } } function changeSrc (e, t, n) { for (let r = n[t] !== 'no-src' ? n[t] : '?mip_img_ori=1', i = 0; i < e.length; i++) if (e[i].tagName === 'MIP-IMG')e[i].setAttribute('src', r); else { let o = e[i].querySelector('mip-img'); o && o.setAttribute('src', r) } return e } function getAllMipImgSrc (e) { for (var t = [], n = 0; n < e.length; n++) if (e[n].tagName === 'MIP-IMG')t.push(e[n].getAttribute('src')); else { let r = e[n].querySelector('mip-img'); r ? t.push(r.getAttribute('src')) : t.push('no-src') } return t } function createTagWithClass (e, t) { t = t || 'div'; let n = document.createElement(t); return n.className = e || '', n } function getChildNodes (n) { let e = n.children, t = Array.prototype.slice.call(e), r = []; if (t.map(function (e, t) { e.tagName.toLowerCase() !== 'mip-i-space' && (n.hasAttribute('autoplay') && e.hasAttribute('popup') && e.removeAttribute('popup'), r.push(e), n.removeChild(e)) }), r.length > 0) { let i = r[0].cloneNode(!0), o = r[r.length - 1].cloneNode(!0); r.unshift(o), r.push(i) } return r } function translateFn (e, t, n) { n.style.webkitTransform = 'translate3d(' + e + 'px, 0px, 0px)', n.style.transitionDuration = t } function removeClass$1 (e, t) { if (e) { let n = e.className; e.className = n.replace(t, '').replace(/(^\s*)|(\s*$)/g, '') } } function addClass$1 (e, t) { if (e) { let n = e.className; e.className = n ? n + ' ' + t : t } } function resetPosAndIdx (e, t, n, r) { let i = {endPos: 0, endIndex: e}; return e === t - 1 ? (i.endPos = -n, i.endIndex = 1) : e === 0 ? (i.endPos = -(t - 2) * n, i.endIndex = t - 2) : i.endPos = r, i } function changeIndicatorStyle (e, t, n) { removeClass$1(e, n), addClass$1(t, n) } let MIPCarousel = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'build', value: function () { let s = this.element, a = this, c = s.clientWidth, l = [], i = s.hasAttribute('autoplay'), e = s.getAttribute('defer') || 4e3, u = s.hasAttribute('indicator'), t = s.hasAttribute('buttonController'), n = s.getAttribute('indicatorId'), o = s.getAttribute('index'), r = parseInt(o) || 1, d = {stop: 1}, f = {stop: 1}, p = 0, h = -c, v = r, m = void 0, g = {}, y = {}, b = getChildNodes(s), w = getAllMipImgSrc(b), E = (b = changeSrc(b, v, w)).length; if (E !== 0) { var _ = createTagWithClass(carouselParas.boxClass), C = createTagWithClass(carouselParas.wrapBoxClass); b.map(function (e, t) { let n = createTagWithClass(carouselParas.slideBox); n.appendChild(e), n.style.width = 100 / E + '%', C.appendChild(n), a.applyFillContent(e, !0), prerenderElement(e); for (let r = e.querySelectorAll('mip-img'), i = r.length, o = 0; o < i; o++)a.applyFillContent(r[o], !0), prerenderElement(r[o]) }), C.style.width = 100 * E + '%', _.appendChild(C), s.appendChild(_); let S = o ? -c * r : -c; h = S, prerenderSetSrc(b, r, NUM, w), C.style.webkitTransform = 'translate3d(' + S + 'px, 0, 0)'; let T, A, k, x, O = 0; C.addEventListener('touchstart', function (e) { let t = e.targetTouches[0]; g = {x: t.pageX, y: t.pageY, time: Date.now()}, 0, p = t.pageX, clearInterval(m) }, !1), C.addEventListener('touchmove', function (e) { let t = e.targetTouches[0]; y = {x: t.pageX - g.x, y: t.pageY - g.y}, (Math.abs(y.x) < Math.abs(y.y) ? 1 : 0) === 0 && e.preventDefault(), translateFn((O = e.targetTouches[0].pageX - p) + h, '0ms', C), d.stop = 0 }, !1), C.addEventListener('touchend', function (e) { if (!d.stop) { let t = v, n = t; Math.abs(O) > c * carouselParas.threshold && (n = O > 0 ? v - 1 : v + 1), I(C, t, n), d.stop = 1 }i && (clearInterval(m), P()) }, !1), i && P(), u && (T = createTagWithClass('mip-carousel-indicatorbox'), A = createTagWithClass('mip-carousel-indicatorBoxwrap', 'p'), k = createTagWithClass('mip-carousel-indicatornow', 'span'), (x = createTagWithClass('', 'span')).innerHTML = '/' + (E - 2), k.innerHTML = v, A.appendChild(k), A.appendChild(x), T.appendChild(A), s.appendChild(T)), t && (function () { let e = document.createElement('p'); e.className = 'mip-carousel-preBtn'; let t = document.createElement('p'); t.className = 'mip-carousel-nextBtn', s.appendChild(e), s.appendChild(t), s.querySelector('.mip-carousel-preBtn').addEventListener('click', function (e) { f.stop && (f.stop = 0, v -= 1, clearInterval(m), I(C, v + 1, v), i && P()) }, !1), s.querySelector('.mip-carousel-nextBtn').addEventListener('click', function (e) { f.stop && (f.stop = 0, v += 1, clearInterval(m), I(C, v - 1, v), i && P()) }, !1) }()), n && (function (e) { let t = document.getElementById(e); if (!t) return; let n = (l = t.children).length; o && ((l = Array.prototype.slice.call(l)).forEach(function (e) { removeClass$1(e, carouselParas.activeitem) }), addClass$1(l[v - 1], carouselParas.activeitem)); if (n === E - 2) for (let r = 0; r < n; r++)l[r].count = r, l[r].addEventListener('click', function (e) { let t = this.count; clearInterval(m), I(C, v, t + 1), i && P() }); else addClass$1(t, 'hide'), l = [] }(n)), window.addEventListener('resize', function () { c = s.clientWidth, I(C, v, v, '0ms') }, !1), this.addEventAction('go', function (e, t) { clearInterval(m), I(C, v, parseInt(t)), i && P() }) } function P () { m = setInterval(function () { I(C, v, v + 1) }, e) } function I (e, t, n, r) { if (e) { c !== s.clientWidth && (c = s.clientWidth); let i = -c * (v = n); r ? (translateFn(i, '0ms', e), e.style.transitionDuration = '0ms') : (translateFn(i, '300ms', e), e.style.transitionDuration = '300ms'); let o, a = resetPosAndIdx(v, E, c, i); h = a.endPos, n = a.endIndex, v = n, l.length > 0 && changeIndicatorStyle(l[t - 1], l[n - 1], carouselParas.activeitem), h !== i && setTimeout(function () { translateFn(h, '0ms', e), f.stop = 1 }, 400), f.stop = 1, o = v, u && (s.querySelector('.mip-carousel-indicatornow').innerHTML = o), viewer.eventAction.execute('switchCompleted', s, {currIndex: v, currCarouselItem: b[v], carouselChildrenLength: E}), prerenderSetSrc(b, v, NUM, w) } } }}]), t }()), attrList = ['allowfullscreen', 'allowtransparency', 'sandbox'], MipIframe = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'build', value: function () { let t = this; this.handlePageResize = this.handlePageResize.bind(this), this.notifyRootPage = this.notifyRootPage.bind(this); let e = this.element, n = e.getAttribute('src'), r = e.getAttribute('srcdoc'); r && (n = 'data:text/html;charset=utf-8;base64,' + window.btoa(r)); let i = e.getAttribute('height'), o = e.getAttribute('width') || '100%'; if (n && i) { window.addEventListener('message', this.notifyRootPage.bind(this)); let a = document.createElement('iframe'); if (a.frameBorder = '0', a.scrolling = util.platform.isIos() ? 'no' : 'yes', util.css(a, {width: o, height: i}), this.applyFillContent(a), a.src = n, this.expendAttr(attrList, a), e.appendChild(a), this.iframe = a, i === '100%') { this.fullscreen = !0; var s = setInterval(function () { let e = viewport.getHeight(); e !== 0 && (t.setIframeHeight(e), clearInterval(s)) }, 500) } } }}, {key: 'firstInviewCallback', value: function () { window.addEventListener(CUSTOM_EVENT_RESIZE_PAGE, this.handlePageResize.bind(this)) }}, {key: 'disconnectedCallback', value: function () { window.removeEventListener(CUSTOM_EVENT_RESIZE_PAGE, this.handlePageResize.bind(this)), window.removeEventListener('message', this.notifyRootPage.bind(this)) }}, {key: 'notifyRootPage', value: function (e) { e.data.type === MESSAGE_MIPIFRAME_RESIZE && window.MIP.viewer.page.notifyRootPage({type: MESSAGE_PAGE_RESIZE}) }}, {key: 'handlePageResize', value: function (e) { e.detail && e.detail.length && this.setIframeHeight(e.detail[0].height || viewport.getHeight()) }}, {key: 'setIframeHeight', value: function (e) { this.fullscreen && e !== this.height && (util.css(this.iframe, {height: e}), this.height = e) }}]), t }()), DEFAULT_PARAMS = {TIME: 't', TITLE: 'title', HOST: 'host'}; function addParas (e, t, n) { let r = new RegExp('\\$?{' + t + '}', 'g'); return e.search(r) > -1 ? e.replace(r, n) : (e += e.indexOf('?') > -1 ? '&' : '?') + (t = DEFAULT_PARAMS[t] || t) + '=' + n } function getBodyAttr (e) { return document.getElementsByTagName('body')[0].getAttribute(e) || 'default' } let MipPix = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'firstInviewCallback', value: function () { let e = this.element, t = e.getAttribute('src'), n = window.location.href, r = (document.querySelector('title') || {}).innerHTML || '', i = (t = addParas(t = addParas(t = addParas(t, 'TIME', Date.now()), 'TITLE', encodeURIComponent(r)), 'HOST', encodeURIComponent(n))).match(/MIP-X-((\w|-|\d|_)+)/g); for (let o in i) { let a = i[o]; t = addParas(t, a, getBodyAttr(a)) }t = (t = t.replace(/\$?{.+?}/g, '')).replace(/\$?{|}/g, ''); let s = new Image(); s.src = t, s.setAttribute('width', 0), s.setAttribute('height', 0), e.setAttribute('width', ''), e.setAttribute('height', ''), e.appendChild(s), util.css(e, {display: 'none'}) }}]), t }()), uid$3 = 0, Deps = (function () { function e () { classCallCheck(this, e), this.isDep = !0, this.subs = [], this.id = uid$3++ } return createClass(e, [{key: 'addWatcher', value: function () { e.target.addWatcher(this) }}, {key: 'notify', value: function (t) { this.subs.forEach(function (e) { e.specWatcher === 'Watch' && e.exp.match(new RegExp('.?' + t + '\\[?\\d*\\]?$')) ? e.update() : e.specWatcher !== 'Watch' && e.update() }) }}]), e }()), regVar = /[\w\d-._]+/g, regTpl = /(\${)([^}]+)(})/g, vendorNames$1 = ['Webkit', 'Moz', 'ms'], RESERVED$1 = ['Math', 'Number', 'String', 'Object', 'window'], emptyStyle$1 = void 0; function isObject$1 (e) { return e && Object.prototype.toString.call(e) === '[object Object]' } function isArray$1 (e) { return e && e.constructor === Array } function objNotEmpty (e) { return isObject$1(e) && Object.keys(e).length !== 0 } function arrayToObject (e) { let t = {}; return e.forEach(function (e) { isObject$1(e) ? Object.assign(t, e) : isArray$1(e) ? Object.assign(t, arrayToObject(e)) : typeof e === 'string' && Object.assign(t, classSplit(e)) }), t } function parseClass (t) { let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (Object.keys(n).forEach(function (e) { n[e] = !1 }), typeof t === 'string') return t = classSplit(t), Object.assign({}, n, t); isArray$1(t) && (t = arrayToObject(t)); let r = {}; return isObject$1(t) && Object.keys(t).forEach(function (e) { void 0 !== t[e] && e && (r[e] = t[e]) }), Object.assign({}, n, r) } function classSplit (e) { return e.trim().split(/\s+/).reduce(function (e, t) { return Object.assign(e, defineProperty({}, t, !0)) }, {}) } function parseStyle (s) { let c = {}; return isArray$1(s) ? (s.forEach(function (e) { Object.assign(c, parseStyle(e)) }), c) : isObject$1(s) ? (Object.keys(s).forEach(function (e) { let t = normalize$1(e); if (t) { let n = t.replace(/[A-Z]/g, function (e) { return '-' + e.toLowerCase() }), r = s[e]; if (isArray$1(r)) { for (var i = document.createElement('div'), o = 0, a = r.length; o < a; o++)i.style[n] = r[o]; c[n] = i.style[n] } else c[n] = r } }), c) : '' } function normalize$1 (e) { if (emptyStyle$1 = emptyStyle$1 || document.createElement('div').style, (e = e.replace(/-(\w)/g, function (e, t) { return t ? t.toUpperCase() : '' })) !== 'filter' && e in emptyStyle$1) return e; for (let t = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < vendorNames$1.length; n++) { let r = vendorNames$1[n] + t; if (r in emptyStyle$1) return r } return '' } function styleToObject (e) { if (!e) return {}; for (var t = e.split(';'), n = {}, r = 0, i = t.length; r < i; r++) { let o = t[r]; if (o) { let a = o.split(':'); n[a[0]] = a[1] } } return n } function objectToStyle (t) { let n = ''; return Object.keys(t).forEach(function (e) { n += e + ':' + t[e] + ';' }), n } function getter (e, t) { return getWithResult.bind(e, t).call(e.data).call(e.data, e.data) } function getWithResult (e) { let t = (e = namespaced(e) || '').match(/(this\.[\w\d-._]+|this\['[\w\d-._]+'\])/gim), n = ''; t && t.length && t.forEach(function (e) { n += ';typeof ' + e + " === 'undefined' && (hadReadAll = false)" }); let r = void 0; try { r = new Function('\n      with (this) {\n        try {\n          var hadReadAll = true\n          ' + n + '\n          return {\n            value: ' + e + ',\n            hadReadAll: hadReadAll\n          }\n        } catch (e) {\n          return {}\n        }\n      }\n    ') } catch (e) { r = function () { return {} } } return r } function setter (e, t, n) { setWithResult.bind(e, t, n).call(e.data).call(e.data) } function setWithResult (e, t) { e = namespaced(e); let n = void 0; try { n = new Function('with(this){try {' + e + ' = "' + t + '"} catch (e) {}}') } catch (e) { n = function () { return '' } } return n } function namespaced (e) { if (e) { let t = '', n = null, r = 0, i = []; for (e = e.replace(/(`[^`]+`|'[^']+')/g, function (e) { return e[0] === '`' && (e = e.replace(regTpl, function (e) { return namespaced(e) })), i.push(e), 'MIP-STR-TPL' + (i.length - 1) }); (n = regVar.exec(e)) != null;) { let o = n.index, a = n[0]; if (t += e.substring(r, o), r = o + a.length, a.indexOf('MIP-STR-TPL') === -1) if (isNaN(n[0]) && !/^\./.test(n[0]) && n[0].replace(/[-._]/g, '').length && RESERVED$1.indexOf(n[0].split('.')[0]) === -1) { let s = findChar(e, r, !0); s >= e.length || !/['`:]/.test(e[s]) ? t += wrap(n[0]) : e[s] === ':' ? (s = findChar(e, o - 1, !1)) < 0 || e[s] !== '?' ? t += n[0] : t += wrap(n[0]) : t += n[0] } else t += n[0]; else t += i[+n[0].substr(11)] } return t += e.substr(r) } } function wrap (e) { return /-/.test(e) ? "this['" + e + "']" : 'this.' + e } function findChar (e, t, n) { for (;e[t] && e[t] === ' ';)n ? t++ : t--; return t } let util$1 = Object.freeze({isObject: isObject$1, isArray: isArray$1, objNotEmpty: objNotEmpty, arrayToObject: arrayToObject, parseClass: parseClass, parseStyle: parseStyle, normalize: normalize$1, styleToObject: styleToObject, objectToStyle: objectToStyle, getter: getter, getWithResult: getWithResult, setter: setter, setWithResult: setWithResult, namespaced: namespaced}), queue$1 = [], has$1 = {}, flushing$1 = !1, index$2 = 0, lock = !1, uid$4 = 0, Watcher$1 = (function () { function s (e, t, n, r, i) { classCallCheck(this, s), this.data = t, this.dir = n, this.exp = r, this.id = uid$4++; let o = void 0; (o = r.slice(0, 6)) !== 'Class:' && o !== 'Style:' && o !== 'Watch:' || (this.specWatcher = o.slice(0, 5), this.exp = r = r.slice(6)), this.node = e, this.depIds = {}; let a = getWithResult.bind(this, this.exp); this.getter = a.call(this.data), this.cb = i, this.value = this.get() } return createClass(s, [{key: 'update', value: function () { if (lock) { let e = this.id; if (has$1[e] != null) return; if (has$1[e] = !0, flushing$1)queue$1.push(this); else { for (var t = queue$1.length - 1; index$2 < t && queue$1[t].id > e;)t--; queue$1.splice(t + 1, 0, this) } } else this.run() }}, {key: 'run', value: function () { let e = this.value, t = this.get(e); t !== e && (this.value = t, this.dir ? this.cb.call(this.data, this.dir, t) : this.cb.call(this.data, t)) }}, {key: 'get', value: function (e) { let t = void 0; return t = (Deps.target = this).getter.call(this.data, this.data).value, this.specWatcher && this.specWatcher !== 'Watch' && (t = util$1['parse' + this.specWatcher](t, e)), Deps.target = null, t }}, {key: 'addWatcher', value: function (e) { this.depIds.hasOwnProperty(e.id) || (e.subs.push(this), this.depIds[e.id] = e) }}]), s }()); function resetState () { index$2 = queue$1.length = 0, flushing$1 = !(has$1 = {}) } function flushWatcherQueue () { flushing$1 = !0; let e = void 0, t = void 0; for (queue$1.sort(function (e, t) { return e.id - t.id }), index$2 = 0; index$2 < queue$1.length; index$2++)t = (e = queue$1[index$2]).id, has$1[t] = null, e.run(); resetState() } function locker (e) { queue$1.length && !e && flushing$1 || (lock = e) || flushWatcherQueue() } let VALUE = /^value$/, TAGNAMES = /^(input|textarea|select)$/i, ATTRS = /^(checked|selected|autofocus|controls|disabled|hidden|multiple|readonly)$/i, Compile = (function () { function e () { classCallCheck(this, e), this.el = document.documentElement } return createClass(e, [{key: 'start', value: function (e) { e && objNotEmpty(e) && (this.data = e, this.compileElement(this.el)) }}, {key: 'cloneNode', value: function () { for (var e = void 0, t = document.createDocumentFragment(); e = this.el.firstChild;)t.appendChild(e); return t }}, {key: 'compileElement', value: function (e) { let t = this, n = e.childNodes; [].slice.call(n).forEach(function (e) { t.isElementNode(e) && (t.compileAttributes(e), e.childNodes && e.childNodes.length && t.compileElement(e)) }) }}, {key: 'isDirective', value: function (e) { return e.indexOf('m-') === 0 }}, {key: 'isElementNode', value: function (e) { return e.nodeType === 1 }}, {key: 'compileAttributes', value: function (t) { let n = this; if (t) { let e = t.attributes; [].slice.call(e).forEach(function (e) { n.isDirective(e.name) && n.compileDirective(t, e, e.value) }) } }}, {key: 'compileDirective', value: function (n, e, t) { let r = this, i = e.name.slice(2), o = e.name, a = void 0, s = void 0; if (/^bind:.*/.test(i)) { let c = i.slice(5); if (c === 'class' || c === 'style') { let l = c.charAt(0).toUpperCase() + c.slice(1); try { let u = getter(this, t); a = util$1['parse' + l](u.value), s = u.hadReadAll } catch (e) { a = {} }t = l + ':' + t }i = 'bind' }!a && (a = r.getMVal(n, o, t)), void 0 !== a && r[i] && r[i](n, o, a, s), this.listenerFormElement(n, e, t), new Watcher$1(n, r.data, o, t, function (e, t) { r[i] && r[i](n, e, t) }) }}, {key: 'listenerFormElement', value: function (e, t, n) { if (TAGNAMES.test(e.tagName)) { let r = t.name.split(':'); if ((r = r.length > 1 ? r[1] : '').trim() !== 'value') return; e.addEventListener('input', function (e) { setter(this, n, e.target.value) }.bind(this)) } }}, {key: 'text', value: function (e, t, n) { e.textContent = n }}, {key: 'bind', value: function (t, e, n, r) { let i = /bind:(.*)/.exec(e); if (i) { let o = i[1]; if (o !== 'disabled' && t.disabled)Object.assign(window.m, this.origin); else if (o === 'class')objNotEmpty(n) && (Object.keys(n).forEach(function (e) { return t.classList.toggle(e, n[e]) }), r && t.removeAttribute(e)); else if (o === 'style') { if (objNotEmpty(n)) { let a = styleToObject(t.getAttribute(o) || ''); Object.keys(n).forEach(function (e) { a[e] = n[e] }), t.setAttribute(o, objectToStyle(a)), r && t.removeAttribute(e) } } else (void 0 === n ? 'undefined' : _typeof(n)) === 'object' && (n = JSON.stringify(n)), n !== '' ? t.setAttribute(o, n) : t.removeAttribute(o), TAGNAMES.test(t.tagName) && (ATTRS.test(o) ? t[o] = !!n : VALUE.test(o) && (t[o] = n)) } }}, {key: 'updateData', value: function (e) { this.origin = e }}, {key: 'getMVal', value: function (e, t, n) { if (n) { let r = void 0; try { let i = getter(this, n); r = i.value, i.hadReadAll && e.removeAttribute(t) } catch (e) {} return r } }}]), e }()), Observer$1 = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: 'start', value: function (e) { for (let t in this.depMap = this.depMap || {}, e) this.depMap[t] = JSON.parse(JSON.stringify(e[t])); this.walk(e, this.depMap) }}, {key: 'walk', value: function (t, n) { let r = this; isObject$1(t) && isObject$1(n) && Object.keys(t).forEach(function (e) { return r.define(t, e, t[e], n) }) }}, {key: 'define', value: function (t, n, r, i) { if (void 0 !== i[n]) { let o = this, e = r && (void 0 === r ? 'undefined' : _typeof(r)) === 'object'; e && this.walk(r, i[n]); let a = Object.getOwnPropertyDescriptor(t, n); if (!a || !1 !== a.configurable) { let s = a && a.get, c = a && a.set, l = void 0; !e && i[n] && i[n].isDep ? l = i[n] : e && i[n] && i[n]._deps ? l = i[n]._deps : (l = new Deps(), e ? i[n]._deps = l : i[n] = l), Object.defineProperty(t, n, {enumerable: !0, configurable: !0, get: function () { return r = s ? s.call(t) : r, Deps.target && l.addWatcher(), r }, set: function (e) { e !== (r = s ? s.call(t) : r) && (c ? c.call(t, e) : r = e, o.walk(e, i[n]), i[n]._deps && (void 0 === e ? 'undefined' : _typeof(e)) !== 'object' ? i[n] = i[n]._deps : i[n].isDep && (void 0 === e ? 'undefined' : _typeof(e)) === 'object' && (i[n]._deps = i[n]), l.notify(n)) }}) } } }}]), e }()), Bind = (function () { function e () { let i = this; classCallCheck(this, e), this.win = window, this.watcherIds = [], this.win.pgStates = new Set(), this.compile = new Compile(), this.observer = new Observer$1(), MIP.setData = function (e) { i.bindTarget(!1, e) }, MIP.getData = function (e) { for (var t = e.split('.'), n = i.win.m[t[0]], r = 1; isObject$1(n) && r < t.length;)n = n[t[r]], r++; return n }, MIP.watch = function (e, t) { i.bindWatch(e, t) }, MIP.$set = function (e, t) { return i.bindTarget(!0, e, t) }, MIP.$recompile = function () { i.observer.start(i.win.m), i.compile.start(i.win.m) }, MIP.$update = function (e, t) { i.update(e, t) }, window.m = window.m || {}, window.mipDataPromises = window.mipDataPromises || [], MIP.$set(window.m) } return createClass(e, [{key: 'postMessage', value: function (t) { Object.keys(t).forEach(function (e) { t['#' + e] = t[e], delete t[e] }); let e = this.win, n = e; isSelfParent(e) || (n = e.parent).MIP.$set(t, !0), e.MIP.$set(t, !0); let r = e.location.href.replace(e.location.hash, ''); setTimeout(function () { n.MIP.$update(t, r) }, 10) }}, {key: 'update', value: function (e, t) { for (let n = 0, r = this.win.document.getElementsByTagName('iframe'); n < r.length; n++) if (r[n].classList.contains('mip-page__iframe') && r[n].getAttribute('data-page-id') && t !== r[n].getAttribute('data-page-id')) { let i = r[n].contentWindow; i && i.MIP && i.MIP.$set(e, !0) } }}, {key: 'bindTarget', value: function (e, t, n) { let r = this, i = this.win; if ((void 0 === t ? 'undefined' : _typeof(t)) !== 'object') throw new Error('setData method MUST accept an object! Check your input:' + t); let o = JSON.stringify(i.m); this.compile.updateData(JSON.parse(o)); let a = this.normalize(t); e ? (this.setGlobalState(a.globalData, n), this.setPageState(a, n), this.observer.start(i.m), this.compile.start(i.m)) : (locker(!0), a.globalData && objNotEmpty(a.globalData) && !n && this.postMessage(a.globalData), t = a.pageData, Object.keys(t).forEach(function (e) { i.pgStates.has(e) ? assign(i.m, defineProperty({}, e, t[e])) : r.dispatch(e, t[e], n) }), locker(!1)) }}, {key: 'bindWatch', value: function (e, t) { let n = this; if (e.constructor !== Array) { if (typeof e === 'string' && e && t && typeof t === 'function') { let r = e.split('.').reduce(function (e, t) { return e && (e += '{("[^{}:"]+":[^,]+,)*'), e + '"' + t + '":' }, ''); if (JSON.stringify(this.win.m).match(new RegExp(r))) { let i = ('' + e + t.toString()).replace(/[\n\t\s]/g, ''); this.watcherIds.indexOf(i) === -1 && (this.watcherIds.push(i), new Watcher$1(null, this.win.m, '', 'Watch:' + e, t)) } } } else e.forEach(function (e) { return n.bindWatch(e, t) }) }}, {key: 'dispatch', value: function (e, t, n) { let r = this.win, i = defineProperty({}, e, t); r.g && r.g.hasOwnProperty(e) ? !n && this.postMessage(i) : !isSelfParent(r) && r.parent.g && r.parent.g.hasOwnProperty(e) ? !n && this.postMessage(i) : Object.assign(r.m, i) }}, {key: 'setGlobalState', value: function (e, t) { let n = this.win; isSelfParent(n) ? (n.g = n.g || {}, assign(n.g, e)) : !t && objNotEmpty(e) && this.postMessage(e) }}, {key: 'setPageState', value: function (e, t) { let n = this.win; Object.assign(n.m, e.pageData), !t && Object.keys(e.pageData).forEach(function (e) { return n.pgStates.add(e) }); let r = e.globalData; Object.keys(r).forEach(function (e) { !n.pgStates.has(e) && n.m.hasOwnProperty(e) && (isObject$1(r[e]) && n.m[e] && isObject$1(n.m[e]) ? (assign(n.m[e], r[e]), n.m[e] = JSON.parse(JSON.stringify(n.m[e]))) : n.m[e] = r[e]) }), setProto(n.m, getGlobalData(n)) }}, {key: 'normalize', value: function (t) { let n = {}, r = {}; return Object.keys(t).forEach(function (e) { if (typeof t[e] === 'function') throw 'setData method MUST NOT accept object that contains functions'; /^#/.test(e) ? n[e.substr(1)] = t[e] : r[e] = t[e] }), {globalData: n, pageData: r} }}]), e }()); function assign (n, r) { Object.keys(r).forEach(function (e) { if (isObject$1(r[e]) && n[e] && isObject$1(n[e])) { assign(n[e], r[e]); let t = JSON.parse(JSON.stringify(defineProperty({}, e, n[e]))); Object.assign(n, t) } else n[e] = r[e] }) } function setProto (t, n) { Object.keys(n).forEach(function (e) { t[e] || (t[e] = JSON.parse(JSON.stringify(n[e]))) }) } function isSelfParent (e) { let t = e.MIP.viewer.page; return t.isRootPage || t.isCrossOrigin } function getGlobalData (e) { return isSelfParent(e) ? e.g : e.parent.g } function dropPromise (e) { let t = mipDataPromises.indexOf(e); mipDataPromises.splice(t, ~t ? 1 : 0) } let MipData = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'build', value: function () { let e = this.element.getAttribute('src'), t = this.element.querySelector('script[type="application/json"]'); if (e) this.getData(e); else if (t) { let n = t.textContent.toString(); n && MIP.$set(jsonParse(n)) } }}, {key: 'getData', value: function (e) { var n = void 0, r = void 0, t = new Promise(function (resolve, reject) { n = e, r = t }); mipDataPromises.push(t), fetch(e, {credentials: 'include'}).then(function (e) { e.ok ? e.json().then(function (e) { MIP.$set(e), dropPromise(t), n() }) : (console.error('Fetch request failed!'), dropPromise(t), r()) }).catch(function (e) { console.error(e), dropPromise(t), r() }) }}, {key: 'prerenderAllowed', value: function () { return !0 }}]), t }()); function convertPatternToRegexp (e) { return e === '*' ? /.*/ : new RegExp(e) } function checkRouteConfig (e) { e ? e.pattern ? e.meta ? e.meta.header ? e.meta.view || (console.warn('\u68c0\u6d4b\u5230\u4e00\u6761\u8def\u7531\u914d\u7f6e\u4e2d\u6ca1\u6709\u8bbe\u7f6e `meta.view` \u9009\u9879\uff0cMIP \u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684 `meta.view` \u914d\u7f6e\u4ee3\u66ff\u3002'), console.warn(e)) : (console.warn('\u68c0\u6d4b\u5230\u4e00\u6761\u8def\u7531\u914d\u7f6e\u4e2d\u6ca1\u6709\u8bbe\u7f6e `meta.header` \u9009\u9879\uff0cMIP \u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684 `meta.header` \u914d\u7f6e\u4ee3\u66ff\u3002'), console.warn(e)) : (console.warn('\u68c0\u6d4b\u5230\u4e00\u6761\u8def\u7531\u914d\u7f6e\u4e2d\u6ca1\u6709\u8bbe\u7f6e `meta` \u9009\u9879\uff0cMIP \u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684 `meta` \u914d\u7f6e\u4ee3\u66ff\u3002'), console.warn(e)) : (console.warn('\u68c0\u6d4b\u5230\u4e00\u6761\u8def\u7531\u914d\u7f6e\u4e2d\u6ca1\u6709\u8bbe\u7f6e `pattern` \u9009\u9879\uff0cMIP \u5c06\u4f7f\u7528 * \u4ee3\u66ff\u3002'), console.warn(e)) : console.warn('\u68c0\u6d4b\u5230\u7a7a\u7684\u8def\u7531\u914d\u7f6e\uff0cMIP \u5c06\u8df3\u8fc7\u8fd9\u6761\u914d\u7f6e') } function renderMoreButton () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.name, n = e.text, r = e.link; if (t && n) return '\n    <div class="mip-shell-button" mip-header-btn data-button-name="' + t + '">\n      ' + (r ? '<a mip-link href="' + r + '">' + n + '</a>' : n) + '\n    </div>\n  ' } function createMoreButtonWrapper (t) { Array.isArray(t) || (t = []); let e = function (e) { let n = []; t.forEach(function (e) { let t = renderMoreButton(e); t && n.push(t) }), css(e, 'height', 48 * n.length), e.innerHTML = n.join('') }, n = document.querySelector('.mip-shell-more-button-mask'), r = document.querySelector('.mip-shell-more-button-wrapper'); return n || r ? e(r) : ((n = document.createElement('mip-fixed')).classList.add('mip-shell-more-button-mask'), document.body.appendChild(n), (r = document.createElement('mip-fixed')).classList.add('mip-shell-more-button-wrapper'), e(r), document.body.appendChild(r)), {mask: n, buttonWrapper: r} } function createPageMask () { let e = document.createElement('mip-fixed'); return e.classList.add('mip-shell-header-mask'), document.body.appendChild(e), e } function toggleInner (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r = n.skipTransition, i = n.transitionName, o = void 0 === i ? 'fade' : i; if (r)css(e, 'display', t ? 'block' : 'none'); else { let a = e.style.display; if (!(t && a === 'block' || !t && a === 'none')) { let s = t ? 'enter' : 'leave'; e.classList.add(o + '-' + s, o + '-' + s + '-active'), css(e, 'display', 'block'), e.offsetWidth, whenTransitionEnds(e, 'transition', function () { e.classList.remove(o + '-' + s + '-to', o + '-' + s + '-active'), css(e, 'display', t ? 'block' : 'none') }), nextFrame(function () { e.classList.add(o + '-' + s + '-to'), e.classList.remove(o + '-' + s) }) } } } function renderHeader (e, t) { let n = e.currentPageMeta, r = n.header, i = r.buttonGroup, o = r.title, a = void 0 === o ? '' : o, s = r.logo, c = r.color, l = void 0 === c ? '#000000' : c, u = r.borderColor, d = r.backgroundColor, f = void 0 === d ? '#ffffff' : d; e.priorTitle && !e.alwaysUseTitleInShellConfig && (a = n.header.title = e.priorTitle); let p = '\n    ' + (!n.view.isIndex ? '<a href="javascript:void(0)" class="back-button" mip-header-btn\n      data-button-name="back">\n      <svg t="1530857979993" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3173"\n        xmlns:xlink="http://www.w3.org/1999/xlink">\n        <path  fill="currentColor" d="M348.949333 511.829333L774.250667 105.728C783.978667 96 789.333333 83.712 789.333333 71.104c0-12.629333-5.354667-24.917333-15.082666-34.645333-9.728-9.728-22.037333-15.082667-34.645334-15.082667-12.586667 0-24.917333 5.333333-34.624 15.082667L249.557333 471.616A62.570667 62.570667 0 0 0 234.666667 512c0 10.410667 1.130667 25.408 14.890666 40.042667l455.424 435.605333c9.706667 9.728 22.016 15.082667 34.624 15.082667s24.917333-5.354667 34.645334-15.082667c9.728-9.728 15.082667-22.037333 15.082666-34.645333 0-12.608-5.354667-24.917333-15.082666-34.645334L348.949333 511.829333z"\n          p-id="3174"></path>\n      </svg>\n    </a>' : '') + '\n    <div class="mip-shell-header-logo-title">\n      ' + (s ? '<img class="mip-shell-header-logo" src="' + s + '">' : '') + '\n      <span class="mip-shell-header-title">' + a + '</span>\n    </div>\n  ', h = Array.isArray(i) && i.length > 0, v = !window.MIP.standalone && e.showHeaderCloseButton(); h && v ? p += '\n      <div class="mip-shell-header-button-group">\n        <div class="button more" mip-header-btn data-button-name="more">\n          <svg t="1530857985972" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3393"\n            xmlns:xlink="http://www.w3.org/1999/xlink">\n            <path d="M128 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3394" fill="currentColor"></path>\n            <path d="M512 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3395" fill="currentColor"></path>\n            <path d="M896 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3396" fill="currentColor"></path>\n          </svg>\n        </div>\n        <div class="split"></div>\n        <div class="button close" mip-header-btn data-button-name="close">\n          <svg t="1530857971603" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2953"\n            xmlns:xlink="http://www.w3.org/1999/xlink">\n            <path  fill="currentColor" d="M586.026667 533.248l208.789333-208.576c9.856-8.874667 15.488-21.248 15.850667-34.858667a53.717333 53.717333 0 0 0-15.829334-39.146666 48.042667 48.042667 0 0 0-36.224-15.872c-14.165333 0-27.584 5.632-37.802666 15.850666L512 459.221333l-208.789333-208.576a48.042667 48.042667 0 0 0-36.245334-15.850666c-14.144 0-27.562667 5.632-37.781333 15.850666A48.085333 48.085333 0 0 0 213.333333 285.504a53.717333 53.717333 0 0 0 15.850667 39.168l208.789333 208.576-208.576 208.853333a48.085333 48.085333 0 0 0-15.850666 34.88 53.717333 53.717333 0 0 0 15.850666 39.146667c9.194667 10.24 22.058667 15.872 36.224 15.872 14.144 0 27.562667-5.632 37.802667-15.850667L512 607.274667l208.597333 208.853333c9.216 10.24 22.08 15.872 36.224 15.872s27.584-5.632 37.802667-15.850667c9.856-8.874667 15.488-21.269333 15.850667-34.88a53.717333 53.717333 0 0 0-15.850667-39.146666l-208.597333-208.853334z"\n              p-id="2954"></path>\n          </svg>\n        </div>\n      </div>\n   ' : h && !v ? p += '\n      <div class="mip-shell-header-button-group-standalone more" mip-header-btn data-button-name="more">\n        <svg t="1530857985972" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3393"\n          xmlns:xlink="http://www.w3.org/1999/xlink">\n          <path d="M128 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3394" fill="currentColor"></path>\n          <path d="M512 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3395" fill="currentColor"></path>\n          <path d="M896 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" p-id="3396" fill="currentColor"></path>\n        </svg>\n      </div>\n   ' : !h && v && (p += '\n      <div class="mip-shell-header-button-group-standalone">\n        <div class="button close" mip-header-btn data-button-name="close">\n          <svg t="1530857971603" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2953"\n            xmlns:xlink="http://www.w3.org/1999/xlink">\n            <path  fill="currentColor" d="M586.026667 533.248l208.789333-208.576c9.856-8.874667 15.488-21.248 15.850667-34.858667a53.717333 53.717333 0 0 0-15.829334-39.146666 48.042667 48.042667 0 0 0-36.224-15.872c-14.165333 0-27.584 5.632-37.802666 15.850666L512 459.221333l-208.789333-208.576a48.042667 48.042667 0 0 0-36.245334-15.850666c-14.144 0-27.562667 5.632-37.781333 15.850666A48.085333 48.085333 0 0 0 213.333333 285.504a53.717333 53.717333 0 0 0 15.850667 39.168l208.789333 208.576-208.576 208.853333a48.085333 48.085333 0 0 0-15.850666 34.88 53.717333 53.717333 0 0 0 15.850666 39.146667c9.194667 10.24 22.058667 15.872 36.224 15.872 14.144 0 27.562667-5.632 37.802667-15.850667L512 607.274667l208.597333 208.853333c9.216 10.24 22.08 15.872 36.224 15.872s27.584-5.632 37.802667-15.850667c9.856-8.874667 15.488-21.269333 15.850667-34.88a53.717333 53.717333 0 0 0-15.850667-39.146666l-208.597333-208.853334z"\n              p-id="2954"></path>\n          </svg>\n        </div>\n      </div>\n    '), t.innerHTML = p, css(t, 'background-color', f), css(t.querySelectorAll('svg'), 'fill', l), css(t.querySelector('.mip-shell-header-title'), 'color', l), css(t.querySelector('.mip-shell-header-logo'), 'border-color', u), css(t.querySelector('.mip-shell-header-button-group'), 'border-color', u), css(t.querySelector('.mip-shell-header-button-group .split'), 'background-color', u) } function bindHeaderEvents (r) { r.headerEventHandler = event.delegate(r.$el, '[mip-header-btn]', 'click', function (e) { let t = this.dataset.buttonName; r.handleClickHeaderButton(t) }), r.buttonEventHandler = event.delegate(r.$buttonWrapper, '[mip-header-btn]', 'click', function (e) { let t = this.dataset.buttonName; r.handleClickHeaderButton(t); let n = this.children && this.children[0]; n && n.tagName.toLowerCase() === 'a' && n.hasAttribute('mip-link') && r.toggleDropdown(!1) }); let e = document.querySelector('#mip-page-fade-header-wrapper'); e && (r.fadeHeaderEventHandler = event.delegate(e, '[mip-header-btn]', 'click', function (e) { this.dataset.buttonName === 'back' && (window.MIP_SHELL_OPTION.allowTransition = !0, window.MIP_SHELL_OPTION.isForward = !1, window.MIP.viewer.page.back()) })), r.$buttonMask && (r.$buttonMask.addEventListener('click', function () { return r.toggleDropdown(!1) }), r.$buttonMask.addEventListener('touchmove', function (e) { return e.preventDefault() }, !!supportsPassive && {passive: !1})) } function unbindHeaderEvents (e) { e.headerEventHandler && (e.headerEventHandler(), e.headerEventHandler = void 0), e.buttonEventHandler && (e.buttonEventHandler(), e.buttonEventHandler = void 0), e.fadeHeaderEventHandler && (e.fadeHeaderEventHandler(), e.fadeHeaderEventHandler = void 0) } let activeZIndex = 1e4; function switchPage (e, t) { isPortrait() && window.MIP_SHELL_OPTION.allowTransition ? t.newPage ? t.isForward ? forwardTransitionAndCreate(e, t) : backwardTransitionAndCreate(e, t) : t.isForward ? forwardTransition(e, t) : backwardTransition(e, t) : t.newPage ? skipTransitionAndCreate(e, t) : skipTransition(e, t) } function forwardTransitionAndCreate (e, t) { let n = t.sourcePageId, r = t.targetPageId, i = t.targetPageMeta, o = t.onComplete, a = getLoading(i, {transitionContainsHeader: e.transitionContainsHeader}); a.classList.add('slide-enter', 'slide-enter-active'), css(a, 'display', 'block'); let s = void 0, c = void 0; e.transitionContainsHeader || ((s = document.querySelector('.mip-shell-header-wrapper .mip-shell-header-logo-title')) && s.classList.add('fade-out'), (c = getFadeHeader(i)).classList.add('fade-enter', 'fade-enter-active'), css(c, 'display', 'block')), whenTransitionEnds(a, 'transition', function () { a.classList.remove('slide-enter-to', 'slide-enter-active'), e.transitionContainsHeader || c.classList.remove('fade-enter-to', 'fade-enter-active'), hideAllIFrames(), fixRootPageScroll(e, {sourcePageId: n, targetPageId: r}), o && o(), css(getIFrame(r), 'z-index', activeZIndex++), e.afterSwitchPage(t) }), nextFrame(function () { a.classList.add('slide-enter-to'), a.classList.remove('slide-enter'), e.transitionContainsHeader || (c.classList.add('fade-enter-to'), c.classList.remove('fade-enter')) }) } function backwardTransitionAndCreate (t, n) { let r = n.targetPageId, e = n.targetPageMeta, i = n.sourcePageId, o = n.sourcePageMeta, a = n.onComplete, s = 0; fixRootPageScroll(t, {targetPageId: r}), r === window.MIP.viewer.page.pageId && (s = t.rootPageScrollPosition); let c = getIFrame(i); if (!c) { document.documentElement.classList.add('mip-no-scroll'), window.MIP.viewer.page.getElementsInRootPage().forEach(function (e) { return e.classList.add('hide') }), a && a(); let l = getIFrame(r); return l && (activeZIndex -= 2, css(l, 'z-index', activeZIndex++)), void t.afterSwitchPage(n) } let u = getLoading(o, {onlyHeader: !0, transitionContainsHeader: t.transitionContainsHeader}), d = void 0, f = void 0; t.transitionContainsHeader ? css(u, 'display', 'block') : ((d = document.querySelector('.mip-shell-header-wrapper .mip-shell-header-logo-title')) && d.classList.add('fade-out'), css(f = getFadeHeader(e, o), 'display', 'block')), c.classList.add('slide-leave', 'slide-leave-active'), t.transitionContainsHeader ? u.classList.add('slide-leave', 'slide-leave-active') : f.classList.add('fade-enter', 'fade-enter-active'), css(c, {opacity: 1, top: s + 'px'}), whenTransitionEnds(c, 'transition', function () { css(c, {display: 'none', 'z-index': 1e4, top: 0}), c.classList.remove('slide-leave-to', 'slide-leave-active'), t.transitionContainsHeader ? (u.classList.remove('slide-leave-to', 'slide-leave-active'), css(u, 'display', 'none')) : f.classList.remove('fade-enter-to', 'fade-enter'), a && a(); let e = getIFrame(r); e && (activeZIndex -= 2, css(e, 'z-index', activeZIndex++)), t.afterSwitchPage(n) }), nextFrame(function () { c.classList.add('slide-leave-to'), c.classList.remove('slide-leave'), t.transitionContainsHeader ? (u.classList.add('slide-leave-to'), u.classList.remove('slide-leave')) : (f.classList.add('fade-enter-to'), f.classList.remove('fade-enter')) }) } function forwardTransition (e, t) { let n = t.sourcePageId, r = t.targetPageId, i = t.targetPageMeta, o = t.onComplete, a = getIFrame(r), s = 0; n === window.MIP.viewer.page.pageId && (s = e.rootPageScrollPosition), css(a, {display: 'block', opacity: 1, 'z-index': activeZIndex++, top: s + 'px'}), a.classList.add('slide-enter', 'slide-enter-active'); let c = void 0, l = void 0; e.transitionContainsHeader || ((c = document.querySelector('.mip-shell-header-wrapper .mip-shell-header-logo-title')) && c.classList.add('fade-out'), (l = getFadeHeader(i)).classList.add('fade-enter', 'fade-enter-active'), css(l, 'display', 'block')), whenTransitionEnds(a, 'transition', function () { a.classList.remove('slide-enter-to', 'slide-enter-active'), e.transitionContainsHeader || l.classList.remove('fade-enter-to', 'fade-enter-active'), hideAllIFrames(), fixRootPageScroll(e, {sourcePageId: n, targetPageId: r}), css(a, 'top', 0), o && o(), e.afterSwitchPage(t) }), nextFrame(function () { a.classList.add('slide-enter-to'), a.classList.remove('slide-enter'), e.transitionContainsHeader || (l.classList.add('fade-enter-to'), l.classList.remove('fade-enter')) }) } function backwardTransition (e, t) { let n = t.targetPageId, r = t.targetPageMeta, i = t.sourcePageId, o = t.sourcePageMeta, a = t.onComplete, s = getIFrame(n); s && (activeZIndex -= 2, css(s, {opacity: 1, display: 'block', 'z-index': activeZIndex++})); let c = 0; fixRootPageScroll(e, {targetPageId: n}), n === window.MIP.viewer.page.pageId && (c = e.rootPageScrollPosition); let l = getIFrame(i); if (!l) return document.documentElement.classList.add('mip-no-scroll'), window.MIP.viewer.page.getElementsInRootPage().forEach(function (e) { return e.classList.add('hide') }), a && a(), void e.afterSwitchPage(t); let u = getLoading(o, {onlyHeader: !0, transitionContainsHeader: e.transitionContainsHeader}), d = void 0, f = void 0; e.transitionContainsHeader ? css(u, 'display', 'block') : ((d = document.querySelector('.mip-shell-header-wrapper .mip-shell-header-logo-title')) && d.classList.add('fade-out'), css(f = getFadeHeader(r, o), 'display', 'block')), l.classList.add('slide-leave', 'slide-leave-active'), e.transitionContainsHeader ? u.classList.add('slide-leave', 'slide-leave-active') : f.classList.add('fade-enter', 'fade-enter-active'), css(l, {opacity: 1, top: c + 'px'}), whenTransitionEnds(l, 'transition', function () { css(l, {display: 'none', 'z-index': 1e4, top: 0}), l.classList.remove('slide-leave-to', 'slide-leave-active'), e.transitionContainsHeader ? (u.classList.remove('slide-leave-to', 'slide-leave-active'), css(u, 'display', 'none')) : f.classList.remove('fade-enter-to', 'fade-enter'), a && a(), e.afterSwitchPage(t) }), nextFrame(function () { l.classList.add('slide-leave-to'), l.classList.remove('slide-leave'), e.transitionContainsHeader ? (u.classList.add('slide-leave-to'), u.classList.remove('slide-leave')) : (f.classList.add('fade-enter-to'), f.classList.remove('fade-enter')) }) } function skipTransitionAndCreate (e, t) { let n = t.sourcePageId, r = t.targetPageId, i = t.onComplete; hideAllIFrames(), fixRootPageScroll(e, {sourcePageId: n, targetPageId: r}), i && i(), css(getIFrame(r), 'z-index', activeZIndex++), e.afterSwitchPage(t) } function skipTransition (e, t) { skipTransitionAndCreate(e, t) } function fixRootPageScroll (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.sourcePageId, r = t.targetPageId, i = window.MIP.viewer.page; n === i.pageId && (document.documentElement.classList.add('mip-no-scroll'), i.getElementsInRootPage().forEach(function (e) { return e.classList.add('hide') })), r === i.pageId && (document.documentElement.classList.remove('mip-no-scroll'), i.getElementsInRootPage().forEach(function (e) { return e.classList.remove('hide') }), e.restoreScrollPosition()) } let innerBodyHeight = void 0, innerBodyFreezeTime = void 0; function render (t, e, n) { let r = window.MIP.viewer.page; if (t.resizeAllPages(), isSameRoute(e, n, !0))r.emitEventInCurrentPage({name: CUSTOM_EVENT_SCROLL_TO_ANCHOR, data: n.hash}); else { let i = r.getPageById(r.currentPageId), o = getFullPath(n), a = getCleanPageId(o), s = r.getPageById(a), c = getIFrame(a), l = !!s && s.isRootPage, u = fn.extend(!0, {}, t.findMetaByPageId(a)); t.priorTitle = n.meta.header && n.meta.header.title, document.title = u.header.title = n.meta.header ? n.meta.header.title || u.header.title || n.meta.header.defaultTitle : u.header.title; let d = void 0; d = !u.view.isIndex && window.MIP_SHELL_OPTION.isForward, t.togglePageMask(!1, {skipTransition: !0}), t.toggleTransition(!1), t.slideHeader('down'), t.pauseBouncyHeader = !0; let f = {targetPageId: a, targetPageMeta: u, sourcePageId: r.currentPageId, sourcePageMeta: i.pageMeta, isForward: d}; if (r.currentPageId === r.pageId && t.saveScrollPosition(), !(l || c && s) || n.meta && n.meta.reload && !n.meta.cacheFirst) { r.pageId === a && (r.pageId = NON_EXISTS_PAGE_ID, r.getElementsInRootPage().forEach(function (e) { return e.parentNode && e.parentNode.removeChild(e) })), s || r.checkIfExceedsMaxPageNum(a); let p = {pageId: a, pageMeta: u, fullpath: o, standalone: window.MIP.standalone, isRootPage: !1, isCrossOrigin: n.origin !== window.location.origin}, h = !1, v = void 0; innerBodyFreezeTime = innerBodyHeight = 0; let m = function () { if (!p.isCrossOrigin && platform.isAndroid()) var n = v.contentWindow.document, r = 0, i = ((e = document.createElement('div')).classList.add('hack-for-android-scroll-mask'), document.body.appendChild(e), e), o = setInterval(function () { r++; let e, t = n.body.clientHeight; n.body.clientHeight !== innerBodyHeight ? (innerBodyHeight = t, innerBodyFreezeTime = 0, css(e = i, {opacity: '0.01', display: 'block'}), setTimeout(function () { css(e, {display: 'none', opacity: ''}) }, 20)) : innerBodyFreezeTime++, (innerBodyFreezeTime >= 10 || r >= 20) && clearInterval(o) }, 500); let e }; (platform.isQQ() || platform.isQQApp()) && (v = createIFrame(p, {onLoad: m}), p.targetWindow = v.contentWindow, h = !0, window.MIP_SHELL_OPTION.allowTransition = !1), r.addChild(p), f.newPage = !0, t.beforeSwitchPage(f), f.onComplete = function () { t.currentPageMeta = u, window.MIP_SHELL_OPTION.allowTransition = !1, window.MIP_SHELL_OPTION.isForward = !0, h || (v = createIFrame(p, {onLoad: m}), p.targetWindow = v.contentWindow), css(v, {display: 'block', opacity: 1}), t.toggleTransition(!0), t.pauseBouncyHeader = !1; let e = document.querySelector('mip-shell') || document.querySelector('[mip-shell]'); e && window.MIP.viewer.eventAction.execute('active', e, {}), r.emitEventInCurrentPage({name: CUSTOM_EVENT_HIDE_PAGE}), r.currentPageId = a, r.emitEventInCurrentPage({name: CUSTOM_EVENT_SHOW_PAGE}) }, switchPage(t, f) } else (platform.isQQ() || platform.isQQApp()) && (window.MIP_SHELL_OPTION.allowTransition = !1), t.transitionContainsHeader && t.refreshShell({pageMeta: u}), (s.isPrerender || c && c.getAttribute('prerender') === '1') && (f.isPrerender = !0, c.contentWindow.postMessage({name: window.name, event: MESSAGE_PAGE_ACTIVE}, '*'), s.isPrerender = !1, c.removeAttribute('prerender'), a === r.pageId && (r.pageId = NON_EXISTS_PAGE_ID, r.getElementsInRootPage().forEach(function (e) { return e.parentNode && e.parentNode.removeChild(e) }))), f.newPage = !1, f.cacheFirst = n.meta && n.meta.cacheFirst, t.beforeSwitchPage(f), f.onComplete = function () { t.currentPageMeta = u, window.MIP_SHELL_OPTION.allowTransition = !1, window.MIP_SHELL_OPTION.isForward = !0, window.MIP.$recompile(), css(c, {display: 'block', opacity: 1}), t.transitionContainsHeader ? css(t.$loading, 'display', 'none') : t.refreshShell({pageMeta: u}), t.toggleTransition(!0), t.pauseBouncyHeader = !1; let e = document.querySelector('mip-shell') || document.querySelector('[mip-shell]'); e && window.MIP.viewer.eventAction.execute('active', e, {}), r.emitEventInCurrentPage({name: CUSTOM_EVENT_HIDE_PAGE}), r.currentPageId = a, r.emitEventInCurrentPage({name: CUSTOM_EVENT_SHOW_PAGE}) }, switchPage(t, f) } } let supportsPushState = window.history && 'pushState' in window.history, Time = window.performance && window.performance.now ? window.performance : Date, _key = genKey(); function genKey () { return Time.now().toFixed(3) } function pushState (t, n) { let e = window.history; try { n ? e.replaceState({key: _key}, '', t) : (_key = genKey(), e.pushState({key: _key}, '', t)) } catch (e) { window.MIP.standalone && window.location[n ? 'replace' : 'assign'](t) } } function replaceState (e) { pushState(e, !0) } let HTML5History = (function () { function t (e) { let n = this; classCallCheck(this, t), this.router = e, this.current = START, this.cb = null; let r = getLocation(); window.addEventListener('popstate', function (e) { let t = getLocation(); n.current === START && t === r || n.transitionTo(t) }) } return createClass(t, [{key: 'listen', value: function (e) { this.cb = e }}, {key: 'go', value: function (e) { window.history.go(e) }}, {key: 'push', value: function (e, t) { t ? pushState(e) : this.transitionTo(e, function (e) { pushState(e.fullPath) }) }}, {key: 'replace', value: function (e, t) { t ? replaceState(e) : this.transitionTo(e, function (e) { replaceState(e.fullPath) }) }}, {key: 'getCurrentLocation', value: function () { return getLocation() }}, {key: 'transitionTo', value: function (e, t) { let n = normalizeLocation(e, this.current); platform.isAndroid() && (platform.isQQ() || platform.isQQApp()) ? (t && t(n), this.updateRoute(n)) : (this.updateRoute(n), t && t(n)) }}, {key: 'updateRoute', value: function (e) { let t = this.current; this.current = e, this.cb && this.cb(t, e) }}]), t }()), Router = (function () { function t () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; classCallCheck(this, t), this.options = e, this.history = new HTML5History(this) } return createClass(t, [{key: 'init', value: function () { let e = this.history, t = e.getCurrentLocation(); e.transitionTo(t) }}, {key: 'listen', value: function (e) { this.history.listen(e) }}, {key: 'push', value: function (e, t) { window.MIP.standalone ? this.history.push(e, t) : this.history.replace(e, t) }}, {key: 'replace', value: function (e, t) { this.history.replace(e, t) }}, {key: 'go', value: function (e) { window.MIP.standalone ? this.history.go(e) : window.MIP.viewer.sendMessage(OUTER_MESSAGE_HISTORY_NAVIGATE, {step: e}) }}, {key: 'back', value: function () { this.go(-1) }}, {key: 'forward', value: function () { this.go(1) }}]), t }()), viewer$1 = null, page = null, isHeaderShown = !1; window.MIP_PAGE_META_CACHE = Object.create(null), window.MIP_SHELL_CONFIG = null; let MipShell = (function (e) { function o () { let e; classCallCheck(this, o); for (var t = arguments.length, n = Array(t), r = 0; r < t; r++)n[r] = arguments[r]; let i = possibleConstructorReturn(this, (e = o.__proto__ || Object.getPrototypeOf(o)).call.apply(e, [this].concat(n))); return i.messageHandlers = [], i.alwaysReadConfigOnLoad = !0, i.alwaysUseTitleInShellConfig = !1, i.transitionContainsHeader = !0, i.ignoreWarning = !1, i } return inherits(o, CustomElement), createClass(o, [{key: 'build', value: function () { let t = this; viewer$1 = window.MIP.viewer, page = viewer$1.page; let e = this.element.querySelector('script[type="application/json"]'), n = void 0; if (e) try { void 0 !== (n = JSON.parse(e.textContent.toString()) || {}).alwaysReadConfigOnLoad && (this.alwaysReadConfigOnLoad = n.alwaysReadConfigOnLoad), void 0 !== n.transitionContainsHeader && (this.transitionContainsHeader = n.transitionContainsHeader), void 0 !== n.ignoreWarning && (this.ignoreWarning = n.ignoreWarning), n.routes || (!this.ignoreWarning && console.warn('\u68c0\u6d4b\u5230 MIP Shell \u914d\u7f6e\u6ca1\u6709\u5305\u542b `routes` \u6570\u7ec4\uff0cMIP \u5c06\u81ea\u52a8\u751f\u6210\u4e00\u6761\u9ed8\u8ba4\u7684\u8def\u7531\u914d\u7f6e\u3002'), n.routes = [{pattern: '*', meta: DEFAULT_SHELL_CONFIG}]) } catch (e) { !this.ignoreWarning && console.warn('\u68c0\u6d4b\u5230\u683c\u5f0f\u975e\u6cd5\u7684 MIP Shell \u914d\u7f6e\uff0cMIP \u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u914d\u7f6e\u4ee3\u66ff\u3002'), n = {routes: [{pattern: '*', meta: DEFAULT_SHELL_CONFIG}]} } else !this.ignoreWarning && console.warn('\u6ca1\u6709\u68c0\u6d4b\u5230 MIP Shell \u914d\u7f6e\uff0cMIP \u5c06\u4f7f\u7528\u9ed8\u8ba4\u7684\u914d\u7f6e\u4ee3\u66ff\u3002'), n = {routes: [{pattern: '*', meta: DEFAULT_SHELL_CONFIG}]}; if (page.isRootPage) { n.routes.forEach(function (e) { !t.ignoreWarning && checkRouteConfig(e), e.meta = fn.extend(!0, {}, DEFAULT_SHELL_CONFIG, e.meta || {}), e.regexp = convertPatternToRegexp(e.pattern || '*'), e.meta.header.title || (e.meta.header.title = (document.querySelector('title') || {}).innerHTML || '') }), this.processShellConfig(n), window.MIP_SHELL_CONFIG = n.routes; let r = this.element.children, i = [].slice.call(r).slice(1, r.length); i.length > 0 && i.forEach(function (e) { e.setAttribute('mip-shell-inner', ''), document.body.appendChild(e) }) } else { let o = page.pageId, a = void 0; if (page.isCrossOrigin)n.routes.forEach(function (e) { !t.ignoreWarning && checkRouteConfig(e), e.meta = fn.extend(!0, {}, DEFAULT_SHELL_CONFIG, e.meta || {}), e.regexp = convertPatternToRegexp(e.pattern || '*'), e.meta.header.title || (e.meta.header.title = (document.querySelector('title') || {}).innerHTML || ''), e.regexp.test(o) && (a = window.MIP_PAGE_META_CACHE[o] = e.meta) }), window.MIP_SHELL_CONFIG = n.routes, window.MIP_PAGE_META_CACHE = Object.create(null); else if (this.alwaysReadConfigOnLoad) { a = DEFAULT_SHELL_CONFIG; for (let s = 0; s < n.routes.length; s++) { let c = n.routes[s]; if (!this.ignoreWarning && checkRouteConfig(c), c.regexp = convertPatternToRegexp(c.pattern || '*'), c.regexp.test(o)) { c.meta = fn.extend(!0, {}, DEFAULT_SHELL_CONFIG, c.meta || {}), c.meta.header.title || (c.meta.header.title = (document.querySelector('title') || {}).innerHTML || ''), this.processShellConfigInLeaf(n, s), a = window.parent.MIP_PAGE_META_CACHE[o] = c.meta; break } } }a || (a = this.findMetaByPageId(o)), page.emitCustomEvent(window.parent, page.isCrossOrigin, {name: 'mipShellEvents', data: {type: 'updateShell', data: {pageMeta: a}}}) } }}, {key: 'prerenderAllowed', value: function () { return !0 }}, {key: 'firstInviewCallback', value: function () { this.currentPageMeta = this.findMetaByPageId(page.pageId), page.isRootPage && (page.pageMeta = this.currentPageMeta, this.initShell(), this.initRouter(), this.bindRootEvents()), this.bindAllEvents() }}, {key: 'disconnectedCallback', value: function () { page.isRootPage && this.unbindHeaderEvents() }}, {key: 'initShell', value: function () { let e = this; this.$wrapper = document.createElement('mip-fixed'), this.$wrapper.setAttribute('type', 'top'), this.$wrapper.classList.add('mip-shell-header-wrapper'), this.currentPageMeta.header && this.currentPageMeta.header.show ? isHeaderShown = !0 : (this.$wrapper.classList.add('hide'), isHeaderShown = !1), this.$el = document.createElement('div'), this.$el.classList.add('mip-shell-header', 'transition'), this.renderHeader(this.$el), this.$wrapper.insertBefore(this.$el, this.$wrapper.firstChild), document.body.insertBefore(this.$wrapper, document.body.firstChild), this.renderOtherParts(); let t = createMoreButtonWrapper(this.currentPageMeta.header.buttonGroup), n = t.mask, r = t.buttonWrapper; this.$buttonMask = n, this.$buttonWrapper = r, this.$pageMask = createPageMask(), this.$loading = createLoading(this.currentPageMeta), setTimeout(function () { e.renderOtherPartsAsync() }, 0) }}, {key: 'initRouter', value: function () { let i = new Router(); i.init(), i.listen(this.render.bind(this)), this.router = i, viewer$1.onMessage('changeState', function (e) { let t = e.url; i.replace(makeCacheUrl(t, 'url', !0)) }), viewer$1.onMessage(OUTER_MESSAGE_CHANGE_STATE, function (e) { let t = e.url; i.replace(makeCacheUrl(t, 'url', !0)) }), window.MIP_SHELL_OPTION = {allowTransition: !1, isForward: !0}, this.messageHandlers.push(function (e, t) { if (e === MESSAGE_ROUTER_PUSH) { if (t.options.allowTransition && (window.MIP_SHELL_OPTION.allowTransition = !0), t.options.skipRender) { let n = {url: parseCacheUrl(t.route)}; viewer$1.sendMessage(OUTER_MESSAGE_PUSH_STATE, n) }i.push(t.route, t.options.skipRender) } else if (e === MESSAGE_ROUTER_REPLACE) { if (t.options.allowTransition && (window.MIP_SHELL_OPTION.allowTransition = !0), t.options.skipRender) { let r = {url: parseCacheUrl(t.route)}; viewer$1.sendMessage(OUTER_MESSAGE_REPLACE_STATE, r) }i.replace(t.route, t.options.skipRender) } else e === MESSAGE_ROUTER_BACK ? (window.MIP_SHELL_OPTION.allowTransition = !0, window.MIP_SHELL_OPTION.isForward = !1, i.back()) : e === MESSAGE_ROUTER_FORWARD && (window.MIP_SHELL_OPTION.allowTransition = !0, i.forward()) }) }}, {key: 'bindRootEvents', value: function () { let i = this; this.currentViewportHeight = viewport.getHeight(), this.currentViewportWidth = viewport.getWidth(), this.messageHandlers.push(function (e, t) { e === MESSAGE_BROADCAST_EVENT ? page.broadcastCustomEvent(t) : e === MESSAGE_PAGE_RESIZE && i.resizeAllPages() }); setInterval(function () { let e = viewport.getHeight(); i.currentViewportHeight !== e && (i.currentViewportWidth = viewport.getWidth(), i.currentViewportHeight = e, i.resizeAllPages()) }, 250), window.addEventListener('mipShellEvents', function (e) { let t = e.detail[0], n = t.type, r = t.data; switch (n) { case 'updateShell':i.refreshShell({pageMeta: r.pageMeta}); break; case 'slide':i.slideHeader(r.direction); break; case 'togglePageMask':i.togglePageMask(r.toggle, r.options); break; case 'toggleDropdown':i.toggleDropdown(r.toggle); break; case 'toggleTransition':i.toggleTransition(r.toggle) } }), this.bindHeaderEvents(), window.MIP.viewer.eventAction.execute('active', this.element, {}) }}, {key: 'render', value: function (e, t) { render(this, e, t) }}, {key: 'renderHeader', value: function (e) { renderHeader(this, e) }}, {key: 'saveScrollPosition', value: function () { this.rootPageScrollPosition = viewport.getScrollTop() }}, {key: 'restoreScrollPosition', value: function () { viewport.setScrollTop(this.rootPageScrollPosition) }}, {key: 'resizeAllPages', value: function () { let t = this; Array.prototype.slice.call(document.querySelectorAll('.mip-page__iframe')).forEach(function (e) { e.style.height = t.currentViewportHeight + 'px' }), page.broadcastCustomEvent({name: CUSTOM_EVENT_RESIZE_PAGE, data: {height: this.currentViewportHeight}}) }}, {key: 'bindHeaderEvents', value: function () { bindHeaderEvents(this) }}, {key: 'unbindHeaderEvents', value: function () { unbindHeaderEvents(this) }}, {key: 'handleClickHeaderButton', value: function (e) { e === 'back' ? (window.MIP_SHELL_OPTION.allowTransition = !0, window.MIP_SHELL_OPTION.isForward = !1, page.back()) : e === 'more' ? this.toggleDropdown(!0) : e === 'close' ? window.MIP.viewer.sendMessage(OUTER_MESSAGE_CLOSE) : e === 'cancel' && this.toggleDropdown(!1), this.handleShellCustomButton(e), page.emitEventInCurrentPage({name: 'shell-header:click-' + e}) }}, {key: 'refreshShell', value: function () { let e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.pageMeta, r = t.pageId, i = t.asyncRefresh; if (this.unbindHeaderEvents(), r && (n = this.findMetaByPageId(r)), (this.currentPageMeta = n).header && n.header.show) { this.toggleTransition(!1), window.innerHeight, this.slideHeader('down'), window.innerHeight, this.toggleTransition(!0), i ? (toggleFadeHeader(!0, n), setTimeout(function () { e.renderHeader(e.$el), toggleFadeHeader(!1), e.bindHeaderEvents() }, 350)) : (this.renderHeader(this.$el), css(this.$loading, 'display', 'none')), this.updateOtherParts(); let o = createMoreButtonWrapper(n.header.buttonGroup, {update: !0}), a = o.mask, s = o.buttonWrapper; if (this.$buttonMask = a, this.$buttonWrapper = s, this.$wrapper.classList.remove('hide'), !i) { if (!this.transitionContainsHeader) { let c = this.$el.querySelector('.mip-shell-header-logo-title'); c && c.classList.remove('fade-out'), toggleFadeHeader(!1) } this.bindHeaderEvents() } } else if (this.$wrapper.classList.add('hide'), css(this.$loading, 'display', 'none'), !this.transitionContainsHeader) { let l = this.$el.querySelector('.mip-shell-header-logo-title'); l && l.classList.remove('fade-out'), toggleFadeHeader(!1) } }}, {key: 'slideHeader', value: function (e) { this.pauseBouncyHeader || (e === 'up' ? this.$el.classList.add('slide-up') : this.$el.classList.remove('slide-up')) }}, {key: 'toggleDropdown', value: function (e) { toggleInner(this.$buttonMask, e), toggleInner(this.$buttonWrapper, e, {transitionName: 'slide'}) }}, {key: 'togglePageMask', value: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.skipTransition, r = t.extraClass; isHeaderShown && (r && (e ? this.$pageMask.classList.add(r) : this.$pageMask.classList.remove(r)), toggleInner(this.$pageMask, e, {skipTransition: n})) }}, {key: 'toggleDOM', value: function (e, t, n) { toggleInner(e, t, n) }}, {key: 'toggleTransition', value: function (e) { e ? this.$el.classList.add('transition') : this.$el.classList.remove('transition') }}, {key: 'bindAllEvents', value: function () { let n = this; 'scrollRestoration' in window.history && (window.history.scrollRestoration = 'manual'); let e = this.currentPageMeta.header, t = e.show, r = e.bouncy; t && document.body.classList.add('with-header'), r && page.setupBouncyHeader(), this.messageHandlers.push(function (e, t) { e === MESSAGE_CROSS_ORIGIN && customEmit(window, t.name, t.data) }), window.addEventListener('message', function (t) { try { n.messageHandlers.forEach(function (e) { e.call(n, t.data.type, t.data.data || {}) }) } catch (t) {} }, !1) }}, {key: 'updateShellConfig', value: function (e) { page.isRootPage && (window.MIP_SHELL_CONFIG = e.routes, window.MIP_PAGE_META_CACHE = Object.create(null), page.notifyRootPage({type: 'set-mip-shell-config', data: {shellConfig: e.routes, update: !0}})) }}, {key: 'findMetaByPageId', value: function (e) { let t = void 0; if ((t = page.isRootPage || page.isCrossOrigin ? window : window.parent).MIP_PAGE_META_CACHE[e]) return t.MIP_PAGE_META_CACHE[e]; for (let n = 0; n < t.MIP_SHELL_CONFIG.length; n++) { let r = t.MIP_SHELL_CONFIG[n]; if (r.regexp.test(e)) return t.MIP_PAGE_META_CACHE[e] = r.meta, r.meta } return console.warn('Cannot find MIP Shell Config for current page. Use default instead.'), Object.assign({}, DEFAULT_SHELL_CONFIG) }}, {key: 'processShellConfig', value: function (e) {}}, {key: 'processShellConfigInLeaf', value: function (e, t) {}}, {key: 'handleShellCustomButton', value: function (e) {}}, {key: 'renderOtherParts', value: function () {}}, {key: 'renderOtherPartsAsync', value: function () {}}, {key: 'updateOtherParts', value: function () {}}, {key: 'showHeaderCloseButton', value: function () { return !0 }}, {key: 'beforeSwitchPage', value: function (e) {}}, {key: 'afterSwitchPage', value: function (e) {}}]), o }()), MipFixed = (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, CustomElement), createClass(t, [{key: 'connectedCallback', value: function () { let e = window.MIP.viewer, t = window.MIP.util.platform; if (!this.element.getAttribute('mipdata-fixedidx')) { let n = !this.element.hasAttribute('still') && t.isIos() && e.isIframed; e.fixedElement.setFixedElement([this.element], n) } }}]), t }()), builtinComponents = {register: function () { registerElement('mip-pix', MipPix), registerElement('mip-img', MipImg), registerElement('mip-rem', MipRem), registerElement('mip-carousel', MIPCarousel), registerElement('mip-iframe', MipIframe), registerElement('mip-video', MipVideo), registerElement('mip-fixed', MipFixed), new Bind(), registerElement('mip-data', MipData), registerElement('mip-shell', MipShell) }}, SleepWakeModule = (function () { function e () { classCallCheck(this, e), this._domObj = {}, this._isAlreadyWake = {} } return createClass(e, [{key: 'init', value: function () { let e = ''; try { let t = document.querySelector('#mip-sleep-wake-module'); e = JSON.parse(t.textContent) } catch (e) { return } if (e) for (let n in this._initConf('||', e), e) this._stateChange(n, !0) }}, {key: '_initConf', value: function (e, t) { for (let n in e = e || '||', t) { let r = t[n].split(e), i = r.length; this._domObj[n] = []; for (let o = 0; o < i; o++) try { let a = o, s = document.querySelector(r[o]), c = {par: s.parentNode, cln: 'mip-sleep-wake-textarea-' + n + '-' + a}; s.setAttribute('data-cln', c.cln), this._domObj[n].push(c) } catch (e) { continue } } }}, {key: 'wake', value: function (e) { this._stateChange(e), this._close(e) }}, {key: 'reset', value: function (e) { this._isAlreadyWake[e] = 0 }}, {key: '_close', value: function (e) { this._isAlreadyWake[e] = 1 }}, {key: '_stateChange', value: function (e, t) { if (e) { let n = this._domObj[e]; if (n) { let r = n.length; if (!(r < 1)) for (let i = 0; i < r; i++) { let o = n[i]; if (t && !this._isAlreadyWake[e]) { let a = o.par && o.cln ? o.par.querySelector('[data-cln=' + o.cln + ']') : null, s = document.createElement('textarea'); if (a && a.tagName.toLowerCase() === 'textarea') continue; if (!a) continue; s.textContent = a.outerHTML, s.style.display = 'none', s.setAttribute('data-cln', o.cln), a.outerHTML = s.outerHTML } if (!t && !this._isAlreadyWake[e]) { let c = o.par; if (c) { let l = c.querySelector('[data-cln=' + o.cln + ']'); l && l.tagName.toLowerCase() === 'textarea' && (l.outerHTML = l.textContent) } } } } } }}]), e }()), sleepWakeModule = new SleepWakeModule(), CACHED_ATTR = '_mip_template_cached', Template = (function () { function e () { classCallCheck(this, e) } return createClass(e, [{key: 'cache', value: function () {}}, {key: 'render', value: function () {}}]), e }()), Templates = (function () { function e () { classCallCheck(this, e), this._templates = {}, this._solverList = {}, this.Template = Template } return createClass(e, [{key: '_create', value: function (e) { if (!this._templates[e]) { let t = void 0; this._templates[e] = new Promise(function (resolve) { t = e }), this._solverList[e] = t } return this._templates[e] }}, {key: '_getTemplate', value: function (e) { return this._create(e) }}, {key: 'register', value: function (e, t) { this._create(e), (0, this._solverList[e])(new t()) }}, {key: 'isTemplateClass', value: function (e) { return !(!e || !e.prototype) && Template.prototype.isPrototypeOf(e.prototype) }}, {key: 'render', value: function (e, n, r) { let i = this, o = this.find(e); if (o) { let t = o.getAttribute('type'), a = o.innerHTML; return this._getTemplate(t).then(function (t) { return o[CACHED_ATTR] || (o[CACHED_ATTR] = !0, t.cache(a)), n = i.extendFun(n), Array.isArray(n) ? n.length === 0 ? Promise.resolve([]) : n.map(function (e) { return t.render(a, e) }) : r ? {element: e, html: t.render(a, n)} : t.render(a, n) }) } }}, {key: 'find', value: function (e) { if (!e || e.nodeType !== 1) return console.error('Template parent element must be a node element'); let t = e.getAttribute('template'); return (t ? document.getElementById(t) : e.querySelector('template')) || console.error('Can not find template element') }}, {key: 'extendFun', value: function (e) { try { e.escape2Html = function () { return function (e, t) { return t(e).replace(/&lt;/gi, '<').replace(/&gt;/gi, '>').replace(/&#x2F;/gi, '/') } }, e.isSF = function () { return this.urltype === 'sf' } } catch (e) {} return e }}, {key: 'inheritTemplate', value: function () { return (function (e) { function t () { return classCallCheck(this, t), possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return inherits(t, Template), t }()) }}]), e }()), templates = new Templates(), define$1, require, esl; !(function (f) { function d (e, t) { h(e, t) || (F[e] = Math.max(F[e] || 0, t)) } function e (e, t) { function n (e) { e.indexOf('.') === 0 && r.push(e) } var r = []; if (typeof e === 'string' ? n(e) : M(e, function (e) { n(e) }), r.length > 0) throw new Error('[REQUIRE_FATAL]Relative ID is not allowed in global require: ' + r.join(', ')); let i = W.waitSeconds; return i && e instanceof Array && (N && clearTimeout(N), N = setTimeout(o, 1e3 * i)), B(e, t) } function o () { function r (e, t) { if (!c[e] && !h(e, H)) { c[e] = 1; let n = R[e]; n ? (t || !h(e, $) || n.hang) && (a[e] || (a[e] = 1, i.push(e)), M(n.depMs, function (e) { r(e.absId, e.hard) })) : s[e] || (s[e] = 1, o.push(e)) } } var i = [], o = [], a = {}, s = {}, c = {}; for (let e in F)F[e] >= H && r(e, 1); if (i.length || o.length) throw new Error('[MODULE_TIMEOUT]Hang: ' + (i.join(', ') || 'none') + '; Miss: ' + (o.join(', ') || 'none')) } function c (e) { M(q, function (t) { M(e, function (e) { s(e, t.deps, t.factory) }) }), q.length = 0 } function a (e, t, n) { if (n == null && (t == null ? (n = e, e = null) : (n = t, t = null, e instanceof Array && (t = e, e = null))), n != null) { let r, i = window.opera; if (!e && document.attachEvent && (!i || i.toString() !== '[object Opera]')) { let o = (function () { if (re) return re; if (ie && ie.readyState === 'interactive') return ie; for (let e = document.getElementsByTagName('script'), t = e.length; t--;) { let n = e[t]; if (n.readyState === 'interactive') return ie = n } }()); r = o && J[o.getAttribute('data-src')] }e ? s(e, t, n) : r ? M(r, function (e) { s(e, t, n) }) : q[0] = {deps: t, factory: n} } } function l () { let e = W.config[this.id]; return e && (void 0 === e ? 'undefined' : _typeof(e)) == 'object' ? e : {} } function s (e, t, n) { R[e] || (R[e] = {id: e, depsDec: t, deps: t || ['require', 'exports', 'module'], factoryDeps: [], factory: n, exports: {}, config: l, state: 0, require: r(e), depMs: [], depMkv: {}, depRs: [], hang: 0}, y(e, j)) } function u (a) { let i, o, s, c = R[a]; if (c && !h(a, D)) { let r = c.deps, e = c.factory, l = 0; typeof e === 'function' && (l = Math.min(e.length, r.length), !c.depsDec && e.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm, '').replace(/require\(\s*(['"])([^'"]+)\1\s*\)/g, function (e, t, n) { r.push(n) })); let u = [], d = []; M(r, function (e, t) { let n, r, i = P(e), o = x(i.mod, a); o && !V[o] ? (i.res && (r = {id: e, mod: o, res: i.res}, d.push(e), c.depRs.push(r)), (n = c.depMkv[o]) || (n = {id: i.mod, absId: o, hard: t < l}, c.depMs.push(n), c.depMkv[o] = n, u.push(o))) : n = {absId: o}, t < l && c.factoryDeps.push(r || n) }), y(a, D), (s = R[i = a]).invokeFactory = function () { if (!o && s.state === $) { let n = o = 1; if (M(s.factoryDeps, function (e) { let t = e.absId; return V[t] ? void 0 : (v(t), n = h(t, H)) }), n) { try { let e = s.factory, t = typeof e === 'function' ? e.apply(f, m(s.factoryDeps, {require: s.require, exports: s.exports, module: s})) : e; t != null && (s.exports = t), s.invokeFactory = null } catch (e) { if (/^\[MODULE_MISS\]"([^"]+)/.test(e.message)) { let r = s.depMkv[RegExp.$1]; return r && (r.hard = 1), void (o = 0) } throw s.hang = 1, e }b(i) } } }, E(u), d.length && c.require(d, function () { M(c.depRs, function (e) { e.absId || (e.absId = x(e.id, a)) }), p() }) } } function p () { for (let e in F) { let t = F[e]; $ <= t && (u(e), n(e)), H <= t && v(e) } } function n (e) { let i = {}; !(function t (e) { if (u(e), !h(e, D)) return !1; if (h(e, $) || i[e]) return !0; i[e] = 1; let n = R[e], r = !0; return M(n.depMs, function (e) { r = t(e.absId) && r }), r && M(n.depRs, function (e) { return r = !!e.absId }), r && (y(e, $), i[e] = 0), r }(e)) } function h (e, t) { return R[e] && R[e].state >= t } function v (e) { let t = R[e]; t && t.invokeFactory && t.invokeFactory() } function m (e, n) { let r = []; return M(e, function (e, t) { (void 0 === e ? 'undefined' : _typeof(e)) == 'object' && (e = e.absId), r[t] = n[e] || R[e].exports }), r } function g (e, t, n) { if (h(e, t))n(); else { let r = X[t][e]; r || (r = X[t][e] = []), r.push(n) } } function y (e, t) { if (!h(e, t)) { let n = R[e]; n.state = t; let r = X[t][e]; X[t][e] = null, M(r, function (e) { e() }); let i = W[X[t][':hook']]; typeof i === 'function' && i(n.id, n.deps, n.factory), M((r = G[e]) && r[t], function (e) { e(n.id, n.deps, n.factory) }) } } function b (e) { delete F[e], y(e, H) } function w (e) { return R[e] ? R[e].state : U[e] ? i : t } function E (e, n, i) { function o () { if (typeof n === 'function' && !r) { let t = 1; M(e, function (e) { return V[e] ? void 0 : t = !!h(e, H) }), t && (r = 1, n.apply(f, m(e, V))) } } var r = 0; M(e, function (t) { if (!V[t] && !h(t, H)) { g(t, H, o); let n, r = {id: t, load: function (e) { U[t] || R[t] || _(t, e) }, getModuleState: w}; U[t] || R[t] || (M(z, function (e) { return void 0 === (n = e(r, p)) }), typeof n === 'string' ? _(t, n) : !1 !== n && (t.indexOf('!') > 0 ? (function (t, e) { function n (e) { o.exports = e || !0, b(t) } let r = T(t); if (r) return _(r); var i = P(t), o = {id: t, state: D}; R[t] = o, n.fromText = function (e, t) { new Function(t)(), c([e]) }, a = B(i.mod), s = e ? R[e].require : B, a.load(i.res, s, n, l.call({id: t})); let a, s }(t, i)) : _(t))) } }), o() } function _ (e, n) { function t () { J[n] || (J[n] = []), J[n].push(e), (function (e, t, n) { function r () { let e = i.readyState; (void 0 === e || /^(loaded|complete)$/.test(e)) && (i.onload = i.onreadystatechange = null, i = null, n()) } if (!Y[e]) { Y[e] = 1; var i = document.createElement('script'); i.setAttribute('data-src', e), i.src = e, i.async = !0, i.readyState ? i.onreadystatechange = r : i.onload = r; let o = W.onNodeCreated; typeof o === 'function' && o(i, W, t, e), re = i, se ? ae.insertBefore(i, se) : ae.appendChild(i), re = null } }(n, e, function () { let t; i ? (typeof i.init === 'function' && (t = i.init.apply(f, m(o, V))), t == null && i.exports && (t = f, M(i.exports.split('.'), function (e) { return !!(t = t[e]) })), a(e, o, function () { return t || {} })) : c(J[n]); p() })) }U[e] = 1; let r = T(e) || e; n = n || k(r + '.js'); var i = W.shim[e]; i instanceof Array && (W.shim[e] = i = {deps: i}); var o = i && (i.deps || []); o ? (M(o, function (e) { W.shim[e] || (W.shim[e] = {}) }), B(o, t)) : t() } function C (e, t) { let n = []; for (let r in e)e.hasOwnProperty(r) && n.push({k: r, v: e[r], reg: r === '*' && t ? /^/ : I(r)}); return n.sort(L), n } function S () { function e (e) { e instanceof RegExp ? te.push([e, a]) : ee[O(e)] = x(a) }W.baseUrl = W.baseUrl.replace(/\/$/, '') + '/', Z = C(W.paths), M(Q = C(W.map, 1), function (e) { e.v = C(e.v) }); let t = Q[Q.length - 1]; t && t.k === '*' && M(Q, function (e) { e !== t && (e.v = e.v.concat(t.v)) }); let n = {}, r = W.packages.length; for (K = []; r--;) { var i, o = W.packages[r]; switch (void 0 === o ? 'undefined' : _typeof(o)) { case 'string':i = {name: o.split('/')[0], location: o}; break; case 'object':i = {name: o.name, location: o.location, main: o.main} }n[i.name] || (n[i.name] = 1, i.location = i.location || i.name, i.main = (i.main || 'main').replace(/\.js$/i, ''), i.reg = I(i.name), K.push(i)) } for (var a in K.sort(L), ne = C(W.urlArgs, 1), ee = {}, te = [], W.bundles)M(W.bundles[a], e) } function T (t) { let n = ee[t]; return n || M(te, function (e) { return e[0].test(t) ? (n = e[1], !1) : void 0 }), n } function A (t, e, n) { M(e, function (e) { return e.reg.test(t) ? (n(e.v, e.k, e), !1) : void 0 }) } function k (e, t) { let n = /(\.[a-z0-9]+)$/i, r = /(\?[^#]*)$/, i = '', o = e, a = ''; r.test(e) && (a = RegExp.$1, e = e.replace(r, '')), n.test(e) && (i = RegExp.$1, o = e.replace(n, '')), t != null && (o = x(o, t)); let s, c = o; return A(o, Z, function (e, t) { c = c.replace(t, e), s = 1 }), s || A(o, K, function (e, t, n) { c = c.replace(n.name, n.location) }), /^([a-z]{2,10}:\/)?\//i.test(c) || (c = W.baseUrl + c), c += i + a, A(o, ne, function (e) { c += (c.indexOf('?') > 0 ? '&' : '?') + e }), c } function r (u) { function o (e, s) { let c = [], l = []; return M(e, function (e, t) { let n = P(e), r = x(n.mod, u), i = n.res, o = r; if (i) { let a = r + '!' + i; i.indexOf('.') !== 0 && T(a) ? r = o = a : o = null }l[t] = o, d(r, s), c.push(r) }), {mods: c, ids: l} } function e (n, e) { if (typeof n === 'string') { if (!i[n]) { let t = x(n, u); if (v(t), !h(t, H)) throw new Error('[MODULE_MISS]"' + t + '" is not exists!'); i[n] = R[t].exports } return i[n] } if (n instanceof Array) { let r = o(n, H); E(r.mods, function () { M(r.ids, function (e, t) { e == null && d(e = r.ids[t] = x(n[t], u), H) }), E(r.ids, e, u), p() }, u), p() } } var i = {}; return e.toUrl = function (e) { return k(e, u || '') }, e.fetch = function (e, t) { function n () { ++r >= e.length && t() } var r = 0, i = o(e, $); M(i.mods, function (e) { g(e, $, n) }), E(i.mods), p() }, e } function x (e, t) { if (!e) return ''; t = t || ''; let n = P(e); if (!n) return e; let r = n.res, i = (function (e, t) { if (e.indexOf('.') !== 0) return e; for (var n = t.split('/').slice(0, -1).concat(e.split('/')), r = [], i = 0; i < n.length; i++) { let o = n[i]; switch (o) { case '.':break; case '..':r.length && r[r.length - 1] !== '..' ? r.pop() : r.push(o); break; default:o && r.push(o) } } return r.join('/') }(n.mod, t)); if (A(t, Q, function (e) { A(i, e, function (e, t) { i = i.replace(t, e) }) }), i = O(i), r) { let o = h(i, H) && B(i); r = o && o.normalize ? o.normalize(r, function (e) { return x(e, t) }) : x(r, t), i += '!' + r } return i } function O (n) { return M(K, function (e) { let t = e.name; return t === n ? (n = t + '/' + e.main, !1) : void 0 }), n } function P (e) { let t = e.split('!'); return t[0] ? {mod: t[0], res: t[1]} : void 0 } function I (e) { return new RegExp('^' + e + '(/|$)') } function M (e, t) { if (e instanceof Array) for (let n = 0, r = e.length; n < r && !1 !== t(e[n], n); n++); } function L (e, t) { let n = e.k || e.name, r = t.k || t.name; return r === '*' ? -1 : n === '*' ? 1 : r.length - n.length } var N, R = {}, t = -1, i = 0, j = 1, D = 2, $ = 3, H = 4, F = {}, U = {}, V = {require: e, exports: 1, module: 1}, B = r(), W = {baseUrl: './', paths: {}, config: {}, map: {}, packages: [], shim: {}, waitSeconds: 0, bundles: {}, urlArgs: {}}; e.version = '2.2.1', e.toUrl = B.toUrl, e.fetch = B.fetch, e.ModuleState = {NOT_FOUND: t, LOADING: i, PRE_DEFINED: j, ANALYZED: D, PREPARED: $, DEFINED: H}; var G = {}; e.listenModuleStateChange = function (e, t, n) { if (typeof n === 'function' && j <= t && t <= H) if (h(e, t)) { let r = R[e]; n(r.id, r.deps, r.factory) } else { let i = G[e]; i || (i = G[e] = {}), i[t] = i[t] || [], i[t].push(n) } }, e.unlistenModuleStateChange = function (e, t, n) { let r = G[e]; if (r) if (n) for (let i = r[t], o = i && i.length; o--;)i[o] === n && i.splice(o, 1); else r[t] = null }, e.undef = function (e) { delete U[e], delete R[e] }; var z = []; e.addLoader = function (e) { typeof e === 'function' && z.push(e) }, e.removeLoader = function (e) { for (let t = z.length; t--;)e === z[t] && z.splice(t, 1) }; var q = []; a.amd = {}; var X = {}; X[D] = {':hook': 'onModuleAnalyzed'}, X[H] = {':hook': 'onModuleDefined'}, X[j] = {':hook': 'onModulePreDefined'}, X[$] = {':hook': 'onModulePrepared'}; var Y = {}, J = {}; e.config = function (e) { if (e) { for (let t in e) { let n = e[t], r = W[t]; if (t.indexOf('on') === 0)W[t] = n; else if (t === 'urlArgs' && typeof n === 'string')W.urlArgs['*'] = n; else if (r instanceof Array)r.push.apply(r, n); else if (r != null) if ((void 0 === r ? 'undefined' : _typeof(r)) == 'object') for (let i in n)r[i] = n[i]; else W[t] = n }S() } }, S(); var Z, K, Q, ee, te, ne, re, ie, oe, ae = document.getElementsByTagName('head')[0], se = document.getElementsByTagName('base')[0]; se && (ae = se.parentNode), define$1 || (define$1 = a, typeof require !== 'function' && (e.config(require), require = e), typeof esl !== 'function' && (e.config(esl), esl = e), typeof requirejs !== 'undefined' && typeof requirejs !== 'function' && e.config(requirejs)), (function () { for (let e = document.getElementsByTagName('script'), t = e.length; t--;) { let n = e[t]; if (oe = n.getAttribute('data-main')) break } }()), oe && setTimeout(function () { e([oe]) }, 4) }(window)), window.define = define$1, window.require = require, window.esl = esl; let baseElementProto = void 0; function createBaseElementProto () { if (baseElementProto) return baseElementProto; let e = Object.create(HTMLElement.prototype); return e.createdCallback = function () { let e = customElementsStore.get(this.tagName, 'mip1'); this.classList.add('mip-element'), this._inViewport = !1, this._firstInViewport = !1, this._resources = resources$1; let t = this.customElement = new e(this); t.createdCallback(), t.hasResources() && performance.addFsElement(this) }, e.attachedCallback = function () { let e = this; this.tagName, this._layout = layout.applyLayout(this), this.customElement.attachedCallback(), prerender.execute(function () { e._resources.add(e) }, this) }, e.detachedCallback = function () { this.customElement.detachedCallback(), this._resources.remove(this), performance.fsElementLoaded(this) }, e.attributeChangedCallback = function (e, t, n, r) { let i = arguments, o = this.customElement; prerender.execute(function () { o.attributeChangedCallback.apply(o, i) }, this) }, e.inViewport = function () { return this._inViewport }, e.viewportCallback = function (e) { this._inViewport = e, this._firstInViewport || (this._firstInViewport = !0, this.customElement.firstInviewCallback()), this.customElement.viewportCallback(e) }, e.isBuilt = function () { return this._built }, e.prerenderAllowed = function () { return this.customElement.prerenderAllowed() }, e.build = function () { if (!this.isBuilt()) try { this.customElement.build(), this._built = !0 } catch (e) { console.warn('build error:', e) } }, e.executeEventAction = function (e) { this.customElement.executeEventAction(e) }, e.resourcesComplete = function () { performance.fsElementLoaded(this) }, baseElementProto = e } function createMipElementProto (e) { let t = Object.create(createBaseElementProto()); return t.name = e, t } function loadCss$1 (e, t) { e && cssLoader.insertStyleElement(document, document.head, e, t, !1) } function registerElement$1 (e, t, n) { customElementsStore.get(e) || (customElementsStore.set(e, t, 'mip1'), loadCss$1(n, e), document.registerElement(e, {prototype: createMipElementProto(e)})) } function customElement (e) { this.element = e, this.init && this.init() }customElement.prototype.applyFillContent = function (e, t) { e.classList.add('mip-fill-content'), t && e.classList.add('mip-replaced-content') }, customElement.prototype.createdCallback = function () {}, customElement.prototype.attachedCallback = function () {}, customElement.prototype.detachedCallback = function () {}, customElement.prototype.attributeChangedCallback = function () {}, customElement.prototype.firstInviewCallback = function () {}, customElement.prototype.viewportCallback = function () {}, customElement.prototype.prerenderAllowed = function () { return !1 }, customElement.prototype.hasResources = function () { return !1 }, customElement.prototype.build = function () {}, customElement.prototype.expendAttr = function (e, t) { for (let n = 0; n < e.length; n++) { let r = e[n]; if (this.element.hasAttribute(r)) { let i = this.element.getAttribute(r); t.setAttribute ? t.setAttribute(r, i) : t[r] = i } } return t }, customElement.prototype.addEventAction = function () { let e = this._actionEvent; e || (e = this._actionEvent = new EventEmitter()).setEventContext(this), e.on.apply(e, arguments) }, customElement.prototype.executeEventAction = function (e) { let t = this._actionEvent; e && t && t.trigger(e.handler, e.event, e.arg) }, customElement.prototype.resourcesComplete = function () { this.element.resourcesComplete() }; let customElement$1 = {create: function () { function e (e) { customElement.call(this, e) } return e.prototype = Object.create(customElement.prototype), e }}; function install (e) { Object.assign(e, {registerMipElement: function (e, t, n) { templates.isTemplateClass(t) ? templates.register(e, t) : registerElement$1(e, t, n) }}) }window.require.config({paths: {'searchbox/openjs/aio': '//m.baidu.com/static/searchbox/openjs/aio.js?v=201606', jquery: '//c.mipcdn.com/static/deps/jquery', zepto: '//c.mipcdn.com/static/deps/zepto'}}), window.define('util', function () { return util }), window.define('viewer', function () { return viewer }), window.define('viewport', function () { return viewport }), window.define('templates', function () { return templates }), window.define('customElement', function () { return customElement$1 }), window.define('performance', function () { return performance }), window.define('utils/customStorage', function () { return util.customStorage }), window.define('fetch-jsonp', function () { return window.fetchJsonp }), window.define('fixed-element', function () { return fixedElement }), window.define('hash', function () { return hash }), window.define('dom/event', function () { return util.event }), window.define('mip', function () { return window.MIP }), window.define('naboo', function () { return util.naboo }), window.define('dom/css-loader', function () { return cssLoader }), window.define('dom/css', function () { return util.css }), window.define('dom/dom', function () { return util.dom }), window.define('dom/rect', function () { return util.rect }), window.define('utils/event-action', function () { return EventAction }), window.define('utils/event-emitter', function () { return util.EventEmitter }), window.define('utils/fn', function () { return util.fn }), window.define('utils/platform', function () { return util.platform }), window.define('utils/gesture', function () { return util.Gesture }); let ls = {data: {}, sendLog: function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; e && (t.type = e, this.data.event = 'log', this.data.data = t || {}, window !== window.top && window.parent.postMessage(this.data, '*')) }}, coreTags = ['mip-carousel', 'mip-iframe', 'mip-img', 'mip-pix', 'mip-video', 'mip-access', 'mip-accordion', 'mip-ad', 'mip-analytics', 'mip-anim', 'mip-app-banner', 'mip-appdl', 'mip-audio', 'mip-bind', 'mip-custom', 'mip-experiment', 'mip-filter', 'mip-fixed', 'mip-form', 'mip-gototop', 'mip-history', 'mip-infinitescroll', 'mip-install-serviceworker', 'mip-lightbox', 'mip-link', 'mip-list', 'mip-login-done', 'mip-map', 'mip-mustache', 'mip-nav-slidedown', 'mip-sample', 'mip-semi-fixed', 'mip-share', 'mip-showmore', 'mip-sidebar', 'mip-stats-baidu', 'mip-stats-bidu', 'mip-stats-cnzz', 'mip-vd-baidu', 'mip-vd-tabs'], RATE = 0.1, tags = void 0; function errorHandler () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).rate || RATE, n = e.filename || ''; if (n) { let r = e.message || '', i = e.lineno || '', o = e.colno || 0; if (/(c\.mipcdn|mipcache\.bdstatic)\.com\/static/.test(n)) { let a = (/\/(mip-.+)\//g.exec(n) || [])[1] || '', s = Math.random() <= t; if (tags.indexOf(a) > -1 && s) { let c = {file: n, msg: r, ln: i, col: o || window.event && window.event.errorCharacter || 0, href: window.location.href}; setTimeout(function () { return ls.sendLog('mip-stability', c) }, 0) } } } } function install$1 () { window.removeEventListener('error', errorHandler), window.addEventListener('error', errorHandler) }Array.isArray(coreTags) || (tags = []), tags = coreTags.filter(function () { return !!(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '').trim() }); let mip = {}; if (void 0 === window.MIP || void 0 === window.MIP.version) { install$1(); let pageMeta = void 0, pageMetaConfirmed = !1; try { pageMeta = JSON.parse(window.name), pageMetaConfirmed = !0 } catch (e) { pageMeta = {standalone: !1, isRootPage: !0, isCrossOrigin: !1} } let standalone = void 0; if (pageMetaConfirmed)standalone = pageMeta.standalone; else { try { standalone = pageMeta.standalone || !viewer.isIframed || void 0 !== window.top.MIP } catch (e) { standalone = !1 }pageMeta.standalone = standalone } let push = function (e) { return typeof e.func === 'function' && e.func() }; mip = {version: '2', registerVueCustomElement: registerVueCustomElement, registerCustomElement: registerElement, CustomElement: CustomElement, util: util, viewer: viewer, viewport: viewport, hash: util.hash, standalone: standalone, css: {}, push: push, performance: performance, templates: templates, prerenderElement: resources$1.prerenderElement, builtinComponents: {MipShell: MipShell, MIPShell: MipShell}}, viewport.init(), install(mip), util.dom.waitDocumentReady(function () { sleepWakeModule.init(); let e = window.MIP || []; window.MIP = mip, window.MIP.sandbox = sandboxGenerate(), viewer.pageMeta = pageMeta, viewer.init(); let t = Array.prototype.slice.call(document.getElementsByClassName('mip-hidden')), n = /mip-/i; t.forEach(function (e) { return e.tagName.search(n) > -1 && layout.applyLayout(e) }), builtinComponents.register(), e.forEach(function (e) { return typeof e.func === 'function' && e.func() }), performance.start(window._mipStartTiming), performance.on('update', function (e) { viewer.sendMessage(OUTER_MESSAGE_PERFORMANCE_UPDATE, e) }), viewer.show(), util.customStorage(2).delExceedCookie() }) } }))
