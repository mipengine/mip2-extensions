<!DOCTYPE html>
<html mip>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <title>MIP page</title>
  <link rel="canonical" href="对应的原页面地址">
  <link rel="stylesheet" href="https://c.mipcdn.com/static/v2/mip.css">
  <style>
    mip-lightbox {
      padding: 10px;
    }

    #btn-open,
    .lightbox-close {
      border: 1px solid #f1f1f1;
      border-radius: 5px;
      padding: 10px 20px;
      margin: 20px 0;
      font-size: 14px;
      background: #fff;
      display: block;
      box-sizing: border-box;
    }

    .lightbox {
      padding: 10px;
      background: white;
    }

    .lightbox p {
      margin: 80px 0;
      display: block;
    }

    .placeholder{
      width:100%;
      height:150px;
      border-bottom: 1px solid #aaa;
    }

    .absolute-style {
      padding: 20px;
      background: yellow;
      box-sizing: border-box;
      opacity: 0.8;
    }
    p {
      text-align: left;
      font-size: 18px;
      margin-top: 20px;
      color: green;
    }

    .fixed-active {
      background: orange;
      opacity: 1;
    }

  </style>
</head>

<h2>timeout 事件打开/关闭 mip-lightbox</h2>
<mip-data>
    <script type="application/json">
    {
        "status": "2s 后打开 lightbox, 4s 后关闭 lightbox"
    }
    </script>
</mip-data>

<mip-date-countdown timeleft-ms="2000" when-ended="stop" on="timeout:MIP.setData({status:''}), timeout:my-lightbox.open">
<template type="mip-mustache">
    <div>
    {{dd}} {{days}}, {{hh}} {{hours}}, {{mm}} {{minutes}}, {{ss}} {{seconds}}
    </div>
</template>
</mip-date-countdown>

<mip-date-countdown timeleft-ms="4000" when-ended="stop" on="timeout:MIP.setData({status:'1s 后关闭 semi-fixed'}), timeout:my-lightbox.close">
<template type="mip-mustache">
    <div>
    {{dd}} {{days}}, {{hh}} {{hours}}, {{mm}} {{minutes}}, {{ss}} {{seconds}}
    </div>
</template>
</mip-date-countdown>

<p m-text="status" style="padding-bottom: 20px"></p>

<body>
<mip-lightbox
  id="my-lightbox"
  layout="nodisplay"
  class="mip-hidden">
  <div class="lightbox">
    <h1>Hello, World!</h1>
    <p> this is the lightbox</p>
  </div>
</mip-lightbox>

<h2 style="padding-bottom: 20px">timeout 事件关闭 mip-semi-fixed</h2>

<mip-date-countdown timeleft-ms="5000" when-ended="stop" on="timeout:MIP.setData({status:''}), timeout:semi-fixed.close">
<template type="mip-mustache">
    <div>
    {{dd}} {{days}}, {{hh}} {{hours}}, {{mm}} {{minutes}}, {{ss}} {{seconds}}
    </div>
</template>
</mip-date-countdown>

<mip-semi-fixed id="semi-fixed" fixed-class-names="fixed-active">
<div mip-semi-fixed-container class="absolute-style">
    semi-fixed
</div>
</mip-semi-fixed>

<div class="placeholder">小毛驴滴滴答答，</div>
<div class="placeholder">倚天剑伴我走天涯。 </div>
<div class="placeholder">大家都说我因为爱着杨过大侠，</div>
<div class="placeholder">才在峨眉山上出了家， </div>
<div class="placeholder">其实我只是爱上了峨眉山上的云和霞，</div>
<div class="placeholder">像极了十六岁那年的烟花。</div>

<!-- <button on="tap:semi-fixed.close"> close </button> -->

<script src="https://c.mipcdn.com/static/v2/mip.js"></script>
<script src="/mip-date-countdown/mip-date-countdown.js"></script>
<script src="/mip-lightbox/mip-lightbox.js"></script>
<script src="/mip-semi-fixed/mip-semi-fixed.js"></script>
</body>
</html>
